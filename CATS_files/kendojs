function SmartUnLoading(){$(".divMessageBox").fadeOut(300,function(){$(this).remove()});$(".LoadingBoxContainer").fadeOut(300,function(){$(this).remove()})}function getInternetExplorerVersion(){var n=-1,t,i;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=i.exec(t)&&(n=parseFloat(RegExp.$1))),n}function checkVersion(){var n="You're not using Windows Internet Explorer.",t=getInternetExplorerVersion();t>-1&&(n=t>=8?"You're using a recent copy of Windows Internet Explorer.":"You should upgrade your copy of Windows Internet Explorer.");alert(n)}function isIE8orlower(){var n="0",t=getInternetExplorerVersion();return t>-1&&(n=t>=9?0:1),n}function FastClick(n){var i,t=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0,this.layer=n,!n||!n.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(t,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(t,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(t,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(t,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(t,arguments)};FastClick.notNeeded(n)||(this.deviceIsAndroid&&(n.addEventListener("mouseover",this.onMouse,!0),n.addEventListener("mousedown",this.onMouse,!0),n.addEventListener("mouseup",this.onMouse,!0)),n.addEventListener("click",this.onClick,!0),n.addEventListener("touchstart",this.onTouchStart,!1),n.addEventListener("touchend",this.onTouchEnd,!1),n.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(n.removeEventListener=function(t,i,r){var u=Node.prototype.removeEventListener;"click"===t?u.call(n,t,i.hijacked||i,r):u.call(n,t,i,r)},n.addEventListener=function(t,i,r){var u=Node.prototype.addEventListener;"click"===t?u.call(n,t,i.hijacked||(i.hijacked=function(n){n.propagationStopped||i(n)}),r):u.call(n,t,i,r)}),"function"==typeof n.onclick&&(i=n.onclick,n.addEventListener("click",function(n){i(n)},!1),n.onclick=null))}var commands,BigBoxes,TabUtil,AdministrationData,DocumentData,TaskManagerData,ReportData,Configuration,Notification,MasterUIContainers,Security;!function(n,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){function ui(n){var t=n.length,r=i.type(n);return"function"===r||i.isWindow(n)?!1:1===n.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in n}function fi(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if("string"==typeof t){if(ef.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return et.call(t,n)>=0!==r})}function ur(n,t){while((n=n[t])&&1!==n.nodeType);return n}function of(n){var t=ei[n]={};return i.each(n.match(c)||[],function(n,i){t[i]=!0}),t}function ct(){u.removeEventListener("DOMContentLoaded",ct,!1);n.removeEventListener("load",ct,!1);i.ready()}function p(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=i.expando+Math.random()}function fr(n,t,r){var u;if(void 0===r&&1===n.nodeType)if(u="data-"+t.replace(hf,"-$1").toLowerCase(),r=n.getAttribute(u),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:sf.test(r)?i.parseJSON(r):r}catch(f){}e.set(n,t,r)}else r=void 0;return r}function at(){return!0}function g(){return!1}function hr(){try{return u.activeElement}catch(n){}}function vr(n,t){return i.nodeName(n,"table")&&i.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function bf(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function kf(n){var t=pf.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function oi(n,t){for(var i=0,u=n.length;u>i;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function yr(n,t){var u,c,f,s,h,l,a,o;if(1===t.nodeType){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),o=s.events)){delete h.handle;h.events={};for(f in o)for(u=0,c=o[f].length;c>u;u++)i.event.add(t,f,o[f][u])}e.hasData(n)&&(l=e.access(n),a=i.extend({},l),e.set(t,a))}}function o(n,t){var r=n.getElementsByTagName?n.getElementsByTagName(t||"*"):n.querySelectorAll?n.querySelectorAll(t||"*"):[];return void 0===t||t&&i.nodeName(n,t)?i.merge([n],r):r}function df(n,t){var i=t.nodeName.toLowerCase();"input"===i&&er.test(n.type)?t.checked=n.checked:("input"===i||"textarea"===i)&&(t.defaultValue=n.defaultValue)}function pr(t,r){var f,u=i(r.createElement(t)).appendTo(r.body),e=n.getDefaultComputedStyle&&(f=n.getDefaultComputedStyle(u[0]))?f.display:i.css(u[0],"display");return u.detach(),e}function hi(n){var r=u,t=si[n];return t||(t=pr(n,r),"none"!==t&&t||(vt=(vt||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=vt[0].contentDocument,r.write(),r.close(),t=pr(n,r),vt.detach()),si[n]=t),t}function rt(n,t,r){var e,o,s,u,f=n.style;return r=r||yt(n),r&&(u=r.getPropertyValue(t)||r[t]),r&&(""!==u||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),ci.test(u)&&wr.test(t)&&(e=f.width,o=f.minWidth,s=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=e,f.minWidth=o,f.maxWidth=s)),void 0!==u?u+"":u}function br(n,t){return{get:function(){return n()?void delete this.get:(this.get=t).apply(this,arguments)}}}function gr(n,t){if(t in n)return t;for(var r=t[0].toUpperCase()+t.slice(1),u=t,i=dr.length;i--;)if(t=dr[i]+r,t in n)return t;return u}function nu(n,t,i){var r=ne.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function tu(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+w[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+w[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+w[e]+"Width",!0,f))):(o+=i.css(n,"padding"+w[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+w[e]+"Width",!0,f)));return o}function iu(n,t,r){var o=!0,u="width"===t?n.offsetWidth:n.offsetHeight,e=yt(n),s="border-box"===i.css(n,"boxSizing",!1,e);if(0>=u||null==u){if(u=rt(n,t,e),(0>u||null==u)&&(u=n.style[t]),ci.test(u))return u;o=s&&(f.boxSizingReliable()||u===n.style[t]);u=parseFloat(u)||0}return u+tu(n,t,r||(s?"border":"content"),o,e)+"px"}function ru(n,t){for(var e,u,s,o=[],f=0,h=n.length;h>f;f++)u=n[f],u.style&&(o[f]=r.get(u,"olddisplay"),e=u.style.display,t?(o[f]||"none"!==e||(u.style.display=""),""===u.style.display&&it(u)&&(o[f]=r.access(u,"olddisplay",hi(u.nodeName)))):(s=it(u),"none"===e&&s||r.set(u,"olddisplay",s?e:i.css(u,"display"))));for(f=0;h>f;f++)u=n[f],u.style&&(t&&"none"!==u.style.display&&""!==u.style.display||(u.style.display=t?o[f]||"":"none"));return n}function s(n,t,i,r,u){return new s.prototype.init(n,t,i,r,u)}function fu(){return setTimeout(function(){nt=void 0}),nt=i.now()}function bt(n,t){var r,u=0,i={height:n};for(t=t?1:0;4>u;u+=2-t)r=w[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function eu(n,t,i){for(var u,f=(ut[t]||[]).concat(ut["*"]),r=0,e=f.length;e>r;r++)if(u=f[r].call(i,t,n))return u}function fe(n,t,u){var f,a,p,v,o,w,h,b,l=this,y={},s=n.style,c=n.nodeType&&it(n),e=r.get(n,"fxshow");u.queue||(o=i._queueHooks(n,"fx"),null==o.unqueued&&(o.unqueued=0,w=o.empty.fire,o.empty.fire=function(){o.unqueued||w()}),o.unqueued++,l.always(function(){l.always(function(){o.unqueued--;i.queue(n,"fx").length||o.empty.fire()})}));1===n.nodeType&&("height"in t||"width"in t)&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],h=i.css(n,"display"),b="none"===h?r.get(n,"olddisplay")||hi(n.nodeName):h,"inline"===b&&"none"===i.css(n,"float")&&(s.display="inline-block"));u.overflow&&(s.overflow="hidden",l.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]}));for(f in t)if(a=t[f],re.exec(a)){if(delete t[f],p=p||"toggle"===a,a===(c?"hide":"show")){if("show"!==a||!e||void 0===e[f])continue;c=!0}y[f]=e&&e[f]||i.style(n,f)}else h=void 0;if(i.isEmptyObject(y))"inline"===("none"===h?hi(n.nodeName):h)&&(s.display=h);else{e?"hidden"in e&&(c=e.hidden):e=r.access(n,"fxshow",{});p&&(e.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;r.remove(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(f in y)v=eu(c?e[f]:0,f,l),f in e||(e[f]=v.start,c&&(v.end=v.start,v.start="width"===f||"height"===f?1:0))}}function ee(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ou(n,t,r){var h,e,o=0,l=wt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(e)return!1;for(var s=nt||fu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,o=u.tweens.length;o>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&o?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:nt||fu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(e)return this;for(e=!0;r>i;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),s=u.props;for(ee(s,u.opts.specialEasing);l>o;o++)if(h=wt[o].call(u,n,s,u.opts))return h;return i.map(s,eu,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function pu(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(c)||[];if(i.isFunction(r))while(u=e[f++])"+"===u[0]?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function wu(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===li;return e(t.dataTypes[0])||!f["*"]&&e("*")}function ai(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function ae(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return(f!==r[0]&&r.unshift(f),i[f])}function ve(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function vi(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||pe.test(n)?u(n,i):vi(n+"["+("object"==typeof i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)vi(n+"["+f+"]",t[f],r,u)}function ku(n){return i.isWindow(n)?n:9===n.nodeType&&n.defaultView}var k=[],a=k.slice,bi=k.concat,ii=k.push,et=k.indexOf,ot={},nf=ot.toString,ri=ot.hasOwnProperty,f={},u=n.document,ki="2.1.1",i=function(n,t){return new i.fn.init(n,t)},tf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rf=/^-ms-/,uf=/-([\da-z])/gi,ff=function(n,t){return t.toUpperCase()},y,st,nr,tr,ir,rr,c,ei,ht,l,d,vt,si,oe,su,tt,hu,kt,cu,dt,gt,yi,ti,pi,wi,du,gu;i.fn=i.prototype={jquery:ki,constructor:i,selector:"",length:0,toArray:function(){return a.call(this)},get:function(n){return null!=n?0>n?this[n+this.length]:this[n]:a.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ii,sort:k.sort,splice:k.splice};i.extend=i.fn.extend=function(){var e,f,r,t,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[u]||{},u++),"object"==typeof n||i.isFunction(n)||(n={}),u===c&&(n=this,u--);c>u;u++)if(null!=(e=arguments[u]))for(f in e)r=n[f],t=e[f],n!==t&&(h&&t&&(i.isPlainObject(t)||(o=i.isArray(t)))?(o?(o=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):void 0!==t&&(n[f]=t));return n};i.extend({expando:"jQuery"+(ki+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray,isWindow:function(n){return null!=n&&n===n.window},isNumeric:function(n){return!i.isArray(n)&&n-parseFloat(n)>=0},isPlainObject:function(n){return"object"!==i.type(n)||n.nodeType||i.isWindow(n)?!1:n.constructor&&!ri.call(n.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(n){var t;for(t in n)return!1;return!0},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?ot[nf.call(n)]||"object":typeof n},globalEval:function(n){var t,r=eval;n=i.trim(n);n&&(1===n.indexOf("use strict")?(t=u.createElement("script"),t.text=n,u.head.appendChild(t).parentNode.removeChild(t)):r(n))},camelCase:function(n){return n.replace(rf,"ms-").replace(uf,ff)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=ui(n);if(i){if(e){for(;f>r;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;f>r;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:function(n){return null==n?"":(n+"").replace(tf,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(ui(Object(n))?i.merge(r,"string"==typeof n?[n]:n):ii.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:et.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;u>i;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;e>r;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=ui(n),f=[];if(o)for(;e>r;r++)u=t(n[r],r,i),null!=u&&f.push(u);else for(r in n)u=t(n[r],r,i),null!=u&&f.push(u);return bi.apply([],f)},guid:1,proxy:function(n,t){var u,f,r;return"string"==typeof t&&(u=n[t],t=n,n=u),i.isFunction(n)?(f=a.call(arguments,2),r=function(){return n.apply(t||this,f.concat(a.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r):void 0},now:Date.now,support:f});i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ot["[object "+t+"]"]=t.toLowerCase()});y=function(n){function r(n,t,i,r){var w,h,c,v,k,y,d,l,nt,g;if((t?t.ownerDocument||t:s)!==e&&p(t),t=t||e,i=i||[],!n||"string"!=typeof n)return i;if(1!==(v=t.nodeType)&&9!==v)return[];if(a&&!r){if(w=sr.exec(n))if(c=w[1]){if(9===v){if(h=t.getElementById(c),!h||!h.parentNode)return i;if(h.id===c)return i.push(h),i}else if(t.ownerDocument&&(h=t.ownerDocument.getElementById(c))&&ot(t,h)&&h.id===c)return i.push(h),i}else{if(w[2])return b.apply(i,t.getElementsByTagName(n)),i;if((c=w[3])&&u.getElementsByClassName&&t.getElementsByClassName)return b.apply(i,t.getElementsByClassName(c)),i}if(u.qsa&&(!o||!o.test(n))){if(l=d=f,nt=t,g=9===v&&n,1===v&&"object"!==t.nodeName.toLowerCase()){for(y=et(n),(d=t.getAttribute("id"))?l=d.replace(hr,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",k=y.length;k--;)y[k]=l+yt(y[k]);nt=gt.test(n)&&ii(t.parentNode)||t;g=y.join(",")}if(g)try{return b.apply(i,nt.querySelectorAll(g)),i}catch(tt){}finally{d||t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,i,r)}function ni(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function h(n){return n[f]=!0,n}function c(n){var t=e.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ti(n,i){for(var u=n.split("|"),r=n.length;r--;)t.attrHandle[u[r]]=i}function wi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&(~t.sourceIndex||ai)-(~n.sourceIndex||ai);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function cr(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function tt(n){return h(function(t){return t=+t,h(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ii(n){return n&&typeof n.getElementsByTagName!==ut&&n}function bi(){}function yt(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function ri(n,t,i){var r=t.dir,u=i&&"parentNode"===r,e=ki++;return t.first?function(t,i,f){while(t=t[r])if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,o){var s,h,c=[v,e];if(o){while(t=t[r])if((1===t.nodeType||u)&&n(t,i,o))return!0}else while(t=t[r])if(1===t.nodeType||u){if(h=t[f]||(t[f]={}),(s=h[r])&&s[0]===v&&s[1]===e)return c[2]=s[2];if(h[r]=c,c[2]=n(t,i,o))return!0}}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function ar(n,t,i){for(var u=0,f=t.length;f>u;u++)r(n,t[u],i);return i}function pt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),h(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||ar(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?k:pt(k,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=pt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt.call(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=pt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function ei(n){for(var s,u,r,o=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=ri(function(n){return n===s},c,!0),a=ri(function(n){return nt.call(s,n)>-1},c,!0),e=[function(n,t,i){return!h&&(i||t!==ct)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];o>i;i++)if(u=t.relative[n[i].type])e=[ri(ui(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;o>r;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(e),i>1&&yt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(at,"$1"),u,r>i&&ei(n.slice(i,r)),o>r&&ei(n=n.slice(r)),o>r&&yt(n))}e.push(u)}return ui(e)}function vr(n,i){var u=i.length>0,f=n.length>0,o=function(o,s,h,c,l){var y,d,w,k=0,a="0",g=o&&[],p=[],nt=ct,tt=o||f&&t.find.TAG("*",l),it=v+=null==nt?1:Math.random()||.1,rt=tt.length;for(l&&(ct=s!==e&&s);a!==rt&&null!=(y=tt[a]);a++){if(f&&y){for(d=0;w=n[d++];)if(w(y,s,h)){c.push(y);break}l&&(v=it)}u&&((y=!w&&y)&&k--,o&&g.push(y))}if(k+=a,u&&a!==k){for(d=0;w=i[d++];)w(g,p,s,h);if(o){if(k>0)while(a--)g[a]||p[a]||(p[a]=gi.call(c));p=pt(p)}b.apply(c,p);l&&!o&&p.length>0&&k+i.length>1&&r.uniqueSort(c)}return l&&(v=it,ct=nt),g};return u?h(o):o}var it,u,t,ht,oi,et,wt,si,ct,y,rt,p,e,l,a,o,g,lt,ot,f="sizzle"+-new Date,s=n.document,v=0,ki=0,hi=ni(),ci=ni(),li=ni(),bt=function(n,t){return n===t&&(rt=!0),0},ut="undefined",ai=-2147483648,di={}.hasOwnProperty,w=[],gi=w.pop,nr=w.push,b=w.push,vi=w.slice,nt=w.indexOf||function(n){for(var t=0,i=this.length;i>t;t++)if(this[t]===n)return t;return-1},kt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",i="[\\x20\\t\\r\\n\\f]",ft="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",yi=ft.replace("w","w#"),pi="\\["+i+"*("+ft+")(?:"+i+"*([*^$|!~]?=)"+i+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+yi+"))|)"+i+"*\\]",dt=":("+ft+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+pi+")*)|.*)\\)|)",at=new RegExp("^"+i+"+|((?:^|[^\\\\])(?:\\\\.)*)"+i+"+$","g"),tr=new RegExp("^"+i+"*,"+i+"*"),ir=new RegExp("^"+i+"*([>+~]|"+i+")"+i+"*"),rr=new RegExp("="+i+"*([^\\]'\"]*?)"+i+"*\\]","g"),ur=new RegExp(dt),fr=new RegExp("^"+yi+"$"),vt={ID:new RegExp("^#("+ft+")"),CLASS:new RegExp("^\\.("+ft+")"),TAG:new RegExp("^("+ft.replace("w","w*")+")"),ATTR:new RegExp("^"+pi),PSEUDO:new RegExp("^"+dt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+i+"*(even|odd|(([+-]|)(\\d*)n|)"+i+"*(?:([+-]|)"+i+"*(\\d+)|))"+i+"*\\)|)","i"),bool:new RegExp("^(?:"+kt+")$","i"),needsContext:new RegExp("^"+i+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+i+"*((?:-\\d)?\\d*)"+i+"*\\)|)(?=[^-]|$)","i")},er=/^(?:input|select|textarea|button)$/i,or=/^h\d$/i,st=/^[^{]+\{\s*\[native \w/,sr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,hr=/'|\\/g,k=new RegExp("\\\\([\\da-f]{1,6}"+i+"?|("+i+")|.)","ig"),d=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{b.apply(w=vi.call(s.childNodes),s.childNodes);w[s.childNodes.length].nodeType}catch(yr){b={apply:w.length?function(n,t){nr.apply(n,vi.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}u=r.support={};oi=r.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1};p=r.setDocument=function(n){var v,r=n?n.ownerDocument||n:s,h=r.defaultView;return r!==e&&9===r.nodeType&&r.documentElement?(e=r,l=r.documentElement,a=!oi(r),h&&h!==h.top&&(h.addEventListener?h.addEventListener("unload",function(){p()},!1):h.attachEvent&&h.attachEvent("onunload",function(){p()})),u.attributes=c(function(n){return n.className="i",!n.getAttribute("className")}),u.getElementsByTagName=c(function(n){return n.appendChild(r.createComment("")),!n.getElementsByTagName("*").length}),u.getElementsByClassName=st.test(r.getElementsByClassName)&&c(function(n){return n.innerHTML="<div class='a'><\/div><div class='a i'><\/div>",n.firstChild.className="i",2===n.getElementsByClassName("i").length}),u.getById=c(function(n){return l.appendChild(n).id=f,!r.getElementsByName||!r.getElementsByName(f).length}),u.getById?(t.find.ID=function(n,t){if(typeof t.getElementById!==ut&&a){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},t.filter.ID=function(n){var t=n.replace(k,d);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(k,d);return function(n){var i=typeof n.getAttributeNode!==ut&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=u.getElementsByTagName?function(n,t){if(typeof t.getElementsByTagName!==ut)return t.getElementsByTagName(n)}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=u.getElementsByClassName&&function(n,t){if(typeof t.getElementsByClassName!==ut&&a)return t.getElementsByClassName(n)},g=[],o=[],(u.qsa=st.test(r.querySelectorAll))&&(c(function(n){n.innerHTML="<select msallowclip=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowclip^='']").length&&o.push("[*^$]="+i+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+i+"*(?:value|"+kt+")");n.querySelectorAll(":checked").length||o.push(":checked")}),c(function(n){var t=r.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+i+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(u.matchesSelector=st.test(lt=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.oMatchesSelector||l.msMatchesSelector))&&c(function(n){u.disconnectedMatch=lt.call(n,"div");lt.call(n,"[s!='']:x");g.push("!=",dt)}),o=o.length&&new RegExp(o.join("|")),g=g.length&&new RegExp(g.join("|")),v=st.test(l.compareDocumentPosition),ot=v||st.test(l.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},bt=v?function(n,t){if(n===t)return rt=!0,0;var i=!n.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,1&i||!u.sortDetached&&t.compareDocumentPosition(n)===i?n===r||n.ownerDocument===s&&ot(s,n)?-1:t===r||t.ownerDocument===s&&ot(s,t)?1:y?nt.call(y,n)-nt.call(y,t):0:4&i?-1:1)}:function(n,t){if(n===t)return rt=!0,0;var i,u=0,o=n.parentNode,h=t.parentNode,f=[n],e=[t];if(!o||!h)return n===r?-1:t===r?1:o?-1:h?1:y?nt.call(y,n)-nt.call(y,t):0;if(o===h)return wi(n,t);for(i=n;i=i.parentNode;)f.unshift(i);for(i=t;i=i.parentNode;)e.unshift(i);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===s?-1:e[u]===s?1:0},r):e};r.matches=function(n,t){return r(n,null,null,t)};r.matchesSelector=function(n,t){if((n.ownerDocument||n)!==e&&p(n),t=t.replace(rr,"='$1']"),!(!u.matchesSelector||!a||g&&g.test(t)||o&&o.test(t)))try{var i=lt.call(n,t);if(i||u.disconnectedMatch||n.document&&11!==n.document.nodeType)return i}catch(f){}return r(t,e,null,[n]).length>0};r.contains=function(n,t){return(n.ownerDocument||n)!==e&&p(n),ot(n,t)};r.attr=function(n,i){(n.ownerDocument||n)!==e&&p(n);var f=t.attrHandle[i.toLowerCase()],r=f&&di.call(t.attrHandle,i.toLowerCase())?f(n,i,!a):void 0;return void 0!==r?r:u.attributes||!a?n.getAttribute(i):(r=n.getAttributeNode(i))&&r.specified?r.value:null};r.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};r.uniqueSort=function(n){var r,f=[],t=0,i=0;if(rt=!u.detectDuplicates,y=!u.sortStable&&n.slice(0),n.sort(bt),rt){while(r=n[i++])r===n[i]&&(t=f.push(i));while(t--)n.splice(f[t],1)}return y=null,n};ht=r.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=ht(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=ht(r);return i};t=r.selectors={cacheLength:50,createPseudo:h,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(k,d),n[3]=(n[3]||n[4]||n[5]||"").replace(k,d),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||r.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&r.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&ur.test(t)&&(i=et(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(k,d).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+i+")"+n+"("+i+"|$)"))&&hi(n,function(n){return t.test("string"==typeof n.className&&n.className||typeof n.getAttribute!==ut&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(u){var f=r.attr(u,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),e="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var a,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),a=k[n]||[],y=a[0]===v&&a[1],l=a[0]===v&&a[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){k[n]=[v,y,l];break}}else if(d&&(a=(t[f]||(t[f]={}))[n])&&a[0]===v)l=a[1];else while(c=++y&&c&&c[b]||(l=y=0)||w.pop())if((e?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++l&&(d&&((c[f]||(c[f]={}))[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,u=t.pseudos[n]||t.setFilters[n.toLowerCase()]||r.error("unsupported pseudo: "+n);return u[f]?u(i):u.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?h(function(n,t){for(var r,f=u(n,i),e=f.length;e--;)r=nt.call(n,f[e]),n[r]=!(t[r]=f[e])}):function(n){return u(n,0,e)}):u}},pseudos:{not:h(function(n){var i=[],r=[],t=wt(n.replace(at,"$1"));return t[f]?h(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:h(function(n){return function(t){return r(n,t).length>0}}),contains:h(function(n){return function(t){return(t.textContent||t.innerText||ht(t)).indexOf(n)>-1}}),lang:h(function(n){return fr.test(n||"")||r.error("unsupported lang: "+n),n=n.replace(k,d).toLowerCase(),function(t){var i;do if(i=a?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===l},focus:function(n){return n===e.activeElement&&(!e.hasFocus||e.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return or.test(n.nodeName)},input:function(n){return er.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:tt(function(){return[0]}),last:tt(function(n,t){return[t-1]}),eq:tt(function(n,t,i){return[0>i?i+t:i]}),even:tt(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:tt(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:tt(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:tt(function(n,t,i){for(var r=0>i?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(it in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[it]=cr(it);for(it in{submit:!0,reset:!0})t.pseudos[it]=lr(it);return bi.prototype=t.filters=t.pseudos,t.setFilters=new bi,et=r.tokenize=function(n,i){var e,f,s,o,u,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(u=n,h=[],c=t.preFilter;u;){(!e||(f=tr.exec(u)))&&(f&&(u=u.slice(f[0].length)||u),h.push(s=[]));e=!1;(f=ir.exec(u))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),u=u.slice(e.length));for(o in t.filter)(f=vt[o].exec(u))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),u=u.slice(e.length));if(!e)break}return i?u.length:u?r.error(n):ci(n,h).slice(0)},wt=r.compile=function(n,t){var r,u=[],e=[],i=li[n+" "];if(!i){for(t||(t=et(n)),r=t.length;r--;)i=ei(t[r]),i[f]?u.push(i):e.push(i);i=li(n,vr(e,u));i.selector=n}return i},si=r.select=function(n,i,r,f){var s,e,o,l,v,c="function"==typeof n&&n,h=!f&&et(n=c.selector||n);if(r=r||[],1===h.length){if(e=h[0]=h[0].slice(0),e.length>2&&"ID"===(o=e[0]).type&&u.getById&&9===i.nodeType&&a&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(k,d),i)||[])[0],!i)return r;c&&(i=i.parentNode);n=n.slice(e.shift().value.length)}for(s=vt.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[l=o.type])break;if((v=t.find[l])&&(f=v(o.matches[0].replace(k,d),gt.test(e[0].type)&&ii(i.parentNode)||i))){if(e.splice(s,1),n=f.length&&yt(e),!n)return b.apply(r,f),r;break}}}return(c||wt(n,h))(f,i,!a,r,gt.test(n)&&ii(i.parentNode)||i),r},u.sortStable=f.split("").sort(bt).join("")===f,u.detectDuplicates=!!rt,p(),u.sortDetached=c(function(n){return 1&n.compareDocumentPosition(e.createElement("div"))}),c(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ti("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),u.attributes&&c(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ti("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),c(function(n){return null==n.getAttribute("disabled")})||ti(kt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),r}(n);i.find=y;i.expr=y.selectors;i.expr[":"]=i.expr.pseudos;i.unique=y.uniqueSort;i.text=y.getText;i.isXMLDoc=y.isXML;i.contains=y.contains;var di=i.expr.match.needsContext,gi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ef=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,u=this.length,r=[],f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;u>t;t++)if(i.contains(f[t],this))return!0}));for(t=0;u>t;t++)i.find(n,f[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(fi(this,n||[],!1))},not:function(n){return this.pushStack(fi(this,n||[],!0))},is:function(n){return!!fi(this,"string"==typeof n&&di.test(n)?i(n):n||[],!1).length}});nr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;tr=i.fn.init=function(n,t){var r,f;if(!n)return this;if("string"==typeof n){if(r="<"===n[0]&&">"===n[n.length-1]&&n.length>=3?[null,n,null]:nr.exec(n),!r||!r[1]&&t)return!t||t.jquery?(t||st).find(n):this.constructor(t).find(n);if(r[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),gi.test(r[1])&&i.isPlainObject(t))for(r in t)i.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return f=u.getElementById(r[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=u,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?"undefined"!=typeof st.ready?st.ready(n):n(i):(void 0!==n.selector&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};tr.prototype=i.fn;st=i(u);ir=/^(?:parents|prev(?:Until|All))/;rr={children:!0,contents:!0,next:!0,prev:!0};i.extend({dir:function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i}});i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;r>n;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=di.test(n)||"string"!=typeof n?i(n,t||this.context):0;o>f;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?"string"==typeof n?et.call(i(n),this[0]):et.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.unique(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return ur(n,"nextSibling")},prev:function(n){return ur(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(rr[n]||i.unique(f),ir.test(n)&&f.reverse()),this.pushStack(f)}});c=/\S+/g;ei={};i.Callbacks=function(n){n="string"==typeof n?ei[n]||of(n):i.extend({},n);var u,h,o,c,f,e,t=[],r=!n.once&&[],l=function(i){for(u=n.memory&&i,h=!0,e=c||0,c=0,f=t.length,o=!0;t&&f>e;e++)if(t[e].apply(i[0],i[1])===!1&&n.stopOnFalse){u=!1;break}o=!1;t&&(r?r.length&&l(r.shift()):u?t=[]:s.disable())},s={add:function(){if(t){var r=t.length;!function e(r){i.each(r,function(r,u){var f=i.type(u);"function"===f?n.unique&&s.has(u)||t.push(u):u&&u.length&&"string"!==f&&e(u)})}(arguments);o?f=t.length:u&&(c=r,l(u))}return this},remove:function(){return t&&i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),o&&(f>=u&&f--,e>=u&&e--)}),this},has:function(n){return n?i.inArray(n,t)>-1:!(!t||!t.length)},empty:function(){return t=[],f=0,this},disable:function(){return t=r=u=void 0,this},disabled:function(){return!t},lock:function(){return r=void 0,u||s.disable(),this},locked:function(){return!r},fireWith:function(n,i){return!t||h&&!r||(i=i||[],i=[n,i.slice?i.slice():i],o?r.push(i):l(i)),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return null!=n?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[1^n][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=a.call(arguments),r=u.length,e=1!==r||n&&i.isFunction(n.promise)?r:0,f=1===e?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?a.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);r>t;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0||(ht.resolveWith(u,[i]),i.fn.triggerHandler&&(i(u).triggerHandler("ready"),i(u).off("ready"))))}});i.ready.promise=function(t){return ht||(ht=i.Deferred(),"complete"===u.readyState?setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",ct,!1),n.addEventListener("load",ct,!1))),ht.promise(t)};i.ready.promise();l=i.access=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=null==r;if("object"===i.type(r)){f=!0;for(s in r)i.access(n,t,s,r[s],!0,e,o)}else if(void 0!==u&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;c>s;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e};i.acceptData=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};p.uid=1;p.accepts=i.acceptData;p.prototype={key:function(n){if(!p.accepts(n))return 0;var r={},t=n[this.expando];if(!t){t=p.uid++;try{r[this.expando]={value:t};Object.defineProperties(n,r)}catch(u){r[this.expando]=t;i.extend(n,r)}}return this.cache[t]||(this.cache[t]={}),t},set:function(n,t,r){var f,e=this.key(n),u=this.cache[e];if("string"==typeof t)u[t]=r;else if(i.isEmptyObject(u))i.extend(this.cache[e],t);else for(f in t)u[f]=t[f];return u},get:function(n,t){var i=this.cache[this.key(n)];return void 0===t?i:i[t]},access:function(n,t,r){var u;return void 0===t||t&&"string"==typeof t&&void 0===r?(u=this.get(n,t),void 0!==u?u:this.get(n,i.camelCase(t))):(this.set(n,t,r),void 0!==r?r:t)},remove:function(n,t){var u,r,f,o=this.key(n),e=this.cache[o];if(void 0===t)this.cache[o]={};else for(i.isArray(t)?r=t.concat(t.map(i.camelCase)):(f=i.camelCase(t),(t in e)?r=[t,f]:(r=f,r=(r in e)?[r]:r.match(c)||[])),u=r.length;u--;)delete e[r[u]]},hasData:function(n){return!i.isEmptyObject(this.cache[n[this.expando]]||{})},discard:function(n){n[this.expando]&&delete this.cache[n[this.expando]]}};var r=new p,e=new p,sf=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,hf=/([A-Z])/g;i.extend({hasData:function(n){return e.hasData(n)||r.hasData(n)},data:function(n,t,i){return e.access(n,t,i)},removeData:function(n,t){e.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var o,f,s,u=this[0],h=u&&u.attributes;if(void 0===n){if(this.length&&(s=e.get(u),1===u.nodeType&&!r.get(u,"hasDataAttrs"))){for(o=h.length;o--;)h[o]&&(f=h[o].name,0===f.indexOf("data-")&&(f=i.camelCase(f.slice(5)),fr(u,f,s[f])));r.set(u,"hasDataAttrs",!0)}return s}return"object"==typeof n?this.each(function(){e.set(this,n)}):l(this,function(t){var r,f=i.camelCase(n);if(u&&void 0===t){if((r=e.get(u,n),void 0!==r)||(r=e.get(u,f),void 0!==r)||(r=fr(u,f,void 0),void 0!==r))return r}else this.each(function(){var i=e.get(this,f);e.set(this,f,t);-1!==n.indexOf("-")&&void 0!==i&&e.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){e.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return(t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||i.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[])},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=["Top","Right","Bottom","Left"],it=function(n,t){return n=t||n,"none"===i.css(n,"display")||!i.contains(n.ownerDocument,n)},er=/^(?:checkbox|radio)$/i;!function(){var i=u.createDocumentFragment(),n=i.appendChild(u.createElement("div")),t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);f.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue}();d="undefined";f.focusinBubbles="onfocusin"in n;var cf=/^key/,lf=/^(?:mouse|pointer|contextmenu)|click/,or=/^(?:focusinfocus|focusoutblur)$/,sr=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,b,h,s,l,o,k,g,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){if(typeof i!==d&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),t=(t||"").match(c)||[""],b=t.length;b--;)w=sr.exec(t[b])||[],o=g=w[1],k=(w[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:k.join(".")},v),(l=p[o])||(l=p[o]=[],l.delegateCount=0,s.setup&&s.setup.call(n,f,k,y)!==!1||n.addEventListener&&n.addEventListener(o,y,!1)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?l.splice(l.delegateCount++,0,h):l.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var p,k,h,v,w,s,l,a,o,b,d,y=r.hasData(n)&&r.get(n);if(y&&(v=y.events)){for(t=(t||"").match(c)||[""],w=t.length;w--;)if(h=sr.exec(t[w])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),o){for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=p=a.length;p--;)s=a[p],!e&&d!==s.origType||u&&u.guid!==s.guid||h&&!h.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(p,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,y.handle)!==!1||i.removeEvent(n,o,y.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[w],u,f,!0);i.isEmptyObject(v)&&(delete y.handle,r.remove(n,"events"))}},trigger:function(t,f,e,o){var w,s,c,b,a,v,l,p=[e||u],h=ri.call(t,"type")?t.type:t,y=ri.call(t,"namespace")?t.namespace.split("."):[];if(s=c=e=e||u,3!==e.nodeType&&8!==e.nodeType&&!or.test(h+i.event.triggered)&&(h.indexOf(".")>=0&&(y=h.split("."),h=y.shift(),y.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=y.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=e),f=null==f?[t]:i.makeArray(f,[t]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(b=l.delegateType||h,or.test(b+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||u)&&p.push(c.defaultView||c.parentWindow||n)}for(w=0;(s=p[w++])&&!t.isPropagationStopped();)t.type=w>1?b:l.bindType||h,v=(r.get(s,"events")||{})[t.type]&&r.get(s,"handle"),v&&v.apply(s,f),v=a&&s[a],v&&v.apply&&i.acceptData(s)&&(t.result=v.apply(s,f),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||l._default&&l._default.apply(p.pop(),f)!==!1||!i.acceptData(e)||a&&i.isFunction(e[h])&&!i.isWindow(e)&&(c=e[a],c&&(e[a]=null),i.event.triggered=h,e[h](),i.event.triggered=void 0,c&&(e[a]=c)),t.result}},dispatch:function(n){n=i.event.fix(n);var o,s,e,u,t,h=[],c=a.call(arguments),l=(r.get(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,l),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(t=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(t.namespace))&&(n.handleObj=t,n.data=t.data,e=((i.event.special[t.origType]||{}).handle||t.handler).apply(u.elem,c),void 0!==e&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&(!n.button||"click"!==n.type))for(;r!==this;r=r.parentNode||this)if(r.disabled!==!0||"click"!==n.type){for(u=[],e=0;s>e;e++)o=t[e],f=o.selector+" ",void 0===u[f]&&(u[f]=o.needsContext?i(f,this).index(r)>=0:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var e,i,r,f=t.button;return null==n.pageX&&null!=t.clientX&&(e=n.target.ownerDocument||u,i=e.documentElement,r=e.body,n.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),n.which||void 0===f||(n.which=1&f?1:2&f?3:4&f?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,o,r=n.type,s=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=lf.test(r)?this.mouseHooks:cf.test(r)?this.keyHooks:{}),o=t.props?this.props.concat(t.props):this.props,n=new i.Event(s),f=o.length;f--;)e=o[f],n[e]=s[e];return n.target||(n.target=u),3===n.target.nodeType&&(n.target=n.target.parentNode),t.filter?t.filter(n,s):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==hr()&&this.focus)return(this.focus(),!1)},delegateType:"focusin"},blur:{trigger:function(){if(this===hr()&&this.blur)return(this.blur(),!1)},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i.nodeName(this,"input"))return(this.click(),!1)},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)};i.Event=function(n,t){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&n.returnValue===!1?at:g):this.type=n,t&&i.extend(this,t),this.timeStamp=n&&n.timeStamp||i.now(),void(this[i.expando]=!0)):new i.Event(n,t)};i.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=at;n&&n.preventDefault&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=at;n&&n.stopPropagation&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=at;n&&n.stopImmediatePropagation&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return(!r||r!==f&&!i.contains(f,r))&&(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});f.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});i.fn.extend({on:function(n,t,r,u,f){var e,o;if("object"==typeof n){"string"!=typeof t&&(r=r||t,t=void 0);for(o in n)this.on(o,t,r,n[o],f);return this}if(null==r&&null==u?(u=t,r=t=void 0):null==u&&("string"==typeof t?(u=r,r=void 0):(u=r,r=t,t=void 0)),u===!1)u=g;else if(!u)return this;return 1===f&&(e=u,u=function(n){return i().off(n),e.apply(this,arguments)},u.guid=e.guid||(e.guid=i.guid++)),this.each(function(){i.event.add(this,n,u,r,t)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=g),this.each(function(){i.event.remove(this,n,r,t)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var cr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,lr=/<([\w:]+)/,af=/<|&#?\w+;/,vf=/<(?:script|style|link)/i,yf=/checked\s*(?:[^=]|=\s*.checked.)/i,ar=/^$|\/(?:java|ecma)script/i,pf=/^true\/(.*)/,wf=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,h={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};h.optgroup=h.option;h.tbody=h.tfoot=h.colgroup=h.caption=h.thead;h.th=h.td;i.extend({clone:function(n,t,r){var u,c,s,e,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!(f.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(e=o(h),s=o(n),u=0,c=s.length;c>u;u++)df(s[u],e[u]);if(t)if(r)for(s=s||o(n),e=e||o(h),u=0,c=s.length;c>u;u++)yr(s[u],e[u]);else yr(n,h);return e=o(h,"script"),e.length>0&&oi(e,!l&&o(n,"script")),h},buildFragment:function(n,t,r,u){for(var f,e,y,l,p,a,s=t.createDocumentFragment(),v=[],c=0,w=n.length;w>c;c++)if(f=n[c],f||0===f)if("object"===i.type(f))i.merge(v,f.nodeType?[f]:f);else if(af.test(f)){for(e=e||s.appendChild(t.createElement("div")),y=(lr.exec(f)||["",""])[1].toLowerCase(),l=h[y]||h._default,e.innerHTML=l[1]+f.replace(cr,"<$1><\/$2>")+l[2],a=l[0];a--;)e=e.lastChild;i.merge(v,e.childNodes);e=s.firstChild;e.textContent=""}else v.push(t.createTextNode(f));for(s.textContent="",c=0;f=v[c++];)if((!u||-1===i.inArray(f,u))&&(p=i.contains(f.ownerDocument,f),e=o(s.appendChild(f),"script"),p&&oi(e),r))for(a=0;f=e[a++];)ar.test(f.type||"")&&r.push(f);return s},cleanData:function(n){for(var f,t,o,u,h=i.event.special,s=0;void 0!==(t=n[s]);s++){if(i.acceptData(t)&&(u=t[r.expando],u&&(f=r.cache[u]))){if(f.events)for(o in f.events)h[o]?i.event.remove(t,o):i.removeEvent(t,o,f.handle);r.cache[u]&&delete r.cache[u]}delete e.cache[t[e.expando]]}}});i.fn.extend({text:function(n){return l(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=n)})},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=vr(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=vr(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=n?i.filter(n,this):this,u=0;null!=(r=f[u]);u++)t||1!==r.nodeType||i.cleanData(o(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&oi(o(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return l(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!vf.test(n)&&!h[(lr.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(cr,"<$1><\/$2>");try{for(;u>r;r++)t=this[r]||{},1===t.nodeType&&(i.cleanData(o(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=arguments[0];return this.domManip(arguments,function(t){n=this.parentNode;i.cleanData(o(this));n&&n.replaceChild(t,this)}),n&&(n.length||n.nodeType)?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t){n=bi.apply([],n);var h,v,s,c,u,y,e=0,l=this.length,w=this,b=l-1,a=n[0],p=i.isFunction(a);if(p||l>1&&"string"==typeof a&&!f.checkClone&&yf.test(a))return this.each(function(i){var r=w.eq(i);p&&(n[0]=a.call(this,i,r.html()));r.domManip(n,t)});if(l&&(h=i.buildFragment(n,this[0].ownerDocument,!1,this),v=h.firstChild,1===h.childNodes.length&&(h=v),v)){for(s=i.map(o(h,"script"),bf),c=s.length;l>e;e++)u=h,e!==b&&(u=i.clone(u,!0,!0),c&&i.merge(s,o(u,"script"))),t.call(this[e],u,e);if(c)for(y=s[s.length-1].ownerDocument,i.map(s,kf),e=0;c>e;e++)u=s[e],ar.test(u.type||"")&&!r.access(u,"globalEval")&&i.contains(y,u)&&(u.src?i._evalUrl&&i._evalUrl(u.src):i.globalEval(u.textContent.replace(wf,"")))}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ii.apply(f,u.get());return this.pushStack(f)}});si={};var wr=/^margin/,ci=new RegExp("^("+lt+")(?!px)[a-z%]+$","i"),yt=function(n){return n.ownerDocument.defaultView.getComputedStyle(n,null)};!function(){var s,o,e=u.documentElement,r=u.createElement("div"),t=u.createElement("div");if(t.style){t.style.backgroundClip="content-box";t.cloneNode(!0).style.backgroundClip="";f.clearCloneStyle="content-box"===t.style.backgroundClip;r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute";r.appendChild(t);function h(){t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";t.innerHTML="";e.appendChild(r);var i=n.getComputedStyle(t,null);s="1%"!==i.top;o="4px"===i.width;e.removeChild(r)}n.getComputedStyle&&i.extend(f,{pixelPosition:function(){return h(),s},boxSizingReliable:function(){return null==o&&h(),o},reliableMarginRight:function(){var f,i=t.appendChild(u.createElement("div"));return i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",e.appendChild(r),f=!parseFloat(n.getComputedStyle(i,null).marginRight),e.removeChild(r),f}})}}();i.swap=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};var gf=/^(none|table(?!-c[ea]).+)/,ne=new RegExp("^("+lt+")(.*)$","i"),te=new RegExp("^([+-])=("+lt+")","i"),ie={position:"absolute",visibility:"hidden",display:"block"},kr={letterSpacing:"0",fontWeight:"400"},dr=["Webkit","O","Moz","ms"];i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=rt(n,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var o,h,e,s=i.camelCase(t),c=n.style;return t=i.cssProps[s]||(i.cssProps[s]=gr(c,s)),e=i.cssHooks[t]||i.cssHooks[s],void 0===r?e&&"get"in e&&void 0!==(o=e.get(n,!1,u))?o:c[t]:(h=typeof r,"string"===h&&(o=te.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(i.css(n,t)),h="number"),null!=r&&r===r&&("number"!==h||i.cssNumber[s]||(r+="px"),f.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),e&&"set"in e&&void 0===(r=e.set(n,r,u))||(c[t]=r)),void 0)}},css:function(n,t,r,u){var f,s,e,o=i.camelCase(t);return t=i.cssProps[o]||(i.cssProps[o]=gr(n.style,o)),e=i.cssHooks[t]||i.cssHooks[o],e&&"get"in e&&(f=e.get(n,!0,r)),void 0===f&&(f=rt(n,t,u)),"normal"===f&&t in kr&&(f=kr[t]),""===r||r?(s=parseFloat(f),r===!0||i.isNumeric(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return gf.test(i.css(n,"display"))&&0===n.offsetWidth?i.swap(n,ie,function(){return iu(n,t,u)}):iu(n,t,u)},set:function(n,r,u){var f=u&&yt(n);return nu(n,r,u?tu(n,t,u,"border-box"===i.css(n,"boxSizing",!1,f),f):0)}}});i.cssHooks.marginRight=br(f.reliableMarginRight,function(n,t){if(t)return i.swap(n,{display:"inline-block"},rt,[n,"marginRight"])});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+w[r]+t]=u[r]||u[r-2]||u[0];return f}};wr.test(n)||(i.cssHooks[n+t].set=nu)});i.fn.extend({css:function(n,t){return l(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=yt(n),e=t.length;e>u;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return ru(this,!0)},hide:function(){return ru(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){it(this)?i(this).show():i(this).hide()})}});i.Tween=s;s.prototype={constructor:s,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=s.propHooks[this.prop];return n&&n.get?n.get(this):s.propHooks._default.get(this)},run:function(n){var r,t=s.propHooks[this.prop];return this.pos=r=this.options.duration?i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):n,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):s.propHooks._default.set(this),this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(n){var t;return null==n.elem[n.prop]||n.elem.style&&null!=n.elem.style[n.prop]?(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0):n.elem[n.prop]},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(null!=n.elem.style[i.cssProps[n.prop]]||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.fx=s.prototype.init;i.fx.step={};var nt,pt,re=/^(?:toggle|show|hide)$/,uu=new RegExp("^(?:([+-])=|)("+lt+")([a-z%]*)$","i"),ue=/queueHooks$/,wt=[fe],ut={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),r=uu.exec(t),e=r&&r[3]||(i.cssNumber[n]?"":"px"),u=(i.cssNumber[n]||"px"!==e&&+s)&&uu.exec(i.css(f.elem,n)),o=1,h=20;if(u&&u[3]!==e){e=e||u[3];r=r||[];u=+s||1;do o=o||".5",u/=o,i.style(f.elem,n,u+e);while(o!==(o=f.cur()/s)&&1!==o&&--h)}return r&&(u=f.start=+u||+s||0,f.unit=e,f.end=r[1]?u+(r[1]+1)*r[2]:+r[2]),f}]};i.Animation=i.extend(ou,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;f>u;u++)r=n[u],ut[r]=ut[r]||[],ut[r].unshift(t)},prefilter:function(n,t){t?wt.unshift(n):wt.push(n)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:"number"==typeof u.duration?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(null==u.queue||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(it).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=ou(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&ue.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;s>t;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(bt(t,!0),n,i,u)}});i.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(nt=i.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();nt=void 0};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){pt||(pt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(pt);pt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},function(){var n=u.createElement("input"),t=u.createElement("select"),i=t.appendChild(u.createElement("option"));n.type="checkbox";f.checkOn=""!==n.value;f.optSelected=i.selected;t.disabled=!0;f.optDisabled=!i.disabled;n=u.createElement("input");n.value="t";n.type="radio";f.radioValue="t"===n.value}();tt=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return l(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(n&&3!==e&&8!==e&&2!==e)return typeof n.getAttribute===d?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(t=t.toLowerCase(),u=i.attrHooks[t]||(i.expr.match.bool.test(t)?su:oe)),void 0===r?u&&"get"in u&&null!==(f=u.get(n,t))?f:(f=i.find.attr(n,t),null==f?void 0:f):null!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:(n.setAttribute(t,r+""),r):void i.removeAttr(n,t))},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(c);if(f&&1===n.nodeType)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)&&(n[u]=!1),n.removeAttribute(r)},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&"radio"===t&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}}});su={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=tt[t]||i.find.attr;tt[t]=function(n,t,i){var u,f;return i||(f=tt[t],tt[t]=u,u=null!=r(n,t,i)?t.toLowerCase():null,tt[t]=f),u}});hu=/^(?:input|select|textarea|button)$/i;i.fn.extend({prop:function(n,t){return l(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(n,t,r){var f,u,o,e=n.nodeType;if(n&&3!==e&&8!==e&&2!==e)return o=1!==e||!i.isXMLDoc(n),o&&(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){return n.hasAttribute("tabindex")||hu.test(n.nodeName)||n.href?n.tabIndex:-1}}}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});kt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,s,f,h="string"==typeof n&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];l>e;e++)if(t=this[e],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(kt," "):" ")){for(s=0;u=o[s++];)r.indexOf(" "+u+" ")<0&&(r+=u+" ");f=i.trim(r);t.className!==f&&(t.className=f)}return this},removeClass:function(n){var o,t,r,u,s,f,h=0===arguments.length||"string"==typeof n&&n,e=0,l=this.length;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(h)for(o=(n||"").match(c)||[];l>e;e++)if(t=this[e],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(kt," "):"")){for(s=0;u=o[s++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");f=n?i.trim(r):"";t.className!==f&&(t.className=f)}return this},toggleClass:function(n,t){var u=typeof n;return"boolean"==typeof t&&"string"===u?t?this.addClass(n):this.removeClass(n):this.each(i.isFunction(n)?function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}:function(){if("string"===u)for(var t,e=0,f=i(this),o=n.match(c)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else(u===d||"boolean"===u)&&(this.className&&r.set(this,"__className__",this.className),this.className=this.className||n===!1?"":r.get(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;r>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(kt," ").indexOf(i)>=0)return!0;return!1}});cu=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;1===this.nodeType&&(u=f?n.call(this,r,i(this).val()):n,null==u?u="":"number"==typeof u?u+="":i.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(u,"value"))?r:(r=u.value,"string"==typeof r?r.replace(cu,""):null==r?"":r)):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:i.trim(i.text(n))}},select:{get:function(n){for(var o,t,s=n.options,r=n.selectedIndex,u="select-one"===n.type||0>r,h=u?null:[],c=u?r+1:s.length,e=0>r?c:u?r:0;c>e;e++)if(t=s[e],!(!t.selected&&e!==r||(f.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),u)return o;h.push(o)}return h},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(r.value,e)>=0)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}};f.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}});dt=i.now();gt=/\?/;i.parseJSON=function(n){return JSON.parse(n+"")};i.parseXML=function(n){var t,r;if(!n||"string"!=typeof n)return null;try{r=new DOMParser;t=r.parseFromString(n,"text/xml")}catch(u){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),t};var b,v,se=/#.*$/,lu=/([?&])_=[^&]*/,he=/^(.*?):[ \t]*([^\r\n]*)$/gm,ce=/^(?:GET|HEAD)$/,le=/^\/\//,au=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vu={},li={},yu="*/".concat("*");try{v=location.href}catch(ge){v=u.createElement("a");v.href="";v=v.href}b=au.exec(v.toLowerCase())||[];i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:v,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(b[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?ai(ai(n,i.ajaxSettings),t):ai(i.ajaxSettings,n)},ajaxPrefilter:pu(vu),ajaxTransport:pu(li),ajax:function(n,t){function w(n,t,s,h){var v,it,b,y,w,c=t;2!==e&&(e=2,d&&clearTimeout(d),l=void 0,k=h||"",u.readyState=n>0?4:0,v=n>=200&&300>n||304===n,s&&(y=ae(r,u,s)),y=ve(r,y,u,v),v?(r.ifModified&&(w=u.getResponseHeader("Last-Modified"),w&&(i.lastModified[f]=w),w=u.getResponseHeader("etag"),w&&(i.etag[f]=w)),204===n||"HEAD"===r.type?c="nocontent":304===n?c="notmodified":(c=y.state,it=y.data,b=y.error,v=!b)):(b=c,(n||!c)&&(c="error",0>n&&(n=0))),u.status=n,u.statusText=(t||c)+"",v?nt.resolveWith(o,[it,c,u]):nt.rejectWith(o,[u,c,b]),u.statusCode(p),p=void 0,a&&g.trigger(v?"ajaxSuccess":"ajaxError",[u,r,v?it:b]),tt.fireWith(o,[u,c]),a&&(g.trigger("ajaxComplete",[u,r]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof n&&(t=n,n=void 0);t=t||{};var l,f,k,y,d,s,a,h,r=i.ajaxSetup({},t),o=r.context||r,g=r.context&&(o.nodeType||o.jquery)?i(o):i.event,nt=i.Deferred(),tt=i.Callbacks("once memory"),p=r.statusCode||{},it={},rt={},e=0,ut="canceled",u={readyState:0,getResponseHeader:function(n){var t;if(2===e){if(!y)for(y={};t=he.exec(k);)y[t[1].toLowerCase()]=t[2];t=y[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===e?k:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return e||(n=rt[i]=rt[i]||n,it[n]=t),this},overrideMimeType:function(n){return e||(r.mimeType=n),this},statusCode:function(n){var t;if(n)if(2>e)for(t in n)p[t]=[p[t],n[t]];else u.always(n[u.status]);return this},abort:function(n){var t=n||ut;return l&&l.abort(t),w(0,t),this}};if(nt.promise(u).complete=tt.add,u.success=u.done,u.error=u.fail,r.url=((n||r.url||v)+"").replace(se,"").replace(le,b[1]+"//"),r.type=t.method||t.type||r.method||r.type,r.dataTypes=i.trim(r.dataType||"*").toLowerCase().match(c)||[""],null==r.crossDomain&&(s=au.exec(r.url.toLowerCase()),r.crossDomain=!(!s||s[1]===b[1]&&s[2]===b[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(b[3]||("http:"===b[1]?"80":"443")))),r.data&&r.processData&&"string"!=typeof r.data&&(r.data=i.param(r.data,r.traditional)),wu(vu,r,t,u),2===e)return u;a=r.global;a&&0==i.active++&&i.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!ce.test(r.type);f=r.url;r.hasContent||(r.data&&(f=r.url+=(gt.test(f)?"&":"?")+r.data,delete r.data),r.cache===!1&&(r.url=lu.test(f)?f.replace(lu,"$1_="+dt++):f+(gt.test(f)?"&":"?")+"_="+dt++));r.ifModified&&(i.lastModified[f]&&u.setRequestHeader("If-Modified-Since",i.lastModified[f]),i.etag[f]&&u.setRequestHeader("If-None-Match",i.etag[f]));(r.data&&r.hasContent&&r.contentType!==!1||t.contentType)&&u.setRequestHeader("Content-Type",r.contentType);u.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+("*"!==r.dataTypes[0]?", "+yu+"; q=0.01":""):r.accepts["*"]);for(h in r.headers)u.setRequestHeader(h,r.headers[h]);if(r.beforeSend&&(r.beforeSend.call(o,u,r)===!1||2===e))return u.abort();ut="abort";for(h in{success:1,error:1,complete:1})u[h](r[h]);if(l=wu(li,r,t,u)){u.readyState=1;a&&g.trigger("ajaxSend",[u,r]);r.async&&r.timeout>0&&(d=setTimeout(function(){u.abort("timeout")},r.timeout));try{e=1;l.send(it,w)}catch(ft){if(!(2>e))throw ft;w(-1,ft)}}else w(-1,"No Transport");return u},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=void 0),i.ajax({url:n,type:t,dataType:f,data:r,success:u})}});i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){var t;return i.isFunction(n)?this.each(function(t){i(this).wrapAll(n.call(this,t))}):(this[0]&&(t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this)},wrapInner:function(n){return this.each(i.isFunction(n)?function(t){i(this).wrapInner(n.call(this,t))}:function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0};i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)};var ye=/%20/g,pe=/\[\]$/,bu=/\r?\n/g,we=/^(?:submit|button|image|reset|file)$/i,be=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():null==t?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(void 0===t&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)vi(r,n[r],t,f);return u.join("&").replace(ye,"+")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&be.test(this.nodeName)&&!we.test(n)&&(this.checked||!er.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(bu,"\r\n")}}):{name:t.name,value:r.replace(bu,"\r\n")}}).get()}});i.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(n){}};var ke=0,ni={},de={0:200,1223:204},ft=i.ajaxSettings.xhr();return n.ActiveXObject&&i(n).on("unload",function(){for(var n in ni)ni[n]()}),f.cors=!!ft&&"withCredentials"in ft,f.ajax=ft=!!ft,i.ajaxTransport(function(n){var t;if(f.cors||ft&&!n.crossDomain)return{send:function(i,r){var f,u=n.xhr(),e=++ke;if(u.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(f in n.xhrFields)u[f]=n.xhrFields[f];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType);n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(f in i)u.setRequestHeader(f,i[f]);t=function(n){return function(){t&&(delete ni[e],t=u.onload=u.onerror=null,"abort"===n?u.abort():"error"===n?r(u.status,u.statusText):r(de[u.status]||u.status,u.statusText,"string"==typeof u.responseText?{text:u.responseText}:void 0,u.getAllResponseHeaders()))}};u.onload=t();u.onerror=t("error");t=ni[e]=t("abort");try{u.send(n.hasContent&&n.data||null)}catch(o){if(t)throw o;}},abort:function(){t&&t()}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}}),yi=[],ti=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=yi.pop()||i.expando+"_"+dt++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,o,e,s=t.jsonp!==!1&&(ti.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return(f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ti,"$1"+f):t.jsonp!==!1&&(t.url+=(gt.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return e||i.error(f+" was not called"),e[0]},t.dataTypes[0]="json",o=n[f],n[f]=function(){e=arguments},u.always(function(){n[f]=o;t[f]&&(t.jsonpCallback=r.jsonpCallback,yi.push(f));e&&i.isFunction(o)&&o(e[0]);e=o=void 0}),"script")}),i.parseHTML=function(n,t,r){if(!n||"string"!=typeof n)return null;"boolean"==typeof t&&(r=t,t=!1);t=t||u;var f=gi.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&e.length&&i(e).remove(),i.merge([],f.childNodes))},pi=i.fn.load,i.fn.load=function(n,t,r){if("string"!=typeof n&&pi)return pi.apply(this,arguments);var u,o,s,f=this,e=n.indexOf(" ");return e>=0&&(u=i.trim(n.slice(e)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),f.length>0&&i.ajax({url:n,type:o,dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).complete(r&&function(n,t){f.each(r,s||[n.responseText,t,n])}),this},i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},wi=n.document.documentElement,i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,u));null!=t.top&&(f.top=t.top-u.top+h);null!=t.left&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,f,t=this[0],u={top:0,left:0},e=t&&t.ownerDocument;if(e)return r=e.documentElement,i.contains(r,t)?(typeof t.getBoundingClientRect!==d&&(u=t.getBoundingClientRect()),f=ku(e),{top:u.top+f.pageYOffset-r.clientTop,left:u.left+f.pageXOffset-r.clientLeft}):u},position:function(){if(this[0]){var n,r,u=this[0],t={top:0,left:0};return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||wi;n&&!i.nodeName(n,"html")&&"static"===i.css(n,"position");)n=n.offsetParent;return n||wi})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var u="pageYOffset"===r;i.fn[t]=function(i){return l(this,function(t,i,f){var e=ku(t);return void 0===f?e?e[r]:t[i]:void(e?e.scrollTo(u?n.pageXOffset:f,u?f:n.pageYOffset):t[i]=f)},t,i,arguments.length,null)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=br(f.pixelPosition,function(n,r){if(r)return(r=rt(n,t),ci.test(r)?i(n).position()[t]+"px":r)})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||"boolean"!=typeof u),o=r||(u===!0||f===!0?"margin":"border");return l(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:9===t.nodeType?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):void 0===u?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:void 0,e,null)}})}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),du=n.jQuery,gu=n.$,i.noConflict=function(t){return n.$===i&&(n.$=gu),t&&n.jQuery===i&&(n.jQuery=du),i},typeof t===d&&(n.jQuery=n.$=i),i}),function(n,t){function i(t,i){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,t.href&&f&&"map"===u.nodeName.toLowerCase()?(e=n("img[usemap=#"+f+"]")[0],!!e&&r(e)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&r(t)}function r(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return"hidden"===n.css(this,"visibility")}).length}var u=0,f=/^ui-id-\d+$/;n.ui=n.ui||{};n.extend(n.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({focus:function(t){return function(i,r){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),scrollParent:function(){var t;return t=n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var u,f,r=n(this[0]);r.length&&r[0]!==document;){if(u=r.css("position"),("absolute"===u||"relative"===u||"fixed"===u)&&(f=parseInt(r.css("zIndex"),10),!isNaN(f)&&0!==f))return f;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return i(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var r=n.attr(t,"tabindex"),u=isNaN(r);return(u||r>=0)&&i(t,!u)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(i,r){function u(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var o="Width"===r?["Left","Right"]:["Top","Bottom"],f=r.toLowerCase(),e={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?e["inner"+r].call(this):this.each(function(){n(this).css(f,u(this,i)+"px")})};n.fn["outer"+r]=function(t,i){return"number"!=typeof t?e["outer"+r].call(this,t):this.each(function(){n(this).css(f,u(this,t,!0,i)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.support.selectstart="onselectstart"in document.createElement("div");n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});n.extend(n.ui,{plugin:{add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i){var r,u=n.plugins[t];if(u&&n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType)for(r=0;u.length>r;r++)n.options[u[r][0]]&&u[r][1].apply(n.element,i)}},hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)}})}(jQuery),function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i,r=0;null!=(i=t[r]);r++)try{n(i).triggerHandler("remove")}catch(f){}u(t)};n.widget=function(i,r,u){var h,e,f,s,c={},o=i.split(".")[0];i=i.split(".")[1];h=o+"-"+i;u||(u=r,r=n.Widget);n.expr[":"][h.toLowerCase()]=function(t){return!!n.data(t,h)};n[o]=n[o]||{};e=n[o][i];f=n[o][i]=function(n,i){return this._createWidget?(arguments.length&&this._createWidget(n,i),t):new f(n,i)};n.extend(f,e,{version:u.version,_proto:n.extend({},u),_childConstructors:[]});s=new r;s.options=n.widget.extend({},s.options);n.each(u,function(i,u){return n.isFunction(u)?(c[i]=function(){var n=function(){return r.prototype[i].apply(this,arguments)},t=function(n){return r.prototype[i].apply(this,n)};return function(){var i,r=this._super,f=this._superApply;return this._super=n,this._superApply=t,i=u.apply(this,arguments),this._super=r,this._superApply=f,i}}(),t):(c[i]=u,t)});f.prototype=n.widget.extend(s,{widgetEventPrefix:e?s.widgetEventPrefix:i},c,{constructor:f,namespace:o,widgetName:i,widgetFullName:h});e?(n.each(e._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,f,i._proto)}),delete e._childConstructors):r._childConstructors.push(f);n.widget.bridge(i,f)};n.widget.extend=function(r){for(var u,f,o=i.call(arguments,1),e=0,s=o.length;s>e;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r};n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h="string"==typeof e,o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?n.isFunction(u[e])&&"_"!==e.charAt(0)?(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):t):n.error("no such method '"+e+"' for "+r+" widget instance"):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=r++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var u,f,e,o=i;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof i)if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;u.length-1>e;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,"disabled"===n&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,r,u){var e,f=this;"boolean"!=typeof i&&(u=r,r=i,i=!1);u?(r=e=n(r),this.bindings=this.bindings.add(r)):(u=r,r=this.element,e=this.widget());n.each(u,function(u,o){function s(){return i||f.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled")?("string"==typeof o?f[o]:o).apply(f,arguments):t}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||n.guid++);var h=u.match(/^(\w+)\s*(.*)$/),c=h[1]+f.eventNamespace,l=h[2];l?e.delegate(l,c,s):r.bind(c,s)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}})}(jQuery),function(n){var t=!1;n(document).mouseup(function(){t=!1});n.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){return!0===n.data(i.target,t.widgetName+".preventClickEvent")?(n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i);this._mouseDownEvent=i;var r=this,u=1===i.which,f="string"==typeof this.options.cancel&&i.target.nodeName?n(i.target).closest(this.options.cancel).length:!1;return u&&!f&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===n.data(i.target,this.widgetName+".preventClickEvent")&&n.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return n.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(n(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){n("<div class='ui-draggable-iframeFix' style='background: #fff;'><\/div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||n.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t])):"clone"===r.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===r.appendTo?this.element[0].parentNode:r.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,t,i,r=this.options;return r.containment?"window"===r.containment?(this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===r.containment?(this.containment=[0,0,n(document).width()-this.helperProportions.width-this.margins.left,(n(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):r.containment.constructor===Array?(this.containment=r.containment,undefined):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],i&&(u="hidden"!==t.css("overflow"),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(u?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t),undefined):(this.containment=null,undefined)},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:u.scrollTop(),left:u.scrollLeft()}),{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(t){var i,e,u,f,r=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=t.pageX,s=t.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(e=this.relative_container.offset(),i=[this.containment[0]+e.left,this.containment[1]+e.top,this.containment[2]+e.left,this.containment[3]+e.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(o=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(s=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(o=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(s=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,s=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,o=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("ui-draggable"),u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[];n(u.connectToSortable).each(function(){var i=n.data(this,"ui-sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i){var r=n(this).data("ui-draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("ui-draggable"),u=this;n.each(r.sortables,function(){var f=!1,e=this;this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&n.contains(e.instance.element[0],this.instance.element[0])&&(f=!1),f}));f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}});n.ui.plugin.add("draggable","cursor",{start:function(){var t=n("body"),i=n(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor"));t.css("cursor",i.cursor)},stop:function(){var t=n(this).data("ui-draggable").options;t._cursor&&n("body").css("cursor",t._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i){var r=n(i.helper),u=n(this).data("ui-draggable").options;r.css("opacity")&&(u._opacity=r.css("opacity"));r.css("opacity",u.opacity)},stop:function(t,i){var r=n(this).data("ui-draggable").options;r._opacity&&n(i.helper).css("opacity",r._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(){var t=n(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var r=n(this).data("ui-draggable"),i=r.options,u=!1;r.scrollParent[0]!==document&&"HTML"!==r.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))));u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(){var t=n(this).data("ui-draggable"),i=t.options;t.snapElements=[];n(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=n(this),r=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(t,i){for(var e,o,s,h,c,a,l,v,w,r=n(this).data("ui-draggable"),b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--)c=r.snapElements[u].left,a=c+r.snapElements[u].width,l=r.snapElements[u].top,v=l+r.snapElements[u].height,c-f>k||y>a+f||l-f>d||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==b.snapMode&&(e=f>=Math.abs(l-d),o=f>=Math.abs(v-p),s=f>=Math.abs(c-k),h=f>=Math.abs(a-y),e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top-r.margins.top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top-r.margins.top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left-r.margins.left)),w=e||o||s||h,"outer"!==b.snapMode&&(e=f>=Math.abs(l-p),o=f>=Math.abs(v-d),s=f>=Math.abs(c-y),h=f>=Math.abs(a-k),e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top-r.margins.top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top-r.margins.top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left-r.margins.left)),!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||o||s||h||w)}});n.ui.plugin.add("draggable","stack",{start:function(){var i,r=this.data("ui-draggable").options,t=n.makeArray(n(r.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});t.length&&(i=parseInt(n(t[0]).css("zIndex"),10)||0,n(t).each(function(t){n(this).css("zIndex",i+t)}),this.css("zIndex",i+t.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i){var r=n(i.helper),u=n(this).data("ui-draggable").options;r.css("zIndex")&&(u._zIndex=r.css("zIndex"));r.css("zIndex",u.zIndex)},stop:function(t,i){var r=n(this).data("ui-draggable").options;r._zIndex&&n(i.helper).css("zIndex",r._zIndex)}})}(jQuery),function(n){function t(n,t,i){return n>t&&t+i>n}n.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1;this.isout=!0;this.accept=n.isFunction(i)?i:function(n){return n.is(i)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};n.ui.ddmanager.droppables[t.scope]=n.ui.ddmanager.droppables[t.scope]||[];n.ui.ddmanager.droppables[t.scope].push(this);t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=n.ui.ddmanager.droppables[this.options.scope];i.length>t;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=n.isFunction(i)?i:function(n){return n.is(i)});n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=n.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(u=!0,!1):undefined}),u?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}});n.ui.intersect=function(n,i,r){if(!i.offset)return!1;var a,v,e=(n.positionAbs||n.position.absolute).left,s=e+n.helperProportions.width,o=(n.positionAbs||n.position.absolute).top,h=o+n.helperProportions.height,u=i.offset.left,c=u+i.proportions.width,f=i.offset.top,l=f+i.proportions.height;switch(r){case"fit":return e>=u&&c>=s&&o>=f&&l>=h;case"intersect":return e+n.helperProportions.width/2>u&&c>s-n.helperProportions.width/2&&o+n.helperProportions.height/2>f&&l>h-n.helperProportions.height/2;case"pointer":return a=(n.positionAbs||n.position.absolute).left+(n.clickOffset||n.offset.click).left,v=(n.positionAbs||n.position.absolute).top+(n.clickOffset||n.offset.click).top,t(v,f,i.proportions.height)&&t(a,u,i.proportions.width);case"touch":return(o>=f&&l>=o||h>=f&&l>=h||f>o&&h>l)&&(e>=u&&c>=e||s>=u&&c>=s||u>e&&s>c);default:return!1}};n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;u.length>r;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;e.length>f;f++)if(e[f]===u[r].element[0]){u[r].proportions.height=0;continue n}u[r].visible="none"!==u[r].element.css("display");u[r].visible&&("mousedown"===o&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions={width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight})}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,e,f,o=n.ui.intersect(t,this,this.options.tolerance),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return n.data(this,"ui-droppable").options.scope===e}),f.length&&(r=n.data(f[0],"ui-droppable"),r.greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,i),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(n){function i(n){return parseInt(n,10)||0}function t(n){return!isNaN(parseInt(n,10))}n.widget("ui.resizable",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,f,r,i,o,u=this,t=this.options;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},f=0;e.length>f;f++)r=n.trim(e[f]),o="ui-resizable-"+r,i=n("<div class='ui-resizable-handle "+o+"'><\/div>"),i.css({zIndex:t.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=n(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),f=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),u=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(u,f),this._proportionallyResize()),n(this.handles[i]).length};this._renderAxis(this.element);this._handles=n(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){u.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),u.axis=i&&i[1]?i[1]:"se")});t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),u._handles.show())}).mouseleave(function(){t.disabled||u.resizing||(n(this).addClass("ui-resizable-autohide"),u._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var f,e,o,u=this.options,s=this.element.position(),r=this.element;return this.resizing=!0,/absolute/.test(r.css("position"))?r.css({position:"absolute",top:r.css("top"),left:r.css("left")}):r.is(".ui-draggable")&&r.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),f=i(this.helper.css("left")),e=i(this.helper.css("top")),u.containment&&(f+=n(u.containment).scrollLeft()||0,e+=n(u.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:e},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:f,top:e},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof u.aspectRatio?u.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor","auto"===o?this.axis+"-resize":o),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,e=this.helper,r={},u=this.originalMousePosition,o=this.axis,s=this.position.top,h=this.position.left,c=this.size.width,l=this.size.height,a=t.pageX-u.left||0,v=t.pageY-u.top||0,f=this._change[o];return f?(i=f.apply(this,[t,a,v]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==s&&(r.top=this.position.top+"px"),this.position.left!==h&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==l&&(r.height=this.size.height+"px"),e.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(n){var u,f,e,o,i,r=this.options;i={minWidth:t(r.minWidth)?r.minWidth:0,maxWidth:t(r.maxWidth)?r.maxWidth:1/0,minHeight:t(r.minHeight)?r.minHeight:0,maxHeight:t(r.maxHeight)?r.maxHeight:1/0};(this._aspectRatio||n)&&(u=i.minHeight*this.aspectRatio,e=i.minWidth/this.aspectRatio,f=i.maxHeight*this.aspectRatio,o=i.maxWidth/this.aspectRatio,u>i.minWidth&&(i.minWidth=u),e>i.minHeight&&(i.minHeight=e),i.maxWidth>f&&(i.maxWidth=f),i.maxHeight>o&&(i.maxHeight=o));this._vBoundaries=i},_updateCache:function(n){this.offset=this.helper.offset();t(n.left)&&(this.position.left=n.left);t(n.top)&&(this.position.top=n.top);t(n.height)&&(this.size.height=n.height);t(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var i=this.position,r=this.size,u=this.axis;return t(n.height)?n.width=n.height*this.aspectRatio:t(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===u&&(n.left=i.left+(r.width-n.width),n.top=null),"nw"===u&&(n.top=i.top+(r.height-n.height),n.left=i.left+(r.width-n.width)),n},_respectSize:function(n){var i=this._vBoundaries,r=this.axis,u=t(n.width)&&i.maxWidth&&i.maxWidth<n.width,f=t(n.height)&&i.maxHeight&&i.maxHeight<n.height,e=t(n.width)&&i.minWidth&&i.minWidth>n.width,o=t(n.height)&&i.minHeight&&i.minHeight>n.height,s=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(r),l=/nw|ne|n/.test(r);return e&&(n.width=i.minWidth),o&&(n.height=i.minHeight),u&&(n.width=i.maxWidth),f&&(n.height=i.maxHeight),e&&c&&(n.left=s-i.minWidth),u&&c&&(n.left=s-i.maxWidth),o&&l&&(n.top=h-i.minHeight),f&&l&&(n.top=h-i.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,r,u,n,f=this.helper||this.element,i=0;this._proportionallyResizeElements.length>i;i++){if(n=this._proportionallyResizeElements[i],!this.borderDif)for(this.borderDif=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],t=0;r.length>t;t++)this.borderDif[t]=(parseInt(r[t],10)||0)+(parseInt(u[t],10)||0);n.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).data("ui-resizable"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var u,e,o,s,h,c,l,t=n(this).data("ui-resizable"),a=t.options,v=t.element,f=a.containment,r=f instanceof n?f.get(0):/parent/.test(f)?v.parent().get(0):f;r&&(t.containerElement=n(r),/document/.test(f)||f===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(u=n(r),e=[],n(["Top","Right","Left","Bottom"]).each(function(n,t){e[n]=i(u.css("padding"+t))}),t.containerOffset=u.offset(),t.containerPosition=u.position(),t.containerSize={height:u.innerHeight()-e[3],width:u.innerWidth()-e[1]},o=t.containerOffset,s=t.containerSize.height,h=t.containerSize.width,c=n.ui.hasScroll(r,"left")?r.scrollWidth:h,l=n.ui.hasScroll(r)?r.scrollHeight:s,t.parentData={element:r,left:o.left,top:o.top,width:c,height:l}))},resize:function(t){var f,o,s,h,i=n(this).data("ui-resizable"),a=i.options,r=i.containerOffset,c=i.position,e=i._aspectRatio||t.shiftKey,u={top:0,left:0},l=i.containerElement;l[0]!==document&&/static/.test(l.css("position"))&&(u=r);c.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-u.left),e&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=a.helper?r.left:0);c.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),e&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?r.top:0);i.offset.left=i.parentData.left+i.position.left;i.offset.top=i.parentData.top+i.position.top;f=Math.abs((i._helper?i.offset.left-u.left:i.offset.left-u.left)+i.sizeDiff.width);o=Math.abs((i._helper?i.offset.top-u.top:i.offset.top-r.top)+i.sizeDiff.height);s=i.containerElement.get(0)===i.element.parent().get(0);h=/relative|absolute/.test(i.containerElement.css("position"));s&&h&&(f-=i.parentData.left);f+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-f,e&&(i.size.height=i.size.width/i.aspectRatio));o+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-o,e&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=n(this).data("ui-resizable"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var r=n(this).data("ui-resizable"),t=r.options,i=function(t){n(t).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):n.each(t.alsoResize,function(n){i(n)})},resize:function(t,i){var r=n(this).data("ui-resizable"),u=r.options,f=r.originalSize,e=r.originalPosition,s={height:r.size.height-f.height||0,width:r.size.width-f.width||0,top:r.position.top-e.top||0,left:r.position.left-e.left||0},o=function(t,r){n(t).each(function(){var t=n(this),f=n(this).data("ui-resizable-alsoresize"),u={},e=r&&r.length?r:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(e,function(n,t){var i=(f[t]||0)+(s[t]||0);i&&i>=0&&(u[t]=i||null)});t.css(u)})};"object"!=typeof u.alsoResize||u.alsoResize.nodeType?o(u.alsoResize):n.each(u.alsoResize,function(n,t){o(n,t)})},stop:function(){n(this).removeData("resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).data("ui-resizable"),i=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var t=n(this).data("ui-resizable"),i=t.options,v=t.size,f=t.originalSize,e=t.originalPosition,h=t.axis,c="number"==typeof i.grid?[i.grid,i.grid]:i.grid,o=c[0]||1,s=c[1]||1,l=Math.round((v.width-f.width)/o)*o,a=Math.round((v.height-f.height)/s)*s,r=f.width+l,u=f.height+a,y=i.maxWidth&&r>i.maxWidth,p=i.maxHeight&&u>i.maxHeight,w=i.minWidth&&i.minWidth>r,b=i.minHeight&&i.minHeight>u;i.grid=c;w&&(r+=o);b&&(u+=s);y&&(r-=o);p&&(u-=s);/^(se|s|e)$/.test(h)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(h)?(t.size.width=r,t.size.height=u,t.position.top=e.top-a):/^(sw)$/.test(h)?(t.size.width=r,t.size.height=u,t.position.left=e.left-l):(t.size.width=r,t.size.height=u,t.position.top=e.top-a,t.position.left=e.left-l)}})}(jQuery),function(n){n.widget("ui.selectable",n.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t=n(i.options.filter,i.element[0]);t.addClass("ui-selectee");t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=n("<div class='ui-selectable-helper'><\/div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY];this.options.disabled||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0;t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");return r?(u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1):undefined}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var e,o=this,s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(e=u,u=i,i=e),r>f&&(e=f,f=r,r=e),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var e=n.data(this,"selectable-item"),h=!1;e&&e.element!==o.element[0]&&("touch"===s.tolerance?h=!(e.left>u||i>e.right||e.top>f||r>e.bottom):"fit"===s.tolerance&&(h=e.left>i&&u>e.right&&e.top>r&&f>e.bottom),h?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,o._trigger("selecting",t,{selecting:e.element}))):(e.selecting&&((t.metaKey||t.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",t,{unselecting:e.element}))),e.selected&&(t.metaKey||t.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",t,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(n){function t(n,t,i){return n>t&&t+i>n}function i(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))}n.widget("ui.sortable",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var n=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===n.axis||i(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),n(t.target).parents().each(function(){return n.data(this,u.widgetName+"-item")===u?(r=n(this),!1):undefined}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),r?!this.options.handle||i||(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),f)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if(u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!n.contains(this.element[0],f):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(u))break;this._rearrange(t,u);this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&"x"!==r||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));r&&"y"!==r||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l="x"===this.options.axis||i+o>u&&e>i+o,a="y"===this.options.axis||t+s>r&&f>t+s,v=l&&a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:t+this.helperProportions.width/2>r&&f>h-this.helperProportions.width/2&&i+this.helperProportions.height/2>u&&e>c-this.helperProportions.height/2},_intersectsWithPointer:function(n){var u="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,n.top,n.height),f="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,n.left,n.width),e=u&&f,i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return e?this.floating?r&&"right"===r||"down"===i?2:1:i&&("down"===i?2:1):!1},_intersectsWithSides:function(n){var u=t(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),f=t(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&f||"left"===r&&!f:i&&("down"===i&&u||"up"===i&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return 0!==n&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return 0!==n&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(function(){s.push(this)});return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;t.length>i;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;l>u;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===u?t.currentItem.children().each(function(){n("<td>&#160;<\/td>",t.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)}):"img"===u&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_contactContainers:function(r){for(var f,v,s,l,y,h,o,p,a,c=null,e=null,u=this.containers.length-1;u>=0;u--)if(!n.contains(this.currentItem[0],this.containers[u].element[0]))if(this._intersectsWith(this.containers[u].containerCache)){if(c&&n.contains(this.containers[u].element[0],c.element[0]))continue;c=this.containers[u];e=u}else this.containers[u].containerCache.over&&(this.containers[u]._trigger("out",r,this._uiHash(this)),this.containers[u].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[e].containerCache.over||(this.containers[e]._trigger("over",r,this._uiHash(this)),this.containers[e].containerCache.over=1);else{for(v=1e4,s=null,a=c.floating||i(this.currentItem),l=a?"left":"top",y=a?"width":"height",h=this.positionAbs[l]+this.offset.click[l],f=this.items.length-1;f>=0;f--)n.contains(this.containers[e].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!a||t(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(o=this.items[f].item.offset()[l],p=!1,Math.abs(o-h)>Math.abs(o+this.items[f][y]-h)&&(p=!0,o+=this.items[f][y]),v>Math.abs(o-h)&&(v=Math.abs(o-h),s=this.items[f],this.direction=p?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[e])return;s?this._rearrange(r,s,null,!0):this._rearrange(r,null,this.containers[e].element,!0);this._trigger("change",r,this._uiHash());this.containers[e]._trigger("change",r,this._uiHash(this));this.currentContainer=this.containers[e];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[e]._trigger("over",r,this._uiHash(this));this.containers[e].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):"clone"===r.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||n("parent"!==r.appendTo?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode);("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(n("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u="hidden"!==n(t).css("overflow"),this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(function(n){return function(t){n._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(n){return function(t){n._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",n,this._uiHash()),i=0;r.length>i;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;r.length>i;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(n,t){var i="ui-effects-";n.effects={effect:{}},function(n,t){function f(n,t,i){var r=h[t.type]||{};return null==n?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n)?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:n>r.max?r.max:n)}function s(f){var o=i(),s=o._rgba=[];return f=f.toLowerCase(),r(v,function(n,i){var r,h=i.re.exec(f),c=h&&i.parse(h),e=i.space||"rgba";return c?(r=o[e](c),o[u[e].cache]=r[u[e].cache],s=o._rgba=r._rgba,!1):t}),s.length?("0,0,0,0"===s.join()&&n.extend(s,e.transparent),o):e[f]}function o(n,t,i){return i=(i+1)%1,1>6*i?n+6*(t-n)*i:1>2*i?t:2>3*i?n+6*(t-n)*(2/3-i):n}var e,a=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=i.support={},l=n("<p>")[0],r=n.each;l.style.cssText="background-color:rgba(1,1,1,.5)";c.rgba=l.style.backgroundColor.indexOf("rgba")>-1;r(u,function(n,t){t.cache="_"+n;t.props.alpha={idx:3,type:"percent",def:1}});i.fn=n.extend(i.prototype,{parse:function(o,h,c,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(h),h=t);var a=this,v=n.type(o),y=this._rgba=[];return h!==t&&(o=[o,h,c,l],v="array"),"string"===v?this.parse(s(o)||e._default):"array"===v?(r(u.rgba.props,function(n,t){y[t.idx]=f(o[t.idx],t)}),this):"object"===v?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if("alpha"===n||null==o[n])return;a[u]=i.to(a._rgba)}a[u][t.idx]=f(o[n],t,!0)});a[u]&&0>n.inArray(null,a[u].slice(0,3))&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):t},is:function(n){var o=i(n),f=!0,e=this;return r(u,function(n,i){var s,u=o[i.cache];return u&&(s=e[i.cache]||i.to&&i.to(e._rgba)||[],r(i.props,function(n,i){return null!=u[i.idx]?f=u[i.idx]===s[i.idx]:t})),f}),f},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var e=i(n),c=e._space(),o=u[c],l=0===this.alpha()?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),s=a.slice();return e=e[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=e[c],o=h[i.type]||{};null!==u&&(null===r?s[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),s[c]=f((u-r)*t+r,i)))}),this[c](s)},blend:function(t){if(1===this._rgba[3])return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return null==n?t>2?1:0:n});return 1===t[3]&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return null==n&&(n=t>2?1:0),t&&3>t&&(n=Math.round(100*n)+"%"),n});return 1===t[3]&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(255*r)),"#"+n.map(i,function(n){return n=(n||0).toString(16),1===n.length?"0"+n:n}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;u.hsla.to=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var s,h,i=n[0]/255,r=n[1]/255,f=n[2]/255,c=n[3],u=Math.max(i,r,f),e=Math.min(i,r,f),t=u-e,o=u+e,l=.5*o;return s=e===u?0:i===u?60*(r-f)/t+360:r===u?60*(f-i)/t+120:60*(i-r)/t+240,h=0===t?0:.5>=l?t/o:t/(2-o),[Math.round(s)%360,h,l,null==c?1:c]};u.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=.5>=t?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(255*o(f,i,r+1/3)),Math.round(255*o(f,i,r)),Math.round(255*o(f,i,r-1/3)),e]};r(u,function(u,e){var s=e.props,o=e.cache,h=e.to,c=e.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v="array"===a||"object"===a?u:arguments,e=this[o].slice();return r(s,function(n,t){var i=v["object"===a?n:t.idx];null==i&&(i=e[t.idx]);e[t.idx]=f(i,t)}),c?(l=i(c(e)),l[o]=e,l):i(e)};r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f,e=n.type(i),h="alpha"===t?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx];return"undefined"===e?s:("function"===e&&(i=i.call(this,s),e=n.type(i)),null==i&&r.empty?this:("string"===e&&(f=a.exec(i),f&&(i=s+parseFloat(f[2])*("+"===f[1]?1:-1))),o[r.idx]=i,this[h](o)))})})});i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if("transparent"!==u&&("string"!==n.type(u)||(o=s(u)))){if(u=i(o||u),!c.rgba&&1!==u._rgba[3]){for(f="backgroundColor"===r?t.parentNode:t;(""===e||"transparent"===e)&&f&&f.style;)try{e=n.css(f,"backgroundColor");f=f.parentNode}catch(h){}u=u.blend(e&&"transparent"!==e?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(h){}}};n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0);n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})};i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};e=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],"string"==typeof i[r]&&(f[n.camelCase(r)]=i[r]);else for(r in i)"string"==typeof i[r]&&(f[r]=i[r]);return f}function r(t,i){var r,u,e={};for(r in i)u=i[r],t[r]!==u&&(f[r]||(n.fx.step[r]||!isNaN(parseFloat(u)))&&(e[r]=u));return e}var u=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){("none"===n.end||n.setAttr)&&(1!==n.pos||n.setAttr)||(jQuery.style(n.elem,i,n.end),n.setAttr=!0)}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.effects.animateClass=function(t,f,e,o){var s=n.speed(f,e,o);return this.queue(function(){var o,e=n(this),h=e.attr("class")||"",f=s.children?e.find("*").addBack():e;f=f.map(function(){var t=n(this);return{el:t,start:i(this)}});o=function(){n.each(u,function(n,i){t[i]&&e[i+"Class"](t[i])})};o();f=f.map(function(){return this.end=i(this.el[0]),this.diff=r(this.start,this.end),this});e.attr("class",h);f=f.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()});n.when.apply(n,f.get()).done(function(){o();n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})});s.complete.call(e[0])})})};n.fn.extend({addClass:function(t){return function(i,r,u,f){return r?n.effects.animateClass.call(this,{add:i},r,u,f):t.apply(this,arguments)}}(n.fn.addClass),removeClass:function(t){return function(i,r,u,f){return arguments.length>1?n.effects.animateClass.call(this,{remove:i},r,u,f):t.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(i){return function(r,u,f,e,o){return"boolean"==typeof u||u===t?f?n.effects.animateClass.call(this,u?{add:r}:{remove:r},f,e,o):i.apply(this,arguments):n.effects.animateClass.call(this,{toggle:r},u,f,e)}}(n.fn.toggleClass),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function r(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),("number"==typeof i||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:"number"==typeof r?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function u(t){return!t||"number"==typeof t||n.fx.speeds[t]?!0:"string"!=typeof t||n.effects.effect[t]?n.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}n.extend(n.effects,{version:"1.10.3",save:function(n,t){for(var r=0;t.length>r;r++)null!==t[r]&&n.data(i+t[r],n[0].style[t[r]])},restore:function(n,r){for(var f,u=0;r.length>u;u++)null!==r[u]&&(f=n.data(i+r[u]),f===t&&(f=""),n.css(r[u],f))},setMode:function(n,t){return"toggle"===t&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),"static"===t.css("position")?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus()),t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(){function i(i){function f(){n.isFunction(o)&&o.call(r[0]);n.isFunction(i)&&i()}var r=n(this),o=t.complete,u=t.mode;(r.is(":hidden")?"hide"===u:"show"===u)?(r[u](),f()):e.call(r[0],t,f)}var t=r.apply(this,arguments),u=t.mode,f=t.queue,e=n.effects.effect[t.effect];return n.fx.off||!e?u?this[u](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):f===!1?this.each(i):this.queue(f||"fx",i)},show:function(n){return function(t){if(u(t))return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(n.fn.show),hide:function(n){return function(t){if(u(t))return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(n.fn.hide),toggle:function(n){return function(t){if(u(t)||"boolean"==typeof t)return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(n.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}})}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}});n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return 0===n||1===n?n:-Math.pow(2,8*(n-1))*Math.sin((80*(n-1)-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>n;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-n,2)}});n.each(t,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return.5>n?i(2*n)/2:1-i(-2*n+2)/2}})}()}(jQuery),function(n){var r=0,t={},i={};t.height=t.paddingTop=t.paddingBottom=t.borderTopWidth=t.borderBottomWidth="hide";i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show";n.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");t.collapsible||t.active!==!1&&null!=t.active||(t.active=0);this._processPanels();0>t.active&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n(),content:this.active.length?this.active.next():n()}},_createIcons:function(){var t=this.options.icons;t&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});this._destroyIcons();n=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&n.css("height","")},_setOption:function(n,t){return"active"===n?(this._activate(t),undefined):("event"===n&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),"collapsible"!==n||t||this.options.active!==!1||this._activate(0),"icons"===n&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===n&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),undefined)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels();t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=n()):t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,i=this.options,u=i.heightStyle,e=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++r);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(t){var i=n(this),r=i.attr("id"),e=i.next(),u=e.attr("id");r||(r=f+"-header-"+t,i.attr("id",r));u||(u=f+"-panel-"+t,e.attr("id",u));i.attr("aria-controls",u);e.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);"fill"===u?(t=e.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");"absolute"!==r&&"fixed"!==r&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===u&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,s=e?n():r.next(),h=u.next(),o={oldHeader:u,oldPanel:h,newHeader:e?n():r,newPanel:s};t.preventDefault();f&&!i.collapsible||this._trigger("beforeActivate",t,o)===!1||(i.active=e?!1:this.headers.index(r),this.active=f?n():r,this._toggle(o),u.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),f||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-expanded":"false","aria-hidden":"true"});i.prev().attr("aria-selected","false");r.length&&i.length?i.prev().attr("tabIndex",-1):r.length&&this.headers.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1);r.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(n,r,u){var l,f,e,a=this,h=0,v=n.length&&(!r.length||n.index()<r.index()),s=this.options.animate||{},o=v&&s.down||s,c=function(){a._toggleComplete(u)};return"number"==typeof o&&(e=o),"string"==typeof o&&(f=o),f=f||o.easing||s.easing,e=e||o.duration||s.duration,r.length?n.length?(l=n.show().outerHeight(),r.animate(t,{duration:e,easing:f,step:function(n,t){t.now=Math.round(n)}}),n.hide().animate(i,{duration:e,easing:f,complete:c,step:function(n,t){t.now=Math.round(n);"height"!==t.prop?h+=t.now:"content"!==a.options.heightStyle&&(t.now=Math.round(l-r.outerHeight()-h),h=0)}}),undefined):r.animate(t,e,f,c):n.animate(i,e,f,c)},_toggleComplete:function(n){var t=n.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}})}(jQuery),function(n){var t=0;n.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f="textarea"===u,e="input"===u;this.isMultiLine=f?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly"))return t=!0,r=!0,i=!0,undefined;t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault(),undefined;if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){return r?(r=!1,n.preventDefault(),undefined):(this._searchTimeout(n),undefined)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(n),this._change(n),undefined)}});this._initSource();this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)}),undefined;var r=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r;this.selectedItem=i}));!1!==this._trigger("select",n,{item:i})&&this._value(i.value);this.term=this._value();this.close(n);this.selectedItem=i}});this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);"source"===n&&this._initSource();"appendTo"===n&&this.menu.element.appendTo(this._appendTo());"disabled"===n&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return n=null!=n?n:this._value(),this.term=this._value(),n.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(n):undefined},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var n=this,i=++t;return function(r){i===t&&n.__response(r);n.pending--;n.pending||n.element.removeClass("ui-autocomplete-loading")}},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return"string"==typeof t?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<a>").text(i.label)).appendTo(t)},_move:function(n,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[n](t),undefined):(this.search(null,t),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(n){var t;this._superApply(arguments);this.options.disabled||this.cancelSearch||(t=n&&n.length?this.options.messages.results(n.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(n){var i,r,u,t,f="ui-button ui-widget ui-state-default ui-corner-all",s="ui-state-hover ui-state-active ",e="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var t=n(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},o=function(t){var i=t.name,r=t.form,u=n([]);return i&&(i=i.replace(/'/g,"\\'"),u=r?n(r).find("[name='"+i+"']"):n("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),u};n.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var s=this,e=this.options,c="checkbox"===this.type||"radio"===this.type,a=c?"":"ui-state-active",l="ui-state-focus";null===e.label&&(e.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){e.disabled||this===i&&n(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){e.disabled||n(this).removeClass(a)}).bind("click"+this.eventNamespace,function(n){e.disabled&&(n.preventDefault(),n.stopImmediatePropagation())});this.element.bind("focus"+this.eventNamespace,function(){s.buttonElement.addClass(l)}).bind("blur"+this.eventNamespace,function(){s.buttonElement.removeClass(l)});c&&(this.element.bind("change"+this.eventNamespace,function(){t||s.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(n){e.disabled||(t=!1,r=n.pageX,u=n.pageY)}).bind("mouseup"+this.eventNamespace,function(n){e.disabled||(r!==n.pageX||u!==n.pageY)&&(t=!0)}));"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return e.disabled||t?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled||t)return!1;n(this).addClass("ui-state-active");s.buttonElement.attr("aria-pressed","true");var i=s.element[0];o(i).not(i).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return e.disabled?!1:(n(this).addClass("ui-state-active"),i=this,s.document.one("mouseup",function(){i=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return e.disabled?!1:(n(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(t){return e.disabled?!1:((t.keyCode===n.ui.keyCode.SPACE||t.keyCode===n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()}));this._setOption("disabled",e.disabled);this._resetButton()},_determineButtonType:function(){var n,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(n=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(t),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(f+" "+s+" "+e).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(n,t){return this._super(n,t),"disabled"===n?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t);"radio"===this.type?o(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var i=this.buttonElement.removeClass(e),f=n("<span><\/span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",n.trim(f)))):r.push("ui-button-text-only");i.addClass(r.join(" "))}});n.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(n,t){"disabled"===n&&this.buttons.button("option",n,t);this._super(n,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(n,t){function f(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.dpDiv=e(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function e(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){n(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){n.datepicker._isDisabledDatepicker(u.inline?t.parent()[0]:u.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).addClass("ui-datepicker-next-hover"))})}function r(t,i){n.extend(t,i);for(var r in i)null==i[r]&&(t[r]=i[r]);return t}n.extend(n.ui,{datepicker:{version:"1.10.3"}});var u,i="datepicker";n.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return r(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase();f="div"===r||"span"===r;t.id||(this.uuid+=1,t.id="dp"+this.uuid);u=this._newInst(n(t),f);u.settings=n.extend({},i||{});"input"===r?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?e(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,r){var u=n(t);r.append=n([]);r.trigger=n([]);u.hasClass(this.markerClassName)||(this._attachments(u,r),u.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(r),n.data(t,i,r),r.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove();e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append));t.unbind("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");("focus"===u||"both"===u)&&t.focus(this._showDatepicker);("button"===u||"both"===u)&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;n.length>t;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay()));n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,r){var u=n(t);u.hasClass(this.markerClassName)||(u.addClass(this.markerClassName).append(r.dpDiv),n.data(t,i,r),this._setDate(r,this._getDefaultDate(r),!0),this._updateDatepicker(r),this._updateAlternate(r),r.settings.disabled&&this._disableDatepicker(t),r.dpDiv.css("display","block"))},_dialogDatepicker:function(t,u,f,e,o){var h,c,l,a,v,s=this._dialogInst;return s||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},n.data(this._dialogInput[0],i,s)),r(s.settings,e||{}),u=u&&u.constructor===Date?this._formatDate(s,u):u,this._dialogInput.val(u),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,a=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+a,l/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],i,s),this},_destroyDatepicker:function(t){var r,u=n(t),f=n.data(t,i);u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,i),"input"===r?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===r||"span"===r)&&u.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var r,u,f=n(t),e=n.data(t,i);f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),"input"===r?(t.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===r||"span"===r)&&(u=f.children("."+this._inlineClass),u.children().removeClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var r,u,f=n(t),e=n.data(t,i);f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),"input"===r?(t.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===r||"span"===r)&&(u=f.children("."+this._inlineClass),u.children().addClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,i)}catch(r){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(i,u,f){var o,c,s,h,e=this._getInst(i);return 2===arguments.length&&"string"==typeof u?"defaults"===u?n.extend({},n.datepicker._defaults):e?"all"===u?n.extend({},e.settings):this._get(e,u):null:(o=u||{},"string"==typeof u&&(o={},o[u]=f),e&&(this._curInst===e&&this._hideDatepicker(),c=this._getDateDatepicker(i,!0),s=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),r(e.settings,o),null!==s&&o.dateFormat!==t&&o.minDate===t&&(e.settings.minDate=this._formatDate(e,s)),null!==h&&o.dateFormat!==t&&o.maxDate===t&&(e.settings.maxDate=this._formatDate(e,h)),"disabled"in o&&(o.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(n(i),e),this._autoSize(e),this._setDate(e,c),this._updateAlternate(e),this._updateDatepicker(e)),t)},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var r,u,f=n.datepicker._getInst(i.target);return n.datepicker._get(f,"constrainInput")?(r=n.datepicker._possibleChars(n.datepicker._get(f,"dateFormat")),u=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">u||!r||r.indexOf(u)>-1):t},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var i,o,s,u,f,e,h;i=n.datepicker._getInst(t);n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0]));o=n.datepicker._get(i,"beforeShow");s=o?o.apply(t,[t,i]):{};s!==!1&&(r(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),u=!1,n(t).parents().each(function(){return u|="fixed"===n(this).css("position"),!u}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,u),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":u?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),i.inline||(e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),i.dpDiv.zIndex(n(t).zIndex()+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h):i.dpDiv[e||"show"](e?h:null),n.datepicker._shouldFocusInput(i)&&i.input.focus(),n.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4;u=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,r=this._getNumberOfMonths(t),f=r[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");f>1&&t.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.focus();t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);i=t.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var u,e,f,o,r=this._curInst;!r||t&&r!==n.data(t,i)||this._datepickerShowing&&(u=this._get(r,"showAnim"),e=this._get(r,"duration"),f=function(){n.datepicker._tidyDialog(r)},n.effects&&(n.effects.effect[u]||n.effects[u])?r.dpDiv.hide(u,n.datepicker._get(r,"showOptions"),e,f):r.dpDiv["slideDown"===u?"slideUp":"fadeIn"===u?"fadeOut":"hide"](u?e:null,f),u||f(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||0!==i.parents("#"+n.datepicker._mainDivId).length||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+("M"===r?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+("M"===r?"Month":"Year")]=u["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=null!=i?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).each(function(){n(this).val(u)}))},noWeekends:function(n){var t=n.getDay();return[t>0&&6>t,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(i,r,u){if(null==i||null==r)throw"Invalid arguments";if(r="object"==typeof r?""+r:r+"",""===r)return null;for(var v,y,f,e=0,p=(u?u.shortYearCutoff:null)||this._defaults.shortYearCutoff,g="string"!=typeof p?p:(new Date).getFullYear()%100+parseInt(p,10),nt=(u?u.dayNamesShort:null)||this._defaults.dayNamesShort,tt=(u?u.dayNames:null)||this._defaults.dayNames,it=(u?u.monthNamesShort:null)||this._defaults.monthNamesShort,rt=(u?u.monthNames:null)||this._defaults.monthNames,o=-1,h=-1,c=-1,w=-1,b=!1,a=function(n){var t=i.length>s+1&&i.charAt(s+1)===n;return t&&s++,t},l=function(n){var i=a(n),u="@"===n?14:"!"===n?20:"y"===n&&i?4:"o"===n?3:2,f=RegExp("^\\d{1,"+u+"}"),t=r.substring(e).match(f);if(!t)throw"Missing number at position "+e;return e+=t[0].length,parseInt(t[0],10)},d=function(i,u,f){var o=-1,s=n.map(a(i)?f:u,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(s,function(n,i){var u=i[1];return r.substr(e,u.length).toLowerCase()===u.toLowerCase()?(o=i[0],e+=u.length,!1):t}),-1!==o)return o+1;throw"Unknown name at position "+e;},k=function(){if(r.charAt(e)!==i.charAt(s))throw"Unexpected literal at position "+e;e++},s=0;i.length>s;s++)if(b)"'"!==i.charAt(s)||a("'")?k():b=!1;else switch(i.charAt(s)){case"d":c=l("d");break;case"D":d("D",nt,tt);break;case"o":w=l("o");break;case"m":h=l("m");break;case"M":h=d("M",it,rt);break;case"y":o=l("y");break;case"@":f=new Date(l("@"));o=f.getFullYear();h=f.getMonth()+1;c=f.getDate();break;case"!":f=new Date((l("!")-this._ticksTo1970)/1e4);o=f.getFullYear();h=f.getMonth()+1;c=f.getDate();break;case"'":a("'")?k():b=!0;break;default:k()}if(r.length>e&&(y=r.substr(e),!/^\s+/.test(y)))throw"Extra/unparsed characters found in date: "+y;if(-1===o?o=(new Date).getFullYear():100>o&&(o+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g>=o?0:-100)),w>-1)for(h=1,c=w;;){if(v=this._getDaysInMonth(o,h-1),v>=c)break;h++;c-=v}if(f=this._daylightSavingAdjust(new Date(o,h-1,c)),f.getFullYear()!==o||f.getMonth()+1!==h||f.getDate()!==c)throw"Invalid date";return f},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=n.length>u+1&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))for(;i>r.length;)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;n.length>u;u++)if(o)"'"!==n.charAt(u)||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=n.length>t+1&&n.charAt(t+1)===i;return r&&t++,r},t=0;n.length>t;t++)if(r)"'"!==n.charAt(t)||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=7*parseInt(u[1],10);break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=null==i||""===i?r:"string"==typeof i?e(i):"number"==typeof i?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&"Invalid Date"==""+u?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&""===n.input.val()?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,o,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),f=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),e=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=1!==e[0]||1!==e[1],ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(0>t&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-e[0]*e[1]+1,v.getDate())),b=w&&w>b?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,0>t&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(f?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(f?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",y=0;e[0]>y;y++){for(ct="",this.maxRows=4,p=0;e[1]>p;p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",e[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(f?"right":"left");break;case e[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(f?"left":"right");break;default:u+=" ui-datepicker-group-middle";l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&0===y?f?ut:rt:"")+(/all|right/.test(l)&&0===y?f?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",o=0;7>o;o++)vt=(o+c)%7,at+="<th"+((o+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;wt>bt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",o=0;7>o;o++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&w>i||v&&i>v,kt+="<td class='"+((o+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+(a&&!g||!d[2]?"":" title='"+d[2].replace(/'/g,"&#39;")+"'")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++;t>11&&(t=0,r++);u+="<\/tbody><\/table>"+(ti?"<\/div>"+(e[0]>0&&p===e[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"");ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!k||h>=r.getMonth())&&(!d||u.getMonth()>=h)&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(!f&&w&&b?"":"&#xa0;")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";a>=s;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(!f&&w&&b?"":"&#xa0;")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var u=n.drawYear+("Y"===i?t:0),f=n.drawMonth+("M"===i?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+("D"===i?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();("M"===i||"Y"===i)&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&i>t?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(0>t?t:f[0]*f[1]),1));return 0>t&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick),n.datepicker.initialized=!0);0===n("#"+n.datepicker._mainDivId).length&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)}):n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i))};n.datepicker=new f;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.10.3"}(jQuery),function(n){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};n.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;0>i&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&n.fn.draggable&&this._makeDraggable();this.options.resizable&&n.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);n=t.parent.children().eq(t.index);n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||n(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(n,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",n),i},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=n(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var n=this.element.find("[autofocus]");n.length||(n=this.element.find(":tabbable"));n.length||(n=this.uiDialogButtonPane.find(":tabbable"));n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable"));n.length||(n=this.uiDialog);n.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),undefined;if(t.keyCode===n.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(u.focus(1),t.preventDefault()):(r.focus(1),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=n("<button><\/button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault();this.close(n)}});t=n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(t);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title||n.html("&#160;");n.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||n.isArray(t)&&!t.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(n.each(t,function(t,r){var u,f;r=n.isFunction(r)?{click:r,text:t}:r;r=n.extend({type:"button"},r);u=r.click;r.click=function(){u.apply(i.element[0],arguments)};f={icons:r.icons,text:r.showText};delete r.icons;delete r.showText;n("<button><\/button>",r).button(f).appendTo(i.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){n(this).addClass("ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){r.position=[f.position.left-t.document.scrollLeft(),f.position.top-t.document.scrollTop()];n(this).removeClass("ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var i=this,t=this.options,u=t.resizable,f=this.uiDialog.css("position"),e="string"==typeof u?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:t.maxWidth,maxHeight:t.maxHeight,minWidth:t.minWidth,minHeight:this._minHeight(),handles:e,start:function(t,u){n(this).addClass("ui-dialog-resizing");i._blockFrames();i._trigger("resizeStart",t,r(u))},resize:function(n,t){i._trigger("resize",n,r(t))},stop:function(u,f){t.height=n(this).height();t.width=n(this).width();n(this).removeClass("ui-dialog-resizing");i._unblockFrames();i._trigger("resizeStop",u,r(f))}}).css("position",f)},_minHeight:function(){var n=this.options;return"auto"===n.height?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show();this.uiDialog.position(this.options.position);n||this.uiDialog.hide()},_setOptions:function(r){var e=this,u=!1,f={};n.each(r,function(n,r){e._setOption(n,r);n in t&&(u=!0);n in i&&(f[n]=r)});u&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(n,t){var u,r,i=this.uiDialog;"dialogClass"===n&&i.removeClass(this.options.dialogClass).addClass(t);"disabled"!==n&&(this._super(n,t),"appendTo"===n&&this.uiDialog.appendTo(this._appendTo()),"buttons"===n&&this._createButtons(),"closeText"===n&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===n&&(u=i.is(":data(ui-draggable)"),u&&!t&&i.draggable("destroy"),!u&&t&&this._makeDraggable()),"position"===n&&this._position(),"resizable"===n&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||t===!1||this._makeResizable()),"title"===n&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});n.minWidth>n.width&&(n.width=n.minWidth);t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();i=Math.max(0,n.minHeight-t);r="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none";"auto"===n.height?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return n(t.target).closest(".ui-dialog").length?!0:!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;n.ui.dialog.overlayInstances||this._delay(function(){n.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(r){t._allowInteraction(r)||(r.preventDefault(),n(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})});this.overlay=n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});n.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(n.ui.dialog.overlayInstances--,n.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}});n.ui.dialog.overlayInstances=0;n.uiBackCompat!==!1&&n.widget("ui.dialog",n.ui.dialog,{_position:function(){var u,t=this.options.position,i=[],r=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],1===i.length&&(i[1]=i[0]),n.each(["left","top"],function(n,t){+i[n]===i[n]&&(r[n]=i[n],i[n]=t)}),t={my:i[0]+(0>r[0]?r[0]:"+"+r[0])+" "+i[1]+(0>r[1]?r[1]:"+"+r[1]),at:i.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position;u=this.uiDialog.is(":visible");u||this.uiDialog.show();this.uiDialog.position(t);u||this.uiDialog.hide()}})}(jQuery),function(n){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;n.effects.effect.blind=function(r,u){var e,o,s,f=n(this),c=["position","top","bottom","left","right","height","width"],p=n.effects.setMode(f,r.mode||"hide"),w=r.direction||"up",h=t.test(w),l=h?"height":"width",a=h?"top":"left",b=i.test(w),v={},y="show"===p;f.parent().is(".ui-effects-wrapper")?n.effects.save(f.parent(),c):n.effects.save(f,c);f.show();e=n.effects.createWrapper(f).css({overflow:"hidden"});o=e[l]();s=parseFloat(e.css(a))||0;v[l]=y?o:0;b||(f.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),v[a]=y?s:o+s);y&&(e.css(l,0),b||e.css(a,s+o));e.animate(v,{duration:r.duration,easing:r.easing,queue:!1,complete:function(){"hide"===p&&f.hide();n.effects.restore(f,c);n.effects.removeWrapper(f);u()}})}}(jQuery),function(n){n.effects.effect.bounce=function(t,i){var v,f,e,r=n(this),y=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),o="hide"===k,p="show"===k,h=t.direction||"up",u=t.distance,w=t.times||5,d=2*w+(p||o?1:0),c=t.duration/d,l=t.easing,s="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,a=r.queue(),g=a.length;for((p||o)&&y.push("opacity"),n.effects.save(r,y),r.show(),n.effects.createWrapper(r),u||(u=r["top"===s?"outerHeight":"outerWidth"]()/3),p&&(e={opacity:1},e[s]=0,r.css("opacity",0).css(s,b?2*-u:2*u).animate(e,c,l)),o&&(u/=Math.pow(2,w-1)),e={},e[s]=0,v=0;w>v;v++)f={},f[s]=(b?"-=":"+=")+u,r.animate(f,c,l).animate(e,c,l),u=o?2*u:u/2;o&&(f={opacity:0},f[s]=(b?"-=":"+=")+u,r.animate(f,c,l));r.queue(function(){o&&r.hide();n.effects.restore(r,y);n.effects.removeWrapper(r);i()});g>1&&a.splice.apply(a,[1,0].concat(a.splice(g,d+1)));r.dequeue()}}(jQuery),function(n){n.effects.effect.clip=function(t,i){var h,u,f,r=n(this),c=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),e="show"===v,y=t.direction||"vertical",l="vertical"===y,o=l?"height":"width",a=l?"top":"left",s={};n.effects.save(r,c);r.show();h=n.effects.createWrapper(r).css({overflow:"hidden"});u="IMG"===r[0].tagName?h:r;f=u[o]();e&&(u.css(o,0),u.css(a,f/2));s[o]=e?f:0;s[a]=e?0:f/2;u.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){e||r.hide();n.effects.restore(r,c);n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.drop=function(t,i){var u,r=n(this),h=["position","top","bottom","left","right","opacity","height","width"],c=n.effects.setMode(r,t.mode||"hide"),e="show"===c,f=t.direction||"left",o="up"===f||"down"===f?"top":"left",s="up"===f||"left"===f?"pos":"neg",l={opacity:e?1:0};n.effects.save(r,h);r.show();n.effects.createWrapper(r);u=t.distance||r["top"===o?"outerHeight":"outerWidth"](!0)/2;e&&r.css("opacity",0).css(o,"pos"===s?-u:u);l[o]=(e?"pos"===s?"+=":"-=":"pos"===s?"-=":"+=")+u;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===c&&r.hide();n.effects.restore(r,h);n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.explode=function(t,i){function b(){p.push(this);p.length===o*c&&k()}function k(){r.css({visibility:"visible"});n(p).remove();u||r.hide();i()}for(var e,l,a,v,y,o=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=o,r=n(this),d=n.effects.setMode(r,t.mode||"hide"),u="show"===d,w=r.show().css("visibility","hidden").offset(),s=Math.ceil(r.outerWidth()/c),h=Math.ceil(r.outerHeight()/o),p=[],f=0;o>f;f++)for(a=w.top+f*h,y=f-(o-1)/2,e=0;c>e;e++)l=w.left+e*s,v=e-(c-1)/2,r.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-e*s,top:-f*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:l+(u?v*s:0),top:a+(u?y*h:0),opacity:u?0:1}).animate({left:l+(u?0:v*s),top:a+(u?0:y*h),opacity:u?1:0},t.duration||500,t.easing,b)}}(jQuery),function(n){n.effects.effect.fade=function(t,i){var r=n(this),u=n.effects.setMode(r,t.mode||"toggle");r.animate({opacity:u},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(n){n.effects.effect.fold=function(t,i){var r,e,u=n(this),s=["position","top","bottom","left","right","height","width"],h=n.effects.setMode(u,t.mode||"hide"),o="show"===h,c="hide"===h,f=t.size||15,l=/([0-9]+)%/.exec(f),a=!!t.horizFirst,v=o!==a,y=v?["width","height"]:["height","width"],p=t.duration/2,w={},b={};n.effects.save(u,s);u.show();r=n.effects.createWrapper(u).css({overflow:"hidden"});e=v?[r.width(),r.height()]:[r.height(),r.width()];l&&(f=parseInt(l[1],10)/100*e[c?0:1]);o&&r.css(a?{height:0,width:f}:{height:f,width:0});w[y[0]]=o?e[0]:f;b[y[1]]=o?e[1]:0;r.animate(w,p,t.easing).animate(b,p,t.easing,function(){c&&u.hide();n.effects.restore(u,s);n.effects.removeWrapper(u);i()})}}(jQuery),function(n){n.effects.effect.highlight=function(t,i){var r=n(this),u=["backgroundImage","backgroundColor","opacity"],f=n.effects.setMode(r,t.mode||"show"),e={backgroundColor:r.css("backgroundColor")};"hide"===f&&(e.opacity=0);n.effects.save(r,u);r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===f&&r.hide();n.effects.restore(r,u);i()}})}}(jQuery),function(n){n.effects.effect.pulsate=function(t,i){var e,r=n(this),o=n.effects.setMode(r,t.mode||"show"),h="show"===o,a="hide"===o,v=h||"hide"===o,s=2*(t.times||5)+(v?1:0),c=t.duration/s,u=0,f=r.queue(),l=f.length;for((h||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),e=1;s>e;e++)r.animate({opacity:u},c,t.easing),u=1-u;r.animate({opacity:u},c,t.easing);r.queue(function(){a&&r.hide();i()});l>1&&f.splice.apply(f,[1,0].concat(f.splice(l,s+1)));r.dequeue()}}(jQuery),function(n){n.effects.effect.puff=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"hide"),o="hide"===e,s=parseInt(t.percent,10)||150,f=s/100,u={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};n.extend(t,{effect:"scale",queue:!1,fade:!0,mode:e,complete:i,percent:o?s:100,from:o?u:{height:u.height*f,width:u.width*f,outerHeight:u.outerHeight*f,outerWidth:u.outerWidth*f}});r.effect(t)};n.effects.effect.scale=function(t,i){var u=n(this),r=n.extend(!0,{},t),f=n.effects.setMode(u,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===f?0:100),h=t.direction||"both",c=t.origin,e={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},o={y:"horizontal"!==h?s/100:1,x:"vertical"!==h?s/100:1};r.effect="size";r.queue=!1;r.complete=i;"effect"!==f&&(r.origin=c||["middle","center"],r.restore=!0);r.from=t.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:e);r.to={height:e.height*o.y,width:e.width*o.x,outerHeight:e.outerHeight*o.y,outerWidth:e.outerWidth*o.x};r.fade&&("show"===f&&(r.from.opacity=0,r.to.opacity=1),"hide"===f&&(r.from.opacity=1,r.to.opacity=0));u.effect(r)};n.effects.effect.size=function(t,i){var f,l,u,r=n(this),w=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["width","height","overflow"],v=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=n.effects.setMode(r,t.mode||"effect"),y=t.restore||"effect"!==h,c=t.scale||"both",b=t.origin||["middle","center"],k=r.css("position"),s=y?w:["position","top","bottom","left","right","overflow","opacity"],p={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&r.show();f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};"toggle"===t.mode&&"show"===h?(r.from=t.to||p,r.to=t.from||f):(r.from=t.from||("show"===h?p:f),r.to=t.to||("hide"===h?p:f));u={from:{y:r.from.height/f.height,x:r.from.width/f.width},to:{y:r.to.height/f.height,x:r.to.width/f.width}};("box"===c||"both"===c)&&(u.from.y!==u.to.y&&(s=s.concat(e),r.from=n.effects.setTransition(r,e,u.from.y,r.from),r.to=n.effects.setTransition(r,e,u.to.y,r.to)),u.from.x!==u.to.x&&(s=s.concat(o),r.from=n.effects.setTransition(r,o,u.from.x,r.from),r.to=n.effects.setTransition(r,o,u.to.x,r.to)));("content"===c||"both"===c)&&u.from.y!==u.to.y&&(s=s.concat(v).concat(a),r.from=n.effects.setTransition(r,v,u.from.y,r.from),r.to=n.effects.setTransition(r,v,u.to.y,r.to));n.effects.save(r,s);r.show();n.effects.createWrapper(r);r.css("overflow","hidden").css(r.from);b&&(l=n.effects.getBaseline(b,f),r.from.top=(f.outerHeight-r.outerHeight())*l.y,r.from.left=(f.outerWidth-r.outerWidth())*l.x,r.to.top=(f.outerHeight-r.to.outerHeight)*l.y,r.to.left=(f.outerWidth-r.to.outerWidth)*l.x);r.css(r.from);("content"===c||"both"===c)&&(e=e.concat(["marginTop","marginBottom"]).concat(v),o=o.concat(["marginLeft","marginRight"]),a=w.concat(e).concat(o),r.find("*[width]").each(function(){var i=n(this),r={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};y&&n.effects.save(i,a);i.from={height:r.height*u.from.y,width:r.width*u.from.x,outerHeight:r.outerHeight*u.from.y,outerWidth:r.outerWidth*u.from.x};i.to={height:r.height*u.to.y,width:r.width*u.to.x,outerHeight:r.height*u.to.y,outerWidth:r.width*u.to.x};u.from.y!==u.to.y&&(i.from=n.effects.setTransition(i,e,u.from.y,i.from),i.to=n.effects.setTransition(i,e,u.to.y,i.to));u.from.x!==u.to.x&&(i.from=n.effects.setTransition(i,o,u.from.x,i.from),i.to=n.effects.setTransition(i,o,u.to.x,i.to));i.css(i.from);i.animate(i.to,t.duration,t.easing,function(){y&&n.effects.restore(i,a)})}));r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity);"hide"===h&&r.hide();n.effects.restore(r,s);y||("static"===k?r.css({position:"relative",top:r.to.top,left:r.to.left}):n.each(["top","left"],function(n,t){r.css(t,function(t,i){var f=parseInt(i,10),u=n?r.to.left:r.to.top;return"auto"===i?u+"px":f+u+"px"})}));n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.shake=function(t,i){var o,r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=t.direction||"left",s=t.distance||20,y=t.times||3,p=2*y+1,u=Math.round(t.duration/p),h="up"===f||"down"===f?"top":"left",c="up"===f||"left"===f,l={},a={},w={},e=r.queue(),b=e.length;for(n.effects.save(r,v),r.show(),n.effects.createWrapper(r),l[h]=(c?"-=":"+=")+s,a[h]=(c?"+=":"-=")+2*s,w[h]=(c?"-=":"+=")+2*s,r.animate(l,u,t.easing),o=1;y>o;o++)r.animate(a,u,t.easing).animate(w,u,t.easing);r.animate(a,u,t.easing).animate(l,u/2,t.easing).queue(function(){"hide"===k&&r.hide();n.effects.restore(r,v);n.effects.removeWrapper(r);i()});b>1&&e.splice.apply(e,[1,0].concat(e.splice(b,p+1)));r.dequeue()}}(jQuery),function(n){n.effects.effect.slide=function(t,i){var u,r=n(this),s=["position","top","bottom","left","right","width","height"],h=n.effects.setMode(r,t.mode||"show"),c="show"===h,f=t.direction||"left",e="up"===f||"down"===f?"top":"left",o="up"===f||"left"===f,l={};n.effects.save(r,s);r.show();u=t.distance||r["top"===e?"outerHeight":"outerWidth"](!0);n.effects.createWrapper(r).css({overflow:"hidden"});c&&r.css(e,o?isNaN(u)?"-"+u:-u:u);l[e]=(c?o?"+=":"-=":o?"-=":"+=")+u;r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===h&&r.hide();n.effects.restore(r,s);n.effects.removeWrapper(r);i()}})}}(jQuery),function(n){n.effects.effect.transfer=function(t,i){var u=n(this),r=n(t.to),f="fixed"===r.css("position"),e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo(document.body).addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove();i()})}}(jQuery),function(n){n.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(n){this.options.disabled&&n.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(n){n.preventDefault()},"click .ui-state-disabled > a":function(n){n.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=n(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=n(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(t){n(t.target).closest(".ui-menu").length||this.collapseAll(t);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function o(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,f,r,e,u,s=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1;f=this.previousFilter||"";r=String.fromCharCode(t.keyCode);e=!1;clearTimeout(this.filterTimer);r===f?e=!0:r=f+r;u=RegExp("^"+o(r),"i");i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())});i=e&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),u=RegExp("^"+o(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())}));i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}s&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var t,r=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.prev("a"),u=n("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(u);t.attr("aria-labelledby",i.attr("id"))});t=i.add(this.element);t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});t.children(":not(.ui-menu-item)").each(function(){var t=n(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")});t.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){"icons"===n&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu);this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&"focus"===n.type);this._scrollIntoView(t);this.active=t.first();r=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");n&&"keydown"===n.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.height(),0>i?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){t||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){clearTimeout(this.timer);"true"===n.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r="first"===n||"last"===n?this.active["first"===n?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;return this.active?(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),0>i.offset().top-r-u}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(t),undefined)},previousPage:function(t){var i,r,u;return this.active?(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(t),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)}})}(jQuery),function(n,t){function e(n,t,i){return[parseFloat(n[0])*(a.test(n[0])?t/100:1),parseFloat(n[1])*(a.test(n[1])?i/100:1)]}function r(t,i){return parseInt(n.css(t,i),10)||0}function v(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var f,u=Math.max,i=Math.abs,o=Math.round,s=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,a=/%$/,y=n.fn.position;n.position={scrollbarWidth:function(){if(f!==t)return f;var u,r,i=n("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),e=i.children()[0];return n("body").append(i),u=e.offsetWidth,i.css("overflow","scroll"),r=e.offsetWidth,u===r&&(r=i[0].clientWidth),i.remove(),f=u-r},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),u="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,f="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]);return{element:i,isWindow:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r?i.width():i.outerWidth(),height:r?i.height():i.outerHeight()}}};n.fn.position=function(t){if(!t||!t.of)return y.apply(this,arguments);t=n.extend({},t);var b,f,a,w,p,d,g=n(t.of),tt=n.position.getWithinInfo(t.within),it=n.position.getScrollInfo(tt),k=(t.collision||"flip").split(" "),nt={};return d=v(g),g[0].preventDefault&&(t.at="left top"),f=d.width,a=d.height,w=d.offset,p=n.extend({},w),n.each(["my","at"],function(){var i,r,n=(t[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]);n[0]=s.test(n[0])?n[0]:"center";n[1]=h.test(n[1])?n[1]:"center";i=c.exec(n[0]);r=c.exec(n[1]);nt[this]=[i?i[0]:0,r?r[0]:0];t[this]=[l.exec(n[0])[0],l.exec(n[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===t.at[0]?p.left+=f:"center"===t.at[0]&&(p.left+=f/2),"bottom"===t.at[1]?p.top+=a:"center"===t.at[1]&&(p.top+=a/2),b=e(nt.at,f,a),p.left+=b[0],p.top+=b[1],this.each(function(){var y,d,h=n(this),c=h.outerWidth(),l=h.outerHeight(),rt=r(this,"marginLeft"),ut=r(this,"marginTop"),ft=c+rt+r(this,"marginRight")+it.width,et=l+ut+r(this,"marginBottom")+it.height,s=n.extend({},p),v=e(nt.my,h.outerWidth(),h.outerHeight());"right"===t.my[0]?s.left-=c:"center"===t.my[0]&&(s.left-=c/2);"bottom"===t.my[1]?s.top-=l:"center"===t.my[1]&&(s.top-=l/2);s.left+=v[0];s.top+=v[1];n.support.offsetFractions||(s.left=o(s.left),s.top=o(s.top));y={marginLeft:rt,marginTop:ut};n.each(["left","top"],function(i,r){n.ui.position[k[i]]&&n.ui.position[k[i]][r](s,{targetWidth:f,targetHeight:a,elemWidth:c,elemHeight:l,collisionPosition:y,collisionWidth:ft,collisionHeight:et,offset:[b[0]+v[0],b[1]+v[1]],my:t.my,at:t.at,within:tt,elem:h})});t.using&&(d=function(n){var r=w.left-s.left,v=r+f-c,e=w.top-s.top,y=e+a-l,o={target:{element:g,left:w.left,top:w.top,width:f,height:a},element:{element:h,left:s.left,top:s.top,width:c,height:l},horizontal:0>v?"left":r>0?"right":"center",vertical:0>y?"top":e>0?"bottom":"middle"};c>f&&f>i(r+v)&&(o.horizontal="center");l>a&&a>i(e+y)&&(o.vertical="middle");o.important=u(i(r),i(v))>u(i(e),i(y))?"horizontal":"vertical";t.using.call(this,n,o)});h.offset(n.extend(s,{using:d}))})};n.ui.position={fit:{left:function(n,t){var h,e=t.within,r=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=r-s,f=s+t.collisionWidth-o-r;t.collisionWidth>o?i>0&&0>=f?(h=n.left+i+t.collisionWidth-o-r,n.left+=i-h):n.left=f>0&&0>=i?r:i>f?r+o-t.collisionWidth:r:i>0?n.left+=i:f>0?n.left-=f:n.left=u(n.left-s,n.left)},top:function(n,t){var h,o=t.within,r=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=r-s,f=s+t.collisionHeight-e-r;t.collisionHeight>e?i>0&&0>=f?(h=n.top+i+t.collisionHeight-e-r,n.top+=i-h):n.top=f>0&&0>=i?r:i>f?r+e-t.collisionHeight:r:i>0?n.top+=i:f>0?n.top-=f:n.top=u(n.top-s,n.top)}},flip:{left:function(n,t){var o,s,r=t.within,y=r.offset.left+r.scrollLeft,c=r.width,h=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-t.collisionPosition.marginLeft,a=l-h,v=l+t.collisionWidth-c-h,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,e=-2*t.offset[0];0>a?(o=n.left+u+f+e+t.collisionWidth-c-y,(0>o||i(a)>o)&&(n.left+=u+f+e)):v>0&&(s=n.left-t.collisionPosition.marginLeft+u+f+e-h,(s>0||v>i(s))&&(n.left+=u+f+e))},top:function(n,t){var o,s,r=t.within,y=r.offset.top+r.scrollTop,a=r.height,h=r.isWindow?r.scrollTop:r.offset.top,v=n.top-t.collisionPosition.marginTop,c=v-h,l=v+t.collisionHeight-a-h,p="top"===t.my[1],u=p?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,e=-2*t.offset[1];0>c?(s=n.top+u+f+e+t.collisionHeight-a-y,n.top+u+f+e>c&&(0>s||i(c)>s)&&(n.top+=u+f+e)):l>0&&(o=n.top-t.collisionPosition.marginTop+u+f+e-h,n.top+u+f+e>l&&(o>0||l>i(o))&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,f,e=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(e?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in r)t.style[f]=r[f];t.appendChild(o);i=e||document.documentElement;i.insertBefore(t,i.firstChild);o.style.cssText="position: absolute; left: 10.7432222px;";u=n(o).offset().left;n.support.offsetFractions=u>10&&11>u;t.innerHTML="";i.removeChild(t)}()}(jQuery),function(n,t){n.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(n){return n===t?this.options.value:(this.options.value=this._constrainedValue(n),this._refreshValue(),t)},_constrainedValue:function(n){return n===t&&(n=this.options.value),this.indeterminate=n===!1,"number"!=typeof n&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){"max"===n&&(t=Math.max(this.min,t));this._super(n,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'><\/div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}})}(jQuery),function(n){var t=5;n.widget("ui.slider",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;i>r;r++)f.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'><\/a>");this.handles=t.add(n(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=n("<div><\/div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=n([])},_setupEvents:function(){var n=this.handles.add(this.range).filter("a");this._off(n);this._on(n,this._handleEvents);this._hoverable(n);this._focusable(n)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return"horizontal"===this.orientation?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),0>t&&(t=0),"vertical"===this.orientation&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>r||1===t&&r>i)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i,!0))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._lastChangedValue=t;this._trigger("change",n,i)}},value:function(n){return arguments.length?(this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(t,i){var u,f,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),undefined;if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(u=this.options.values,f=arguments[0],r=0;u.length>r;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var r,u=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),n.isArray(this.options.values)&&(u=this.options.values.length),n.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;u>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),i=0;t.length>i;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(this._valueMin()>=n)return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=100*((r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin()));o["horizontal"===r.orientation?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&("horizontal"===r.orientation?(0===f&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(0===f&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?100*((c-f)/(h-f)):0,o["horizontal"===this.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),"min"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),"max"===e&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),"max"===e&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))},_handleEvents:{keydown:function(i){var o,u,r,f,e=n(i.target).data("ui-slider-handle-index");switch(i.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(i.target).addClass("ui-state-active"),o=this._start(i,e),o===!1))return}switch(f=this.options.step,u=r=this.options.values&&this.options.values.length?this.values(e):this.value(),i.keyCode){case n.ui.keyCode.HOME:r=this._valueMin();break;case n.ui.keyCode.END:r=this._valueMax();break;case n.ui.keyCode.PAGE_UP:r=this._trimAlignValue(u+(this._valueMax()-this._valueMin())/t);break;case n.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(u-(this._valueMax()-this._valueMin())/t);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(u===this._valueMax())return;r=this._trimAlignValue(u+f);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(u===this._valueMin())return;r=this._trimAlignValue(u-f)}this._slide(i,e,r)},click:function(n){n.preventDefault()},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(n){function t(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}n.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);void 0!==u&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n),void 0)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100);n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var n=this.element[0]===this.document[0].activeElement;n||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();t.preventDefault();r.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;r.call(this)});this._start(t)!==!1&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active"))return this._start(t)===!1?!1:(this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var n=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=n.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*n.height())&&n.height()>0&&n.height(n.height());this.options.disabled&&this.disable()},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;<\/span><\/a>"},_start:function(n){return this.spinning||this._trigger("start",n)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=""+n,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return r=null!==t.min?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),null!==t.max&&n>t.max?t.max:null!==t.min&&t.min>n?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){if("culture"===n||"numberFormat"===n){var i=this._parse(this.element.val());return this.options[n]=t,this.element.val(this._format(i)),void 0}("max"===n||"min"===n||"step"===n)&&"string"==typeof t&&(t=this._parse(t));"icons"===n&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down));this._super(n,t);"disabled"===n&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(n){this._super(n);this._value(this.element.val())}),_parse:function(n){return"string"==typeof n&&""!==n&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),""===n||isNaN(n)?null:n},_format:function(n){return""===n?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(n,t){var i;""!==n&&(i=this._parse(n),null!==i&&(t||(i=this._adjustValue(i)),n=this._format(i)));this.element.val(n);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){return arguments.length?(t(this._value).call(this,n),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(n,t){function u(){return++f}function i(n){return n.hash.length>1&&decodeURIComponent(n.href.replace(r,""))===decodeURIComponent(location.href.replace(r,""))}var f=0,r=/#.*$/;n.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var i=this,t=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();t.active=this._initialActive();n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var i=this.options.active,r=this.options.collapsible,u=location.hash.substring(1);return null===i&&(u&&this.tabs.each(function(r,f){return n(f).attr("aria-controls")===u?(i=r,!1):t}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=r?!1:0)),!r&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(i){var u=n(this.document[0].activeElement).closest("li"),r=this.tabs.index(u),f=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:r++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:f=!1;r--;break;case n.ui.keyCode.END:r=this.anchors.length-1;break;case n.ui.keyCode.HOME:r=0;break;case n.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(r),t;case n.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(r===this.options.active?!1:r),t;default:return}i.preventDefault();clearTimeout(this.activating);r=this._focusNextTab(r,f);i.ctrlKey||(u.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):t},_findNextTab:function(t,i){function u(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==n.inArray(u(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).focus(),n},_setOption:function(n,i){return"active"===n?(this._activate(i),t):"disabled"===n?(this._setupDisabled(i),t):(this._super(n,i),"collapsible"===n&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===n&&this._setupEvents(i),"heightStyle"===n&&this._setupHeightStyle(i),t)},_tabId:function(n){return n.attr("aria-controls")||"ui-tabs-"+u()},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=n();this.anchors.each(function(r,u){var e,f,s,h=n(u).uniqueId().attr("id"),o=n(u).closest("li"),c=o.attr("aria-controls");i(u)?(e=u.hash,f=t.element.find(t._sanitizeSelector(e))):(s=t._tabId(o),e="#"+s,f=t.element.find(e),f.length||(f=t._createPanel(s),f.insertAfter(t.panels[r-1]||t.tablist)),f.attr("aria-live","polite"));f.length&&(t.panels=t.panels.add(f));c&&o.data("ui-tabs-aria-controls",c);o.attr({"aria-controls":e.substring(1),"aria-labelledby":h});f.attr("aria-labelledby",h)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,r=0;i=this.tabs[r];r++)t===!0||-1!==n.inArray(r,t)?n(i).addClass("ui-state-disabled").attr("aria-disabled","true"):n(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(n){n.preventDefault()}};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};t.preventDefault();i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){u.running=!1;u._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active");r.length&&u.options.show?u._show(r,u.options.show,e):(r.show(),e())}var u=this,r=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o());f.attr({"aria-expanded":"false","aria-hidden":"true"});i.oldTab.attr("aria-selected","false");r.length&&f.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1);r.attr({"aria-expanded":"true","aria-hidden":"false"});i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(n){return"string"==typeof n&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var r=this.options.disabled;r!==!1&&(i===t?r=!1:(i=this._getIndex(i),r=n.isArray(r)?n.map(r,function(n){return n!==i?n:null}):n.map(this.tabs,function(n,t){return t!==i?t:null})),this._setupDisabled(r))},disable:function(i){var r=this.options.disabled;if(r!==!0){if(i===t)r=!0;else{if(i=this._getIndex(i),-1!==n.inArray(i,r))return;r=n.isArray(r)?n.merge([i],r).sort():[i]}this._setupDisabled(r)}},load:function(t,r){t=this._getIndex(t);var f=this,u=this.tabs.eq(t),o=u.find(".ui-tabs-anchor"),e=this._getPanelForTab(u),s={tab:u,panel:e};i(o[0])||(this.xhr=n.ajax(this._ajaxSettings(o,r,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(u.addClass("ui-tabs-loading"),e.attr("aria-busy","true"),this.xhr.success(function(n){setTimeout(function(){e.html(n);f._trigger("load",r,s)},1)}).complete(function(n,t){setTimeout(function(){"abort"===t&&f.panels.stop(!1,!0);u.removeClass("ui-tabs-loading");e.removeAttr("aria-busy");n===f.xhr&&delete f.xhr},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(n){function t(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i);t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))}function i(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);-1!==r&&i.splice(r,1);t.removeData("ui-tooltip-id");i=n.trim(i.join(" "));i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var r=0;n.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var t=n(this).attr("title")||"";return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(t,i){var r=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&n.each(this.tooltips,function(n,t){r._updateContent(t)}),void 0)},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0];t.close(u,!0)});this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var i,t=n(this);t.data("ui-tooltip-open")&&(i=n.Event("blur"),i.target=i.currentTarget=this,r.close(i,!0));t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(n,t){var i,r=this.options.content,u=this,f=t?t.type:null;return"string"==typeof r?this._open(t,n,r):(i=r.call(n[0],function(i){n.data("ui-tooltip-open")&&u._delay(function(){t&&(t.type=f);this._open(t,n,i)})}),i&&this._open(t,n,i),void 0)},_open:function(i,r,u){function o(n){s.of=n;f.is(":hidden")||f.position(s)}var f,e,h,s=n.extend({},this.options.position);if(u){if(f=this._find(r),f.length)return f.find(".ui-tooltip-content").html(u),void 0;r.is("[title]")&&(i&&"mouseover"===i.type?r.attr("title",""):r.removeAttr("title"));f=this._tooltip(r);t(r,f.attr("id"));f.find(".ui-tooltip-content").html(u);this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):f.position(n.extend({of:r},this.options.position));f.hide();this._show(f,this.options.show);this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){f.is(":visible")&&(o(s.of),clearInterval(h))},n.fx.interval));this._trigger("open",i,{tooltip:f});e={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var i=n.Event(t);i.currentTarget=r[0];this.close(i,!0)}},remove:function(){this._removeTooltip(f)}};i&&"mouseover"!==i.type||(e.mouseleave="close");i&&"focusin"!==i.type||(e.focusout="close");this._on(!0,r,e)}},close:function(t){var f=this,r=n(t?t.currentTarget:this.element),u=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),i(r),u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title);delete f.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:u}),this.closing=!1)},_tooltip:function(t){var u="ui-tooltip-"+r++,i=n("<div>").attr({id:u,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return n("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[u]=t,i},_find:function(t){var i=t.data("ui-tooltip-id");return i?n("#"+i):n()},_removeTooltip:function(n){n.remove();delete this.tooltips[n.attr("id")]},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0];t.close(u,!0);n("#"+i).remove();r.data("ui-tooltip-title")&&(r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))})}})}(jQuery);!function(n){function t(n,t){if(!(n.originalEvent.touches.length>1)){n.preventDefault();var i=n.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(r)}}if(n.support.touch="ontouchend"in document,n.support.touch){var i,r=n.ui.mouse.prototype,u=r._mouseInit;r._touchStart=function(n){var r=this;!i&&r._mouseCapture(n.originalEvent.changedTouches[0])&&(i=!0,r._touchMoved=!1,t(n,"mouseover"),t(n,"mousemove"),t(n,"mousedown"))};r._touchMove=function(n){i&&(this._touchMoved=!0,t(n,"mousemove"))};r._touchEnd=function(n){i&&(t(n,"mouseup"),t(n,"mouseout"),this._touchMoved||t(n,"click"),i=!1)};r._mouseInit=function(){var t=this;t.element.bind("touchstart",n.proxy(t,"_touchStart")).bind("touchmove",n.proxy(t,"_touchMove")).bind("touchend",n.proxy(t,"_touchEnd"));u.call(t)}}}(jQuery);$.root_=$("body");$.navAsAjax=!1;$.sound_path="sound/";$.sound_on=!1;var root=this,debugState=!1,debugStyle="font-weight: bold; color: #00f;",debugStyle_green="font-weight: bold; font-style:italic; color: #46C246;",debugStyle_red="font-weight: bold; color: #ed1c24;",debugStyle_warning="background-color:yellow",debugStyle_success="background-color:green; font-weight:bold; color:#fff;",debugStyle_error="background-color:#ed1c24; font-weight:bold; color:#fff;",throttle_delay=350,menu_speed=235,menu_accordion=!0,enableJarvisWidgets=!0,localStorageJarvisWidgets=!0,sortableJarvisWidgets=!0,enableMobileWidgets=!1,fastClick=!0,boxList=[],showList=[],nameList=[],idList=[],chatbox_config={width:200,gap:35},ignore_key_elms=["#header, #left-panel, #right-panel, #main, div.page-footer, #shortcut, #divSmallBoxes, #divMiniIcons, #divbigBoxes, #voiceModal, script, .ui-chatbox"],voice_command=!0,voice_command_auto=!1,voice_command_lang="en-US",voice_localStorage=!0;if(voice_command&&(commands={"go back":function(){history.back(1)},"scroll up":function(){$("html, body").animate({scrollTop:0},100)},"scroll down":function(){$("html, body").animate({scrollTop:$(document).height()},100)},"hide navigation":function(){$.root_.hasClass("container")&&!$.root_.hasClass("menu-on-top")?$("span.minifyme").trigger("click"):$("#hide-menu > span > a").trigger("click")},"show navigation":function(){$.root_.hasClass("container")&&!$.root_.hasClass("menu-on-top")?$("span.minifyme").trigger("click"):$("#hide-menu > span > a").trigger("click")},mute:function(){$.sound_on=!1;$.smallBox({title:"MUTE",content:"All sounds have been muted!",color:"#a90329",timeout:4e3,icon:"fa fa-volume-off"})},"sound on":function(){$.sound_on=!0;$.speechApp.playConfirmation();$.smallBox({title:"UNMUTE",content:"All sounds have been turned on!",color:"#40ac2b",sound_file:"voice_alert",timeout:5e3,icon:"fa fa-volume-up"})},stop:function(){smartSpeechRecognition.abort();$.root_.removeClass("voice-command-active");$.smallBox({title:"VOICE COMMAND OFF",content:"Your voice commands has been successfully turned off. Click on the <i class='fa fa-microphone fa-lg fa-fw'><\/i> icon to turn it back on.",color:"#40ac2b",sound_file:"voice_off",timeout:8e3,icon:"fa fa-microphone-slash"});$("#speech-btn .popover").is(":visible")&&$("#speech-btn .popover").fadeOut(250)},help:function(){$("#voiceModal").removeData("modal").modal({remote:"ajax/modal-content/modal-voicecommand.html",show:!0});$("#speech-btn .popover").is(":visible")&&$("#speech-btn .popover").fadeOut(250)},"got it":function(){$("#voiceModal").modal("hide")},logout:function(){$.speechApp.stop();window.location=$("#logout > span > a").attr("href")}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(void 0!==i.style[n])return{end:t[n]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""));r=n(u);i&&i.preventDefault();r.length||(r=f.closest(".alert"));r.trigger(i=n.Event("close.bs.alert"));i.isDefaultPrevented()||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.4";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t+="Text";null==u.resetText&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](null==u[t]?this.options[t]:u[t]);"loadingText"==t?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")):this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.4";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f="prev"==n&&0===i||"next"==n&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r="prev"==n?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(0>n))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f="next"==i?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),(this.$element.trigger(s),!s.isDefaultPrevented())?((this.sliding=!0,l&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this):void 0)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.4";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!(r&&r.length&&(f=r.data("bs.collapse"),f&&f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented()))){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},n.support.transition?void this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION):u.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var r=n(this),i=u(r),f={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.4";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=u(f),o=i.hasClass("open"),r(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger("shown.bs.dropdown",e)}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,r;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.disabled):visible a";f=o.find('[role="menu"]'+h+', [role="listbox"]'+h);f.length&&(r=f.index(t.target),38==t.which&&r>0&&r--,40==t.which&&r<f.length-1&&r++,~r||(r=0),f.eq(r).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',t.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.4";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(u);this.isShown||u.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in").attr("aria-hidden",!1);r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)}))};t.prototype.hide=function(i){i&&i.preventDefault();i=n.Event("hide.bs.modal");this.$element.trigger(i);this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n('<div class="modal-backdrop '+f+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;if(y){var w=i,b=this.options.container?n(this.options.container):this.$element.parent(),e=this.getPosition(b);i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i;r.removeClass(w).addClass(i)}p=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(p,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top=t.top+o;t.left=t.left+s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=u.hoverState&&r.detach();u.$element.removeAttr("aria-describedby").trigger("hidden.bs."+u.type);i&&i()}var u=this,r=n(this.$tip),e=n.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r="BODY"==u.tagName,i=u.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.width&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type)})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.4";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(n(i).is(document.body)?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.3.4";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(void 0===t[n+1]||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.4";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);o?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),o=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&o?f.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.4";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(null!=i&&"top"==this.affixed)return i>u?"top":!1;if("bottom"==this.affixed)return null!=i?u+this.unpin<=f.top?!1:"bottom":n-r>=u+e?!1:"bottom";var o=null==this.affixed,s=o?u:f.top,h=o?e:t;return null!=i&&i>=u?"top":null!=r&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=n(document.body).height();if("object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==i&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom);null!=t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);jQuery(document).ready(function(){$("body").append("<div id='divSmallBoxes'><\/div>");$("body").append("<div id='divMiniIcons'><\/div><div id='divbigBoxes'><\/div>")});var ExistMsg=0,SmartMSGboxCount=0,PrevTop=0;$.SmartMessageBox=function(n,t){var h,r,c,e,f,o,u,s,i;if(n=$.extend({title:"",content:"",NormalButton:void 0,ActiveButton:void 0,buttons:void 0,input:void 0,inputValue:void 0,placeholder:"",options:void 0},n),c=0,(c=1,0==isIE8orlower()&&$.sound_on)&&(e=document.createElement("audio"),e.setAttribute("src",$.sound_path+"messagebox.mp3"),e.addEventListener("load",function(){e.play()},!0),e.pause(),e.play()),SmartMSGboxCount+=1,0==ExistMsg&&(ExistMsg=1,h="<div class='divMessageBox animated fadeIn fast' id='MsgBoxBack'><\/div>",$("body").append(h),1==isIE8orlower()&&$("#MsgBoxBack").addClass("MessageIE")),f="",o=0,void 0!=n.input)switch(o=1,n.input=n.input.toLowerCase(),n.input){case"text":n.inputValue="string"===$.type(n.inputValue)?n.inputValue.replace(/'/g,"&#x27;"):n.inputValue;f="<input class='form-control' type='"+n.input+"' id='txt"+SmartMSGboxCount+"' placeholder='"+n.placeholder+"' value='"+n.inputValue+"'/><br/><br/>";break;case"password":f="<input class='form-control' type='"+n.input+"' id='txt"+SmartMSGboxCount+"' placeholder='"+n.placeholder+"'/><br/><br/>";break;case"select":if(void 0==n.options)alert("For this type of input, the options parameter is required.");else{for(f="<select class='form-control' id='txt"+SmartMSGboxCount+"'>",i=0;i<=n.options.length-1;i++)"["==n.options[i]?u="":"]"==n.options[i]?(s+=1,u="<option>"+u+"<\/option>",f+=u):u+=n.options[i];f+="<\/select>"}break;default:alert("That type of input is not handled yet")}for(r="<div class='MessageBoxContainer animated fadeIn fast' id='Msg"+SmartMSGboxCount+"'>",r+="<div class='MessageBoxMiddle'>",r+="<span class='MsgTitle'>"+n.title+"<\/span class='MsgTitle'>",r+="<p class='pText'>"+n.content+"<\/p>",r+=f,r+="<div class='MessageBoxButtonSection'>",void 0==n.buttons&&(n.buttons="[Accept]"),n.buttons=$.trim(n.buttons),n.buttons=n.buttons.split(""),u="",s=0,void 0==n.NormalButton&&(n.NormalButton="#232323"),void 0==n.ActiveButton&&(n.ActiveButton="#ed145b"),i=0;i<=n.buttons.length-1;i++)"["==n.buttons[i]?u="":"]"==n.buttons[i]?(s+=1,u="<button id='bot"+s+"-Msg"+SmartMSGboxCount+"' class='btn btn-default btn-sm botTempo'> "+u+"<\/button>",r+=u):u+=n.buttons[i];r+="<\/div>";r+="<\/div>";r+="<\/div>";SmartMSGboxCount>1&&($(".MessageBoxContainer").hide(),$(".MessageBoxContainer").css("z-index",99999));$(".divMessageBox").append(r);1==o&&$("#txt"+SmartMSGboxCount).focus();$(".botTempo").hover(function(){$(this).attr("id")},function(){$(this).attr("id")});$(".botTempo").click(function(){var n=$(this).attr("id"),i=n.substr(n.indexOf("-")+1),r=$.trim($(this).text()),u,f;1==o?"function"==typeof t&&(u=i.replace("Msg",""),f=$("#txt"+u).val(),t&&t(r,f)):"function"==typeof t&&t&&t(r);$("#"+i).addClass("animated fadeOut fast");SmartMSGboxCount-=1;0==SmartMSGboxCount&&$("#MsgBoxBack").removeClass("fadeIn").addClass("fadeOut").delay(300).queue(function(){ExistMsg=0;$(this).remove()})})};BigBoxes=0;$.bigBox=function(n,t){var i,r,f;(n=$.extend({title:"",content:"",icon:void 0,number:void 0,color:void 0,sound:$.sound_on,sound_file:"bigbox",timeout:void 0,colortime:1500,colors:void 0},n),n.sound&&0==isIE8orlower())&&(r=document.createElement("audio"),navigator.userAgent.match("Firefox/")?r.setAttribute("src",$.sound_path+n.sound_file+".ogg"):r.setAttribute("src",$.sound_path+n.sound_file+".mp3"),r.addEventListener("load",function(){r.play()},!0),r.pause(),r.play());BigBoxes+=1;i="<div id='bigBox"+BigBoxes+"' class='bigBox animated fadeIn fast'><div id='bigBoxColor"+BigBoxes+"'><i class='botClose fa fa-times' id='botClose"+BigBoxes+"'><\/i>";i+="<span>"+n.title+"<\/span>";i+="<p>"+n.content+"<\/p>";i+="<div class='bigboxicon'>";void 0==n.icon&&(n.icon="fa fa-cloud");i+="<i class='"+n.icon+"'><\/i>";i+="<\/div>";i+="<div class='bigboxnumber'>";void 0!=n.number&&(i+=n.number);i+="<\/div><\/div>";i+="<\/div>";$("#divbigBoxes").append(i);void 0==n.color&&(n.color="#004d60");$("#bigBox"+BigBoxes).css("background-color",n.color);$("#divMiniIcons").append("<div id='miniIcon"+BigBoxes+"' class='cajita animated fadeIn' style='background-color: "+n.color+";'><i class='"+n.icon+"'/><\/i><\/div>");$("#miniIcon"+BigBoxes).bind("click",function(){var n=$(this).attr("id"),t=n.replace("miniIcon","bigBox"),i=n.replace("miniIcon","bigBoxColor");$(".cajita").each(function(){var n=$(this).attr("id"),t=n.replace("miniIcon","bigBox");$("#"+t).css("z-index",9998)});$("#"+t).css("z-index",9999);$("#"+i).removeClass("animated fadeIn").delay(1).queue(function(){$(this).show();$(this).addClass("animated fadeIn");$(this).clearQueue()})});var e,u=$("#botClose"+BigBoxes),o=$("#bigBox"+BigBoxes),s=$("#miniIcon"+BigBoxes);(void 0!=n.colors&&n.colors.length>0&&(u.attr("colorcount","0"),e=setInterval(function(){var t=u.attr("colorcount");u.animate({backgroundColor:n.colors[t].color});o.animate({backgroundColor:n.colors[t].color});s.animate({backgroundColor:n.colors[t].color});t<n.colors.length-1?u.attr("colorcount",1*t+1):u.attr("colorcount",0)},n.colortime)),u.bind("click",function(){clearInterval(e);"function"==typeof t&&t&&t();var n=$(this).attr("id"),i=n.replace("botClose","bigBox"),r=n.replace("botClose","miniIcon");$("#"+i).removeClass("fadeIn fast");$("#"+i).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue();$(this).remove()});$("#"+r).removeClass("fadeIn fast");$("#"+r).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue();$(this).remove()})}),void 0!=n.timeout)&&(f=BigBoxes,setTimeout(function(){clearInterval(e);$("#bigBox"+f).removeClass("fadeIn fast");$("#bigBox"+f).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue();$(this).remove()});$("#miniIcon"+f).removeClass("fadeIn fast");$("#miniIcon"+f).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue();$(this).remove()})},n.timeout))};var SmallBoxes=0,SmallCount=0,SmallBoxesAnchos=0;$.smallBox=function(n,t){var f,r,e,u,s,i,o;(n=$.extend({title:"",content:"",icon:void 0,iconSmall:void 0,sound:$.sound_on,sound_file:"smallbox",color:void 0,timeout:void 0,colortime:1500,colors:void 0},n),n.sound&&0==isIE8orlower())&&(r=document.createElement("audio"),navigator.userAgent.match("Firefox/")?r.setAttribute("src",$.sound_path+n.sound_file+".ogg"):r.setAttribute("src",$.sound_path+n.sound_file+".mp3"),r.addEventListener("load",function(){r.play()},!0),r.pause(),r.play());SmallBoxes+=1;f="";e="";u="smallbox"+SmallBoxes;(e=void 0==n.iconSmall?"<div class='miniIcono'><\/div>":"<div class='miniIcono'><i class='miniPic "+n.iconSmall+"'><\/i><\/div>",f=void 0==n.icon?"<div id='smallbox"+SmallBoxes+"' class='SmallBox animated fadeInRight fast'><div class='textoFull'><span>"+n.title+"<\/span><p>"+n.content+"<\/p><\/div>"+e+"<\/div>":"<div id='smallbox"+SmallBoxes+"' class='SmallBox animated fadeInRight fast'><div class='foto'><i class='"+n.icon+"'><\/i><\/div><div class='textoFoto'><span>"+n.title+"<\/span><p>"+n.content+"<\/p><\/div>"+e+"<\/div>",1==SmallBoxes)?($("#divSmallBoxes").append(f),SmallBoxesAnchos=$("#smallbox"+SmallBoxes).height()+40):(s=$(".SmallBox").size(),0==s?($("#divSmallBoxes").append(f),SmallBoxesAnchos=$("#smallbox"+SmallBoxes).height()+40):($("#divSmallBoxes").append(f),$("#smallbox"+SmallBoxes).css("top",SmallBoxesAnchos),SmallBoxesAnchos=SmallBoxesAnchos+$("#smallbox"+SmallBoxes).height()+20,$(".SmallBox").each(function(n){0==n?($(this).css("top",20),heightPrev=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).css("top",heightPrev),heightPrev=heightPrev+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})));i=$("#smallbox"+SmallBoxes);void 0==n.color?i.css("background-color","#004d60"):i.css("background-color",n.color);void 0!=n.colors&&n.colors.length>0&&(i.attr("colorcount","0"),o=setInterval(function(){var t=i.attr("colorcount");i.animate({backgroundColor:n.colors[t].color});t<n.colors.length-1?i.attr("colorcount",1*t+1):i.attr("colorcount",0)},n.colortime));void 0!=n.timeout&&setTimeout(function(){clearInterval(o);var n=$(this).height()+20;$("#"+u).css("top");0!=$("#"+u+":hover").length?$("#"+u).on("mouseleave",function(){SmallBoxesAnchos-=n;$("#"+u).remove();"function"==typeof t&&t&&t();var i=0;$(".SmallBox").each(function(n){0==n?($(this).animate({top:20},300),i=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({top:i},350),i=i+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})}):(clearInterval(o),SmallBoxesAnchos-=n,"function"==typeof t&&t&&t(),$("#"+u).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){$(this).remove();var n=0;$(".SmallBox").each(function(t){0==t?($(this).animate({top:20},300),n=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({top:n}),n=n+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})}))},n.timeout);$("#smallbox"+SmallBoxes).bind("click",function(){clearInterval(o);"function"==typeof t&&t&&t();var n=$(this).height()+20;$(this).attr("id");$(this).css("top");SmallBoxesAnchos-=n;$(this).removeClass().addClass("SmallBox").animate({opacity:0},300,function(){$(this).remove();var n=0;$(".SmallBox").each(function(t){0==t?($(this).animate({top:20},300),n=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({top:n},350),n=n+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})})})};!function(n,t,i,r){function e(t,i){this.obj=n(t);this.o=n.extend({},n.fn[u].defaults,i);this.objId=this.obj.attr("id");this.pwCtrls=".jarviswidget-ctrls";this.widget=this.obj.find(this.o.widgets);this.toggleClass=this.o.toggleClass.split("|");this.editClass=this.o.editClass.split("|");this.fullscreenClass=this.o.fullscreenClass.split("|");this.customClass=this.o.customClass.split("|");this.storage={enabled:this.o.localStorage};this.initialized=!1;this.init()}var u="jarvisWidgets",f=("ontouchstart"in t||t.DocumentTouch&&i instanceof DocumentTouch?"touchstart":"click")+"."+u;e.prototype={_runLoaderWidget:function(n){var t=this;t.o.indicator===!0&&n.parents(t.o.widgets).find(".jarviswidget-loader:first").stop(!0,!0).fadeIn(100).delay(t.o.indicatorTime).fadeOut(100)},_getPastTimestamp:function(n){var o=this,t=new Date(n),i=t.getMonth()+1,r=t.getDate(),s=t.getFullYear(),u=t.getHours(),f=t.getMinutes(),e=t.getUTCSeconds();return 10>i&&(i="0"+i),10>r&&(r="0"+r),10>u&&(u="0"+u),10>f&&(f="0"+f),10>e&&(e="0"+e),o.o.timestampFormat.replace(/%d%/g,r).replace(/%m%/g,i).replace(/%y%/g,s).replace(/%h%/g,u).replace(/%i%/g,f).replace(/%s%/g,e)},_loadAjaxFile:function(t,i,r){var u=this;t.find(".widget-body").load(i,function(i,r,f){var o=n(this),e;("error"==r&&o.html('<h4 class="alert alert-danger">'+u.o.labelError+"<b> "+f.status+" "+f.statusText+"<\/b><\/h4>"),"success"==r)&&(e=t.find(u.o.timestampPlaceholder),e.length&&e.html(u._getPastTimestamp(new Date)),"function"==typeof u.o.afterLoad&&u.o.afterLoad.call(this,t));u=null});this._runLoaderWidget(r)},_loadKeys:function(){var n=this,t;n.o.ajaxnav===!0?(t=location.hash.replace(/^#/,""),n.storage.keySettings="Plugin_settings_"+t+"_"+n.objId,n.storage.keyPosition="Plugin_position_"+t+"_"+n.objId):n.initialized===!1&&(t=n.o.pageKey||location.pathname,n.storage.keySettings="jarvisWidgets_settings_"+t+"_"+n.objId,n.storage.keyPosition="jarvisWidgets_position_"+t+"_"+n.objId)},_saveSettingsWidget:function(){var t=this,i=t.storage,u,r;t._loadKeys();u=t.obj.find(t.o.widgets).map(function(){var t={};return t.id=n(this).attr("id"),t.style=n(this).attr("data-widget-attstyle"),t.title=n(this).children("header").children("h2").text(),t.hidden="none"==n(this).css("display")?1:0,t.collapsed=n(this).hasClass("jarviswidget-collapsed")?1:0,t}).get();r=JSON.stringify({widget:u});i.enabled&&i.getKeySettings!=r&&(localStorage.setItem(i.keySettings,r),i.getKeySettings=r);"function"==typeof t.o.onSave&&t.o.onSave.call(this,null,r,i.keySettings)},_savePositionWidget:function(){var t=this,i=t.storage,u,r;t._loadKeys();u=t.obj.find(t.o.grid+".sortable-grid").map(function(){var i=n(this).children(t.o.widgets).map(function(){return{id:n(this).attr("id")}}).get();return{section:i}}).get();r=JSON.stringify({grid:u});i.enabled&&i.getKeyPosition!=r&&(localStorage.setItem(i.keyPosition,r),i.getKeyPosition=r);"function"==typeof t.o.onSave&&t.o.onSave.call(this,r,i.keyPosition)},init:function(){var t=this,s,c,l,e,i,o,h;if(!t.initialized){if(t._initStorage(t.storage),n("#"+t.objId).length||alert("It looks like your using a class instead of an ID, dont do that!"),t.o.rtl===!0&&n("body").addClass("rtl"),n(t.o.grid).each(function(){n(this).find(t.o.widgets).length&&n(this).addClass("sortable-grid")}),t.storage.enabled&&t.storage.getKeyPosition){s=JSON.parse(t.storage.getKeyPosition);for(i in s.grid){c=t.obj.find(t.o.grid+".sortable-grid").eq(i);for(l in s.grid[i].section)c.append(n("#"+s.grid[i].section[l].id))}}if(t.storage.enabled&&t.storage.getKeySettings){e=JSON.parse(t.storage.getKeySettings);for(i in e.widget)o=n("#"+e.widget[i].id),e.widget[i].style&&o.removeClassPrefix("jarviswidget-color-").addClass(e.widget[i].style).attr("data-widget-attstyle",""+e.widget[i].style),1==e.widget[i].hidden?o.hide(1):o.show(1).removeAttr("data-widget-hidden"),1==e.widget[i].collapsed&&o.addClass("jarviswidget-collapsed").children("div").hide(1),o.children("header").children("h2").text()!=e.widget[i].title&&o.children("header").children("h2").text(e.widget[i].title)}(t.widget.each(function(){var e,o,s,h,c,f,a,l,i=n(this),u=n(this).children("header"),v;u.parent().attr("role")||(i.data("widget-hidden")===!0&&i.hide(),i.data("widget-collapsed")===!0&&i.addClass("jarviswidget-collapsed").children("div").hide(),e=t.o.customButton===!0&&i.data("widget-custombutton")===r&&0!==t.customClass[0].length?'<a href="javascript:void(0);" class="button-icon jarviswidget-custom-btn"><i class="'+t.customClass[0]+'"><\/i><\/a>':"",o=t.o.deleteButton===!0&&i.data("widget-deletebutton")===r?'<a href="javascript:void(0);" class="button-icon jarviswidget-delete-btn" rel="tooltip" title="Delete" data-placement="bottom"><i class="'+t.o.deleteClass+'"><\/i><\/a>':"",s=t.o.editButton===!0&&i.data("widget-editbutton")===r?'<a href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit" data-placement="bottom"><i class="'+t.editClass[0]+'"><\/i><\/a>':"",h=t.o.fullscreenButton===!0&&i.data("widget-fullscreenbutton")===r?'<a href="javascript:void(0);" class="button-icon jarviswidget-fullscreen-btn" rel="tooltip" title="Fullscreen" data-placement="bottom"><i class="'+t.fullscreenClass[0]+'"><\/i><\/a>':"",t.o.colorButton===!0&&i.data("widget-colorbutton")===r?(c='<a data-toggle="dropdown" class="dropdown-toggle color-box selector" href="javascript:void(0);"><\/a><ul class="dropdown-menu arrow-box-up-right color-select pull-right"><li><span class="bg-color-green" data-widget-setstyle="jarviswidget-color-green" rel="tooltip" data-placement="left" data-original-title="Green Grass"><\/span><\/li><li><span class="bg-color-greenDark" data-widget-setstyle="jarviswidget-color-greenDark" rel="tooltip" data-placement="top" data-original-title="Dark Green"><\/span><\/li><li><span class="bg-color-greenLight" data-widget-setstyle="jarviswidget-color-greenLight" rel="tooltip" data-placement="top" data-original-title="Light Green"><\/span><\/li><li><span class="bg-color-purple" data-widget-setstyle="jarviswidget-color-purple" rel="tooltip" data-placement="top" data-original-title="Purple"><\/span><\/li><li><span class="bg-color-magenta" data-widget-setstyle="jarviswidget-color-magenta" rel="tooltip" data-placement="top" data-original-title="Magenta"><\/span><\/li><li><span class="bg-color-pink" data-widget-setstyle="jarviswidget-color-pink" rel="tooltip" data-placement="right" data-original-title="Pink"><\/span><\/li><li><span class="bg-color-pinkDark" data-widget-setstyle="jarviswidget-color-pinkDark" rel="tooltip" data-placement="left" data-original-title="Fade Pink"><\/span><\/li><li><span class="bg-color-blueLight" data-widget-setstyle="jarviswidget-color-blueLight" rel="tooltip" data-placement="top" data-original-title="Light Blue"><\/span><\/li><li><span class="bg-color-teal" data-widget-setstyle="jarviswidget-color-teal" rel="tooltip" data-placement="top" data-original-title="Teal"><\/span><\/li><li><span class="bg-color-blue" data-widget-setstyle="jarviswidget-color-blue" rel="tooltip" data-placement="top" data-original-title="Ocean Blue"><\/span><\/li><li><span class="bg-color-blueDark" data-widget-setstyle="jarviswidget-color-blueDark" rel="tooltip" data-placement="top" data-original-title="Night Sky"><\/span><\/li><li><span class="bg-color-darken" data-widget-setstyle="jarviswidget-color-darken" rel="tooltip" data-placement="right" data-original-title="Night"><\/span><\/li><li><span class="bg-color-yellow" data-widget-setstyle="jarviswidget-color-yellow" rel="tooltip" data-placement="left" data-original-title="Day Light"><\/span><\/li><li><span class="bg-color-orange" data-widget-setstyle="jarviswidget-color-orange" rel="tooltip" data-placement="bottom" data-original-title="Orange"><\/span><\/li><li><span class="bg-color-orangeDark" data-widget-setstyle="jarviswidget-color-orangeDark" rel="tooltip" data-placement="bottom" data-original-title="Dark Orange"><\/span><\/li><li><span class="bg-color-red" data-widget-setstyle="jarviswidget-color-red" rel="tooltip" data-placement="bottom" data-original-title="Red Rose"><\/span><\/li><li><span class="bg-color-redLight" data-widget-setstyle="jarviswidget-color-redLight" rel="tooltip" data-placement="bottom" data-original-title="Light Red"><\/span><\/li><li><span class="bg-color-white" data-widget-setstyle="jarviswidget-color-white" rel="tooltip" data-placement="right" data-original-title="Purity"><\/span><\/li><li><a href="javascript:void(0);" class="jarviswidget-remove-colors" data-widget-setstyle="" rel="tooltip" data-placement="bottom" data-original-title="Reset widget color to default">Remove<\/a><\/li><\/ul>',u.prepend('<div class="widget-toolbar">'+c+"<\/div>")):c="",t.o.toggleButton===!0&&i.data("widget-togglebutton")===r?(a=i.data("widget-collapsed")===!0||i.hasClass("jarviswidget-collapsed")?t.toggleClass[1]:t.toggleClass[0],f='<a href="javascript:void(0);" class="button-icon jarviswidget-toggle-btn" rel="tooltip" title="Collapse" data-placement="bottom"><i class="'+a+'"><\/i><\/a>'):f="",l=t.o.refreshButton===!0&&i.data("widget-refreshbutton")!==!1&&i.data("widget-load")?'<a href="javascript:void(0);" class="button-icon jarviswidget-refresh-btn" data-loading-text="&nbsp;&nbsp;Loading...&nbsp;" rel="tooltip" title="Refresh" data-placement="bottom"><i class="'+t.o.refreshButtonClass+'"><\/i><\/a>':"",v=t.o.buttonOrder.replace(/%refresh%/g,l).replace(/%delete%/g,o).replace(/%custom%/g,e).replace(/%fullscreen%/g,h).replace(/%edit%/g,s).replace(/%toggle%/g,f),(""!==l||""!==o||""!==e||""!==h||""!==s||""!==f)&&u.prepend('<div class="jarviswidget-ctrls">'+v+"<\/div>"),t.o.sortable===!0&&i.data("widget-sortable")===r&&i.addClass("jarviswidget-sortable"),i.find(t.o.editPlaceholder).length&&i.find(t.o.editPlaceholder).find("input").val(n.trim(u.children("h2").text())),u.append('<span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"><\/i><\/span>'),i.attr("role","widget").children("div").attr("role","content").prev("header").attr("role","heading").children("div").attr("role","menu"))}),t.o.buttonsHidden===!0&&n(t.o.pwCtrls).hide(),n(".jarviswidget header [rel=tooltip]").tooltip(),t.obj.find("[data-widget-load]").each(function(){var i=n(this),r=i.children(),u=i.data("widget-load"),f=1e3*i.data("widget-refresh");i.children();i.find(".jarviswidget-ajax-placeholder").length||(i.children("widget-body").append('<div class="jarviswidget-ajax-placeholder">'+t.o.loadingLabel+"<\/div>"),i.data("widget-refresh")>0?(t._loadAjaxFile(i,u,r),n.intervalArr.push(setInterval(function(){t._loadAjaxFile(i,u,r)},f))):t._loadAjaxFile(i,u,r))}),t.o.sortable===!0&&jQuery.ui)&&(h=t.obj.find(t.o.grid+".sortable-grid").not("[data-widget-excludegrid]"),h.sortable({items:h.find(t.o.widgets+".jarviswidget-sortable"),connectWith:h,placeholder:t.o.placeholderClass,cursor:"move",revert:!0,opacity:t.o.opacity,delay:200,cancel:".button-icon, #jarviswidget-fullscreen-mode > div",zIndex:1e4,handle:t.o.dragHandle,forcePlaceholderSize:!0,forceHelperSize:!0,update:function(n,i){t._runLoaderWidget(i.item.children());t._savePositionWidget();"function"==typeof t.o.onChange&&t.o.onChange.call(this,i.item)}}));t.o.buttonsHidden===!0&&t.widget.children("header").on("mouseenter."+u,function(){n(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,1)}).on("mouseleave."+u,function(){n(this).children(t.o.pwCtrls).stop(!0,!0).fadeTo(100,0)});t._clickEvents();t.storage.enabled&&(n(t.o.deleteSettingsKey).on(f,this,function(n){var i=confirm(t.o.settingsKeyLabel);i&&localStorage.removeItem(keySettings);n.preventDefault()}),n(t.o.deletePositionKey).on(f,this,function(n){var i=confirm(t.o.positionKeyLabel);i&&localStorage.removeItem(keyPosition);n.preventDefault()}));initialized=!0}},_initStorage:function(n){n.enabled=n.enabled&&!!function(){var t,n=+new Date;try{return localStorage.setItem(n,n),t=localStorage.getItem(n)==n,localStorage.removeItem(n),t}catch(i){}}();this._loadKeys();n.enabled&&(n.getKeySettings=localStorage.getItem(n.keySettings),n.getKeyPosition=localStorage.getItem(n.keyPosition))},_clickEvents:function(){function e(){if(n("#jarviswidget-fullscreen-mode").length){var r=n(t).height(),u=n("#jarviswidget-fullscreen-mode").children(i.o.widgets).children("header").height();n("#jarviswidget-fullscreen-mode").children(i.o.widgets).children("div").height(r-u-15)}}var i=this,r=i.widget.children("header");r.on(f,".jarviswidget-toggle-btn",function(t){var r=n(this),u=r.parents(i.o.widgets);i._runLoaderWidget(r);u.hasClass("jarviswidget-collapsed")?r.children().removeClass(i.toggleClass[1]).addClass(i.toggleClass[0]).parents(i.o.widgets).removeClass("jarviswidget-collapsed").children("[role=content]").slideDown(i.o.toggleSpeed,function(){i._saveSettingsWidget()}):r.children().removeClass(i.toggleClass[0]).addClass(i.toggleClass[1]).parents(i.o.widgets).addClass("jarviswidget-collapsed").children("[role=content]").slideUp(i.o.toggleSpeed,function(){i._saveSettingsWidget()});"function"==typeof i.o.onToggle&&i.o.onToggle.call(this,u);t.preventDefault()});r.on(f,".jarviswidget-fullscreen-btn",function(t){var r=n(this).parents(i.o.widgets),u=r.children("div");i._runLoaderWidget(n(this));n("#jarviswidget-fullscreen-mode").length?(n(".nooverflow").removeClass("nooverflow"),r.unwrap("<div>").children("div").removeAttr("style").end().find(".jarviswidget-fullscreen-btn:first").children().removeClass(i.fullscreenClass[1]).addClass(i.fullscreenClass[0]).parents(i.pwCtrls).children("a").show(),u.hasClass("jarviswidget-visible")&&u.hide().removeClass("jarviswidget-visible")):(n("body").addClass("nooverflow"),r.wrap('<div id="jarviswidget-fullscreen-mode"/>').parent().find(".jarviswidget-fullscreen-btn:first").children().removeClass(i.fullscreenClass[0]).addClass(i.fullscreenClass[1]).parents(i.pwCtrls).children("a:not(.jarviswidget-fullscreen-btn)").hide(),u.is(":hidden")&&u.show().addClass("jarviswidget-visible"));e();"function"==typeof i.o.onFullscreen&&i.o.onFullscreen.call(this,r);t.preventDefault()});n(t).on("resize."+u,function(){e()});r.on(f,".jarviswidget-edit-btn",function(t){var r=n(this).parents(i.o.widgets);i._runLoaderWidget(n(this));r.find(i.o.editPlaceholder).is(":visible")?n(this).children().removeClass(i.editClass[1]).addClass(i.editClass[0]).parents(i.o.widgets).find(i.o.editPlaceholder).slideUp(i.o.editSpeed,function(){i._saveSettingsWidget()}):n(this).children().removeClass(i.editClass[0]).addClass(i.editClass[1]).parents(i.o.widgets).find(i.o.editPlaceholder).slideDown(i.o.editSpeed);"function"==typeof i.o.onEdit&&i.o.onEdit.call(this,r);t.preventDefault()});n(i.o.editPlaceholder).find("input").keyup(function(){n(this).parents(i.o.widgets).children("header").children("h2").text(n(this).val())});r.on(f,"[data-widget-setstyle]",function(t){var r=n(this).data("widget-setstyle"),u="";n(this).parents(i.o.editPlaceholder).find("[data-widget-setstyle]").each(function(){u+=n(this).data("widget-setstyle")+" "});n(this).parents(i.o.widgets).attr("data-widget-attstyle",""+r).removeClassPrefix("jarviswidget-color-").addClass(r);i._runLoaderWidget(n(this));i._saveSettingsWidget();t.preventDefault()});r.on(f,".jarviswidget-custom-btn",function(t){var r=n(this).parents(i.o.widgets);i._runLoaderWidget(n(this));n(this).children("."+i.customClass[0]).length?(n(this).children().removeClass(i.customClass[0]).addClass(i.customClass[1]),"function"==typeof i.o.customStart&&i.o.customStart.call(this,r)):(n(this).children().removeClass(i.customClass[1]).addClass(i.customClass[0]),"function"==typeof i.o.customEnd&&i.o.customEnd.call(this,r));i._saveSettingsWidget();t.preventDefault()});r.on(f,".jarviswidget-delete-btn",function(t){var r=n(this).parents(i.o.widgets),u=r.attr("id"),f=r.children("header").children("h2").text();n.SmartMessageBox?n.SmartMessageBox({title:"<i class='fa fa-times' style='color:#ed1c24'><\/i> "+i.o.labelDelete+' "'+f+'"',content:i.o.deleteMsg,buttons:"[No][Yes]"},function(t){"Yes"==t&&(i._runLoaderWidget(n(this)),n("#"+u).fadeOut(i.o.deleteSpeed,function(){n(this).remove();"function"==typeof i.o.onDelete&&i.o.onDelete.call(this,r)}))}):n("#"+u).fadeOut(i.o.deleteSpeed,function(){n(this).remove();"function"==typeof i.o.onDelete&&i.o.onDelete.call(this,r)});t.preventDefault()});r.on(f,".jarviswidget-refresh-btn",function(t){var r=n(this).parents(i.o.widgets),e=r.data("widget-load"),u=r.children(),f=n(this);f.button("loading");u.addClass("widget-body-ajax-loading");setTimeout(function(){f.button("reset");u.removeClass("widget-body-ajax-loading");i._loadAjaxFile(r,e,u)},1e3);t.preventDefault()});r=null},destroy:function(){var i=this,r="."+u,f=i.obj.find(i.o.grid+".sortable-grid").not("[data-widget-excludegrid]");f.sortable("destroy");i.widget.children("header").off(r);n(i.o.deleteSettingsKey).off(r);n(i.o.deletePositionKey).off(r);n(t).off(r);i.obj.removeData(u)}};n.fn[u]=function(t){return this.each(function(){var r=n(this),i=r.data(u),f;i||(f="object"==typeof t&&t,r.data(u,i=new e(this,f)));"string"==typeof t&&i[t]()})};n.fn[u].defaults={grid:"section",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"",settingsKeyLabel:"Reset settings?",deletePositionKey:"",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"min-10 | plus-10",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone",deleteClass:"trashcan-10",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"pencil-10 | delete-10",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fullscreen-10 | normalscreen-10",fullscreenDiff:3,onFullscreen:function(){},customButton:!0,customClass:"",customStart:function(){},customEnd:function(){},buttonOrder:"%refresh% %delete% %custom% %edit% %fullscreen% %toggle%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,loadingLabel:"loading...",timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"refresh-10",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:!0};n.fn.removeClassPrefix=function(t){return this.each(function(i,r){var u=r.className.split(" ").map(function(n){return 0===n.indexOf(t)?"":n});r.className=n.trim(u.join(" "))}),this}}(jQuery,window,document);!function(n){var t=function(t,i){var r,u;this.element=n(t);this.picker=n('<div class="slider"><div class="slider-track"><div class="slider-selection"><\/div><div class="slider-handle"><\/div><div class="slider-handle"><\/div><\/div><div class="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div><\/div>').insertBefore(this.element).prepend(this.element);this.id=this.element.data("slider-id")||i.id;this.id&&(this.picker[0].id=this.id);"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);r=this.element.data("slider-tooltip")||i.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||i.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight";this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth());this.orientation="horizontal";this.stylePos="left";this.mousePos="pageX";this.sizePos="offsetWidth";this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||i.min;this.max=this.element.data("slider-max")||i.max;this.step=this.element.data("slider-step")||i.step;this.value=this.element.data("slider-value")||i.value;this.value[1]&&(this.range=!0);this.selection=this.element.data("slider-selection")||i.selection;this.selectionEl=this.picker.find(".slider-selection");"none"===this.selection&&this.selectionEl.addClass("hide");this.selectionElStyle=this.selectionEl[0].style;this.handle1=this.picker.find(".slider-handle:first");this.handle1Stype=this.handle1[0].style;this.handle2=this.picker.find(".slider-handle:last");this.handle2Stype=this.handle2[0].style;u=this.element.data("slider-handle")||i.handle;switch(u){case"round":this.handle1.addClass("round");this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle");this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min);this.diff=this.max-this.min;this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff];this.offset=this.picker.offset();this.size=this.picker[0][this.sizePos];this.formater=i.formater;this.layout();this.touchCapable?this.picker.on({touchstart:n.proxy(this.mousedown,this)}):this.picker.on({mousedown:n.proxy(this.mousedown,this)});"show"===r?this.picker.on({mouseenter:n.proxy(this.showTooltip,this),mouseleave:n.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};t.prototype={constructor:t,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in");this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in");this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%";this.handle2Stype[this.stylePos]=this.percentage[1]+"%";"vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%");this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(t){var i,u,f,r;return this.touchCapable&&"touchstart"===t.type&&(t=t.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],i=this.getPercentage(t),this.range?(u=Math.abs(this.percentage[0]-i),f=Math.abs(this.percentage[1]-i),this.dragged=f>u?0:1):this.dragged=0,this.percentage[this.dragged]=i,this.layout(),this.touchCapable?n(document).on({touchmove:n.proxy(this.mousemove,this),touchend:n.proxy(this.mouseup,this)}):n(document).on({mousemove:n.proxy(this.mousemove,this),mouseup:n.proxy(this.mouseup,this)}),this.inDrag=!0,r=this.calculateValue(),this.element.trigger({type:"slideStart",value:r}).trigger({type:"slide",value:r}),!1},mousemove:function(n){var t,i;return this.touchCapable&&"touchmove"===n.type&&(n=n.originalEvent),t=this.getPercentage(n),this.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=t,this.layout(),i=this.calculateValue(),this.element.trigger({type:"slide",value:i}).data("value",i).prop("value",i),!1},mouseup:function(){this.touchCapable?n(document).off({touchmove:this.mousemove,touchend:this.mouseup}):n(document).off({mousemove:this.mousemove,mouseup:this.mouseup});this.inDrag=!1;0==this.over&&this.hideTooltip();this.element;var t=this.calculateValue();return this.element.trigger({type:"slideStop",value:t}).data("value",t).prop("value",t),!1},calculateValue:function(){var n;return this.range?(n=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=n):(n=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[n,this.value[1]]),n},getPercentage:function(n){this.touchCapable&&(n=n.touches[0]);var t=100*(n[this.mousePos]-this.offset[this.stylePos])/this.size;return t=Math.round(t/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,t))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(n){this.value=n;this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min);this.diff=this.max-this.min;this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff];this.layout()}};n.fn.slider=function(i,r){return this.each(function(){var f=n(this),u=f.data("slider"),e="object"==typeof i&&i;u||f.data("slider",u=new t(this,n.extend({},n.fn.slider.defaults,e)));"string"==typeof i&&u[i](r)})};n.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(n){return n}};n.fn.slider.Constructor=t}(window.jQuery);!function(){var n,r,t,i;jQuery.browser||(jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.msie=!1,n=navigator.userAgent,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10),-1!=(t=n.indexOf("Opera"))?(jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=n.substring(t+6),-1!=(t=n.indexOf("Version"))&&(jQuery.browser.fullVersion=n.substring(t+8))):-1!=(t=n.indexOf("MSIE"))?(jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=n.substring(t+5)):-1!=(t=n.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=n.substring(t+7)):-1!=(t=n.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=n.substring(t+7),-1!=(t=n.indexOf("Version"))&&(jQuery.browser.fullVersion=n.substring(t+8))):-1!=(t=n.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=n.substring(t+8)):(r=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))&&(jQuery.browser.name=n.substring(r,t),jQuery.browser.fullVersion=n.substring(t+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName)),-1!=(i=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,i)),-1!=(i=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,i)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion)}(jQuery);FastClick.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android");FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(n){switch(n.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(n.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===n.type||n.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(n.className)};FastClick.prototype.needsFocus=function(n){switch(n.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(n.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!n.disabled&&!n.readOnly;default:return/\bneedsfocus\b/.test(n.className)}};FastClick.prototype.sendClick=function(n,t){var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();i=t.changedTouches[0];r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.forwardedTouchEvent=!0;n.dispatchEvent(r)};FastClick.prototype.focus=function(n){var t;this.deviceIsIOS&&n.setSelectionRange?(t=n.value.length,n.setSelectionRange(t,t)):n.focus()};FastClick.prototype.updateScrollParent=function(n){var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t;n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)};FastClick.prototype.getTargetElementFromEventTarget=function(n){return n.nodeType===Node.TEXT_NODE?n.parentNode:n};FastClick.prototype.onTouchStart=function(n){var i,t,r;if(1<n.targetTouches.length)return!0;if(i=this.getTargetElementFromEventTarget(n.target),t=n.targetTouches[0],this.deviceIsIOS){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!this.deviceIsIOS4){if(t.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=t.identifier;this.updateScrollParent(i)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=i,this.touchStartX=t.pageX,this.touchStartY=t.pageY,200>n.timeStamp-this.lastClickTime&&n.preventDefault(),!0};FastClick.prototype.touchHasMoved=function(n){return n=n.changedTouches[0],10<Math.abs(n.pageX-this.touchStartX)||10<Math.abs(n.pageY-this.touchStartY)?!0:!1};FastClick.prototype.findControl=function(n){return void 0!==n.control?n.control:n.htmlFor?document.getElementById(n.htmlFor):n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(n){var i,r,t;if(t=this.targetElement,this.touchHasMoved(n)&&(this.trackingClick=!1,this.targetElement=null),!this.trackingClick)return!0;if(200>n.timeStamp-this.lastClickTime)return this.cancelNextClick=!0;if(this.lastClickTime=n.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(t=n.changedTouches[0],t=document.elementFromPoint(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset)),r=t.tagName.toLowerCase(),"label"===r){if(i=this.findControl(t)){if(this.focus(t),this.deviceIsAndroid)return!1;t=i}}else if(this.needsFocus(t))return 100<n.timeStamp-i||this.deviceIsIOS&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(t),this.deviceIsIOS4&&"select"===r||(this.targetElement=null,n.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(i=t.fastClickScrollParent)&&i.fastClickLastScrollTop!==i.scrollTop?!0:(this.needsClick(t)||(n.preventDefault(),this.sendClick(t,n)),!1)};FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};FastClick.prototype.onMouse=function(n){return this.targetElement&&!n.forwardedTouchEvent&&n.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(n.stopImmediatePropagation?n.stopImmediatePropagation():n.propagationStopped=!0,n.stopPropagation(),n.preventDefault(),!1):!0};FastClick.prototype.onClick=function(n){return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===n.target.type&&0===n.detail?!0:(n=this.onMouse(n),n||(this.targetElement=null),n)};FastClick.prototype.destroy=function(){var n=this.layer;this.deviceIsAndroid&&(n.removeEventListener("mouseover",this.onMouse,!0),n.removeEventListener("mousedown",this.onMouse,!0),n.removeEventListener("mouseup",this.onMouse,!0));n.removeEventListener("click",this.onClick,!0);n.removeEventListener("touchstart",this.onTouchStart,!1);n.removeEventListener("touchend",this.onTouchEnd,!1);n.removeEventListener("touchcancel",this.onTouchCancel,!1)};FastClick.notNeeded=function(n){var t;return"undefined"==typeof window.ontouchstart?!0:/Chrome\/[0-9]+/.test(navigator.userAgent)&&(!FastClick.prototype.deviceIsAndroid||(t=document.querySelector("meta[name=viewport]"))&&-1!==t.content.indexOf("user-scalable=no"))?!0:"none"===n.style.msTouchAction?!0:!1};FastClick.attach=function(n){return new FastClick(n)};"undefined"!=typeof define&&define.amd?define(function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(n,t){t([],n)}(function(){return function(n,t,i){function ft(){}function gi(n,t){if(t)return"'"+n.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var i=n.charAt(0),r=n.substring(1);return i==="="?"+("+r+")+":i===":"?"+$kendoHtmlEncode("+r+")+":";"+n+";$kendoOutput+="}function f(n,t,i){return(n=n+"",t=t||2,i=t-n.length,i)?er[t].substring(0,i)+n:n}function ti(n){var u=n.css(r.support.transitions.css+"box-shadow")||n.css("box-shadow"),t=u?u.match(wi)||[0,0,0,0,0]:[0,0,0,0,0],i=a.max(+t[3],+(t[4]||0));return{left:-t[1]+i,right:+t[1]+i,bottom:+t[2]+i}}function or(t,i){var h=u.browser,e,y=t.css("direction")=="rtl",f,c;if(t.parent().hasClass("k-animation-container"))f=t.parent(".k-animation-container"),c=f[0].style,f.is(":hidden")&&f.show(),e=it.test(c.width)||it.test(c.height),e||f.css({width:t.outerWidth(),height:t.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});else{var r=ti(t),o=t[0].style.width,s=t[0].style.height,l=it.test(o),v=it.test(s);h.opera&&(r.left=r.right=r.bottom=5);e=l||v;!l&&(!i||i&&o)&&(o=t.outerWidth());!v&&(!i||i&&s)&&(s=t.outerHeight());t.wrap(n("<div/>").addClass("k-animation-container").css({width:o,height:s,marginLeft:r.left*(y?1:-1),paddingLeft:r.left,paddingRight:r.right,paddingBottom:r.bottom}));e&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return h.msie&&a.floor(h.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function lt(n){for(var t=1,i=arguments.length,t=1;t<i;t++)ii(n,arguments[t]);return n}function ii(n,t){var s=r.data.ObservableArray,h=r.data.LazyObservableArray,c=r.data.DataSource,l=r.data.HierarchicalDataSource,u,i,e,f,o;for(u in t)i=t[u],e=typeof i,f=e===w&&i!==null?i.constructor:null,f&&f!==Array&&f!==s&&f!==h&&f!==c&&f!==l?i instanceof Date?n[u]=new Date(i.getTime()):et(i.clone)?n[u]=i.clone():(o=n[u],n[u]=typeof o===w?o||{}:{},ii(n[u],i)):e!==ut&&(n[u]=i);return n}function at(n,t,r){for(var u in t)if(t.hasOwnProperty(u)&&t[u].test(n))return u;return r!==i?r:n}function sr(n){return n.replace(/([a-z][A-Z])/g,function(n){return n.charAt(0)+"-"+n.charAt(1).toLowerCase()})}function ri(n){return n.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()})}function ui(t,i){var u={},f;return document.defaultView&&document.defaultView.getComputedStyle?(f=document.defaultView.getComputedStyle(t,""),i&&n.each(i,function(n,t){u[t]=f.getPropertyValue(t)})):(f=t.currentStyle,i&&n.each(i,function(n,t){u[t]=f[ri(t)]})),r.size(u)||(u=f),u}function hr(n){var t=ui(n,["overflow"]).overflow;return t=="auto"||t=="scroll"}function cr(n){var i=0,t;for(t in n)n.hasOwnProperty(t)&&t!="toJSON"&&i++;return i}function lr(n,i,r){i||(i="offset");var f=n[i](),e=u.mobileOS;return u.browser.msie&&(u.pointers||u.msPointers)&&!r&&(f.top-=t.pageYOffset-document.documentElement.scrollTop,f.left-=t.pageXOffset-document.documentElement.scrollLeft),f}function ar(n){var t={};return g(typeof n=="string"?n.split(" "):n,function(n){t[n]=this}),t}function vr(n){return new r.effects.Element(n)}function yr(n,t,i,r){return typeof n===e&&(et(t)&&(r=t,t=400,i=!1),et(i)&&(r=i,i=!1),typeof t===dt&&(i=t,t=400),n={effects:n,duration:t,reverse:i,complete:r}),h({effects:{},duration:400,reverse:!1,init:nt,teardown:nt,hide:!1},n,{completeCallback:n.complete,complete:nt})}function ei(t,i,r,u,f){for(var e=0,s=t.length,o;e<s;e++)o=n(t[e]),o.queue(function(){b.promise(o,yr(i,r,u,f))});return t}function pr(n,t,i,r){return t&&(t=t.split(" "),g(t,function(t,i){n.toggleClass(i,r)})),n}function nu(n){return(""+n).replace(wr,"&amp;").replace(br,"&lt;").replace(gr,"&gt;").replace(kr,"&quot;").replace(dr,"&#39;")}function pt(n,t){var u;return t.indexOf("data")===0&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(uu,"-$1"),u=n.getAttribute("data-"+r.ns+t),u===null?u=i:u==="null"?u=null:u==="true"?u=!0:u==="false"?u=!1:bi.test(u)?u=parseFloat(u):iu.test(u)&&!ru.test(u)&&(u=new Function("return ("+u+")")()),u}function hi(t,u){var o={},e,f;for(e in u)f=pt(t,e),f!==i&&(tu.test(e)&&(f=r.template(n("#"+f).html())),o[e]=f);return o}function fu(t,i){return n.contains(t,i)?-1:1}function eu(){var t=n(this);return n.inArray(t.attr("data-"+r.ns+"role"),["slider","rangeslider"])>-1||t.is(":visible")}function ou(n,t){var i=n.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(i)?!n.disabled:"a"===i?n.href||t:t)&&su(n)}function su(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}function s(n,t){return new s.fn.init(n,t)}var r=t.kendo=t.kendo||{cultures:{}},h=n.extend,g=n.each,yi=n.isArray,st=n.proxy,nt=n.noop,a=Math,p,tt=t.JSON||{},u={},it=/%/,pi=/\{(\d+)(:[^\}]+)?\}/g,wi=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,bi=/^(\+|-?)\d+(\.?)\d*$/,c="function",e="string",v="number",w="object",rt="null",dt="boolean",ut="undefined",gt={},ni={},ht=[].slice,l=t.Globalize,fi,b,vt,oi,si,k,yt,wt,bt,li,kt,ot,ai,vi,y;r.version="2015.2.902";ft.extend=function(n){var r=function(){},t,u=this,i=n&&n.init?n.init:function(){u.apply(this,arguments)},f;r.prototype=u.prototype;f=i.fn=i.prototype=new r;for(t in n)f[t]=n[t]!=null&&n[t].constructor===Object?h(!0,{},r.prototype[t],n[t]):n[t];return f.constructor=i,i.extend=u.extend,i};ft.prototype._initOptions=function(n){this.options=lt({},this.options,n)};var et=r.isFunction=function(n){return typeof n=="function"},ki=function(){this._defaultPrevented=!0},di=function(){return this._defaultPrevented===!0},ct=ft.extend({init:function(){this._events={}},bind:function(n,t,r){var u=this,f,h=typeof n===e?[n]:n,l,s,o,v=typeof t===c,a;if(t===i){for(f in n)u.bind(f,n[f]);return u}for(f=0,l=h.length;f<l;f++)n=h[f],o=v?t:t[n],o&&(r&&(s=o,o=function(){u.unbind(n,o);s.apply(u,arguments)},o.original=s),a=u._events[n]=u._events[n]||[],a.push(o));return u},one:function(n,t){return this.bind(n,t,!0)},first:function(n,t){for(var r=this,f=typeof n===e?[n]:n,u,h=typeof t===c,s,i=0,o=f.length;i<o;i++)n=f[i],u=h?t:t[n],u&&(s=r._events[n]=r._events[n]||[],s.unshift(u));return r},trigger:function(n,t){var u=this,i=u._events[n],r,f;if(i){for(t=t||{},t.sender=u,t._defaultPrevented=!1,t.preventDefault=ki,t.isDefaultPrevented=di,i=i.slice(),r=0,f=i.length;r<f;r++)i[r].call(u,t);return t._defaultPrevented===!0}return!1},unbind:function(n,t){var f=this,u=f._events[n],r;if(n===i)f._events={};else if(u)if(t)for(r=u.length-1;r>=0;r--)(u[r]===t||u[r].original===t)&&u.splice(r,1);else f._events[n]=[];return f}});var nr=/^\w+/,tr=/\$\{([^}]*)\}/g,ir=/\\\}/g,rr=/__CURLY__/g,ur=/\\#/g,fr=/__SHARP__/g,er=["","0","00","000","0000"];p={paramName:"data",useWithBlock:!0,render:function(n,t){for(var u="",i=0,r=t.length;i<r;i++)u+=n(t[i]);return u},compile:function(n,t){var o=h({},this,t),s=o.paramName,l=s.match(nr)[0],c=o.useWithBlock,i="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;",e,f,u;if(et(n))return n;for(i+=c?"with("+s+"){":"",i+="$kendoOutput=",f=n.replace(ir,"__CURLY__").replace(tr,"#=$kendoHtmlEncode($1)#").replace(rr,"}").replace(ur,"__SHARP__").split("#"),u=0;u<f.length;u++)i+=gi(f[u],u%2==0);i+=c?";}":";";i+="return $kendoOutput;";i=i.replace(fr,"#");try{return e=new Function(l,i),e._slotCount=Math.floor(f.length/2),e}catch(a){throw new Error(r.format("Invalid template:'{0}' Generated code:'{1}'",n,i));}}},function(){function o(n){return u.lastIndex=0,u.test(n)?'"'+n.replace(u,function(n){var t=s[n];return typeof t===e?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(u,f){var l,p,a,k,d=n,y,s=f[u],b;if(s&&typeof s===w&&typeof s.toJSON===c&&(s=s.toJSON(u)),typeof t===c&&(s=t.call(f,u,s)),b=typeof s,b===e)return o(s);if(b===v)return isFinite(s)?String(s):rt;if(b===dt||b===rt)return String(s);if(b===w){if(!s)return rt;if(n+=i,y=[],h.apply(s)==="[object Array]"){for(k=s.length,l=0;l<k;l++)y[l]=r(l,s)||rt;return a=y.length===0?"[]":n?"[\n"+n+y.join(",\n"+n)+"\n"+d+"]":"["+y.join(",")+"]",n=d,a}if(t&&typeof t===w)for(k=t.length,l=0;l<k;l++)typeof t[l]===e&&(p=t[l],a=r(p,s),a&&y.push(o(p)+(n?": ":":")+a));else for(p in s)Object.hasOwnProperty.call(s,p)&&(a=r(p,s),a&&y.push(o(p)+(n?": ":":")+a));return a=y.length===0?"{}":n?"{\n"+n+y.join(",\n"+n)+"\n"+d+"}":"{"+y.join(",")+"}",n=d,a}}var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,i,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t,h={}.toString;typeof Date.prototype.toJSON!==c&&(Date.prototype.toJSON=function(){var n=this;return isFinite(n.valueOf())?f(n.getUTCFullYear(),4)+"-"+f(n.getUTCMonth()+1)+"-"+f(n.getUTCDate())+"T"+f(n.getUTCHours())+":"+f(n.getUTCMinutes())+":"+f(n.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});typeof tt.stringify!==c&&(tt.stringify=function(u,f,o){var s;if(n="",i="",typeof o===v)for(s=0;s<o;s+=1)i+=" ";else typeof o===e&&(i=o);if(t=f,f&&typeof f!==c&&(typeof f!==w||typeof f.length!==v))throw new Error("JSON.stringify");return r("",{"":u})})}(),function(){function w(n){if(n){if(n.numberFormat)return n;if(typeof n===e){var t=r.cultures;return t[n]||t[n.split("-")[0]]||null}return null}return null}function b(n){return n&&(n=w(n)),n||r.cultures.current}function rt(n){n.groupSizes=n.groupSize;n.percent.groupSizes=n.percent.groupSize;n.currency.groupSizes=n.currency.groupSize}function ut(n,t,r){r=b(r);var u=r.calendars.standard,e=u.days,o=u.months;return t=u.patterns[t]||t,t.replace(d,function(t){var s,r,h;return t==="d"?r=n.getDate():t==="dd"?r=f(n.getDate()):t==="ddd"?r=e.namesAbbr[n.getDay()]:t==="dddd"?r=e.names[n.getDay()]:t==="M"?r=n.getMonth()+1:t==="MM"?r=f(n.getMonth()+1):t==="MMM"?r=o.namesAbbr[n.getMonth()]:t==="MMMM"?r=o.names[n.getMonth()]:t==="yy"?r=f(n.getFullYear()%100):t==="yyyy"?r=f(n.getFullYear(),4):t==="h"?r=n.getHours()%12||12:t==="hh"?r=f(n.getHours()%12||12):t==="H"?r=n.getHours():t==="HH"?r=f(n.getHours()):t==="m"?r=n.getMinutes():t==="mm"?r=f(n.getMinutes()):t==="s"?r=n.getSeconds():t==="ss"?r=f(n.getSeconds()):t==="f"?r=a.floor(n.getMilliseconds()/100):t==="ff"?(r=n.getMilliseconds(),r>99&&(r=a.floor(r/10)),r=f(r)):t==="fff"?r=f(n.getMilliseconds(),3):t==="tt"?r=n.getHours()<12?u.AM[0]:u.PM[0]:t==="zzz"?(s=n.getTimezoneOffset(),h=s<0,r=a.abs(s/60).toString().split(".")[0],s=a.abs(s)-r*60,r=(h?"+":"-")+f(r)+(":"+f(s))):(t==="zz"||t==="z")&&(r=n.getTimezoneOffset()/60,h=r<0,r=a.abs(r).toString().split(".")[0],r=(h?"+":"-")+(t==="zz"?f(r):r)),r!==i?r:t.slice(1,t.length-1)})}function ft(n,r,f){f=b(f);var l=f.numberFormat,ot=l.groupSize[0],lt=l[c],vt=l[u],at=l.decimals,kt=l.pattern[0],dt=[],yt,ft,st,pt,wt,et=n<0,w,p,rt,ei,gt=t,y=t,e,ut,d,ni,ri,it,v,a,bt,ti,ui,ii,fi,ht=-1,ct;if(n===i)return t;if(!isFinite(n))return n;if(!r)return f.name.length?n.toLocaleString():n.toString();if(wt=g.exec(r),wt){if(r=wt[1].toLowerCase(),ft=r==="c",st=r==="p",(ft||st)&&(l=ft?l.currency:l.percent,ot=l.groupSize[0],lt=l[c],vt=l[u],at=l.decimals,yt=l.symbol,kt=l.pattern[et?0:1]),pt=wt[2],pt&&(at=+pt),r==="e")return pt?n.toExponential(at):n.toExponential();if(st&&(n*=100),n=o(n,at),et=n<0,n=n.split(u),w=n[0],p=n[1],et&&(w=w.substring(1)),y=w,rt=w.length,rt>=ot)for(y=t,e=0;e<rt;e++)e>0&&(rt-e)%ot==0&&(y+=lt),y+=w.charAt(e);if(p&&(y+=vt+p),r==="n"&&!et)return y;for(n=t,e=0,ut=kt.length;e<ut;e++)d=kt.charAt(e),n+=d==="n"?y:d==="$"||d==="%"?yt:d;return n}if(et&&(n=-n),(r.indexOf("'")>-1||r.indexOf('"')>-1||r.indexOf("\\")>-1)&&(r=r.replace(nt,function(n){var t=n.charAt(0).replace("\\",""),i=n.slice(1).replace(t,"");return dt.push(i),k})),r=r.split(";"),et&&r[1])r=r[1],ri=!0;else if(n===0){if(r=r[2]||r[0],r.indexOf(s)==-1&&r.indexOf(h)==-1)return r}else r=r[0];if(ui=r.indexOf("%"),ii=r.indexOf("$"),st=ui!=-1,ft=ii!=-1,st&&(n*=100),ft&&r[ii-1]==="\\"&&(r=r.split("\\").join(""),ft=!1),(ft||st)&&(l=ft?l.currency:l.percent,ot=l.groupSize[0],lt=l[c],vt=l[u],at=l.decimals,yt=l.symbol),ni=r.indexOf(c)>-1,ni&&(r=r.replace(tt,t)),it=r.indexOf(u),ut=r.length,it!=-1?(p=n.toString().split("e"),p=p[1]?o(n,Math.abs(p[1])):p[0],p=p.split(u)[1]||t,a=r.lastIndexOf(h)-it,v=r.lastIndexOf(s)-it,bt=a>-1,ti=v>-1,e=p.length,bt||ti||(r=r.substring(0,it)+r.substring(it+1),ut=r.length,it=-1,e=0),bt&&a>v?e=a:v>a&&(ti&&e>v?e=v:bt&&e<a&&(e=a)),e>-1&&(n=o(n,e))):n=o(n),v=r.indexOf(s),fi=a=r.indexOf(h),ht=v==-1&&a!=-1?a:v!=-1&&a==-1?v:v>a?a:v,v=r.lastIndexOf(s),a=r.lastIndexOf(h),ct=v==-1&&a!=-1?a:v!=-1&&a==-1?v:v>a?v:a,ht==ut&&(ct=ht),ht!=-1){if(y=n.toString().split(u),w=y[0],p=y[1]||t,rt=w.length,ei=p.length,et&&n*-1>=0&&(et=!1),ni)if(rt===ot&&rt<it-fi)w=lt+w;else if(rt>ot){for(y=t,e=0;e<rt;e++)e>0&&(rt-e)%ot==0&&(y+=lt),y+=w.charAt(e);w=y}for(n=r.substring(0,ht),et&&!ri&&(n+="-"),e=ht;e<ut;e++){if(d=r.charAt(e),it==-1){if(ct-e<rt){n+=w;break}}else if(a!=-1&&a<e&&(gt=t),it-e<=rt&&it-e>-1&&(n+=w,e=it),it===e){n+=(p?vt:t)+p;e+=ct-it+1;continue}d===h?(n+=d,gt=d):d===s&&(n+=gt)}if(ct>=ht&&(n+=r.substring(ct+1)),ft||st){for(y=t,e=0,ut=n.length;e<ut;e++)d=n.charAt(e),y+=d==="$"||d==="%"?yt:d;n=y}if(ut=dt.length,ut)for(e=0;e<ut;e++)n=n.replace(k,dt[e])}return n}var d=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,g=/^(n|c|p|e)(\d*)$/i,nt=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,tt=/\,/g,t="",u=".",c=",",s="#",h="0",k="??",p="en-US",it={}.toString,o,y;r.cultures["en-US"]={name:p,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};r.culture=function(n){var u=r.cultures,t;if(n!==i)t=w(n)||u[p],t.calendar=t.calendars.standard,u.current=t,l&&!l.load&&rt(t.numberFormat);else return u.current};r.findCulture=w;r.getCulture=b;r.culture(p);o=function(n,t){return t=t||0,n=n.toString().split("e"),n=Math.round(+(n[0]+"e"+(n[1]?+n[1]+t:t))),n=n.toString().split("e"),n=+(n[0]+"e"+(n[1]?+n[1]-t:-t)),n.toFixed(t)};y=function(n,t,r){if(t){if(it.call(n)==="[object Date]")return ut(n,t,r);if(typeof n===v)return ft(n,t,r)}return n!==i?n:""};l&&!l.load&&(y=function(t,i,r){return n.isPlainObject(r)&&(r=r.name),l.format(t,i,r)});r.format=function(n){var t=arguments;return n.replace(pi,function(n,i,r){var u=t[parseInt(i,10)+1];return y(u,r?r.substring(1):"")})};r._extractFormat=function(n){return n.slice(0,3)==="{0:"&&(n=n.slice(3,n.length-1)),n};r._activeElement=function(){try{return document.activeElement}catch(n){return document.documentElement.activeElement}};r._round=o;r.toString=y}(),function(){function t(n,t,i){return!(n>=t&&n<=i)}function b(n){return n.charAt(0)}function s(t){return n.map(t,b)}function k(n,t){t||n.getHours()!==23||n.setHours(n.getHours()+2)}function d(n){for(var t=0,r=n.length,i=[];t<r;t++)i[t]=(n[t]+"").toLowerCase();return i}function h(n){var i={},t;for(t in n)i[t]=d(n[t]);return i}function g(n,r,u){if(!n)return null;var d=function(n){for(var t=0;r[ut]===n;)t++,ut++;return t>0&&(ut-=1),t},tt=function(t){var r=e[t]||new RegExp("^\\d{1,"+t+"}"),i=n.substr(p,t).match(r);return i?(i=i[0],p+=i.length,parseInt(i,10)):null},ht=function(t,i){for(var r=0,h=t.length,o,u,f=0,s=0,e;r<h;r++)o=t[r],u=o.length,e=n.substr(p,u),i&&(e=e.toLowerCase()),e==o&&u>f&&(f=u,s=r);return f?(p+=f,s+1):null},ct=function(){var t=!1;return n.charAt(p)===r[ut]&&(p++,t=!0),t},v=u.calendars.standard,c=null,it=null,w=null,o=null,rt=null,ft=null,g=null,ut=0,p=0,yt=!1,pt=new Date,lt=v.twoDigitYearMax||2029,ot=pt.getFullYear(),l,f,dt,wt,bt,kt,et,at,vt,b,nt,gt,st;for(r||(r="d"),wt=v.patterns[r],wt&&(r=wt),r=r.split(""),dt=r.length;ut<dt;ut++)if(l=r[ut],yt)l==="'"?yt=!1:ct();else if(l==="d"){if(f=d("d"),v._lowerDays||(v._lowerDays=h(v.days)),w!==null&&f>2)continue;if(w=f<3?tt(2):ht(v._lowerDays[f==3?"namesAbbr":"names"],!0),w===null||t(w,1,31))return null}else if(l==="M"){if(f=d("M"),v._lowerMonths||(v._lowerMonths=h(v.months)),it=f<3?tt(2):ht(v._lowerMonths[f==3?"namesAbbr":"names"],!0),it===null||t(it,1,12))return null;it-=1}else if(l==="y"){if(f=d("y"),c=tt(f),c===null)return null;f==2&&(typeof lt=="string"&&(lt=ot+parseInt(lt,10)),c=ot-ot%100+c,c>lt&&(c-=100))}else if(l==="h"){if(d("h"),o=tt(2),o==12&&(o=0),o===null||t(o,0,11))return null}else if(l==="H"){if(d("H"),o=tt(2),o===null||t(o,0,23))return null}else if(l==="m"){if(d("m"),rt=tt(2),rt===null||t(rt,0,59))return null}else if(l==="s"){if(d("s"),ft=tt(2),ft===null||t(ft,0,59))return null}else if(l==="f"){if(f=d("f"),st=n.substr(p,f).match(e[3]),g=tt(f),g!==null&&(st=st[0].length,st<3&&(g*=Math.pow(10,3-st)),f>3&&(g=parseInt(g.toString().substring(0,3),10))),g===null||t(g,0,999))return null}else if(l==="t"){if(f=d("t"),at=v.AM,vt=v.PM,f===1&&(at=s(at),vt=s(vt)),bt=ht(vt),!bt&&!ht(at))return null}else if(l==="z"){if(kt=!0,f=d("z"),n.substr(p,1)==="Z"){ct();continue}if((et=n.substr(p,6).match(f>2?y:a),!et)||(et=et[0].split(":"),b=et[0],nt=et[1],!nt&&b.length>3&&(p=b.length-2,nt=b.substring(p),b=b.substring(0,p)),b=parseInt(b,10),t(b,-12,13))||f>2&&(nt=parseInt(nt,10),isNaN(nt)||t(nt,0,59)))return null}else if(l==="'")yt=!0,ct();else if(!ct())return null;return(gt=o!==null||rt!==null||ft||null,c===null&&it===null&&w===null&&gt?(c=ot,it=pt.getMonth(),w=pt.getDate()):(c===null&&(c=ot),w===null&&(w=1)),bt&&o<12&&(o+=12),kt?(b&&(o+=-b),nt&&(rt+=-nt),n=new Date(Date.UTC(c,it,w,o,rt,ft,g))):(n=new Date(c,it,w,o,rt,ft,g),k(n,o)),c<100&&n.setFullYear(c),n.getDate()!==w&&kt===i)?null:n}function nt(n){var t=n.substr(0,1)==="-"?-1:1;return n=n.substring(1),n=parseInt(n.substr(0,2),10)*60+parseInt(n.substring(2),10),t*n}var u=/\u00A0/g,c=/[eE][\-+]?[0-9]+/,a=/[+|\-]\d{1,2}/,y=/[+|\-]\d{1,2}:?\d{2}/,p=/^\/Date\((.*?)\)\/$/,w=/[+-]\d*/,f=["G","g","d","F","D","y","m","T","t"],e={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},o={}.toString;r.parseDate=function(n,t,i){if(o.call(n)==="[object Date]")return n;var e=0,u=null,h,c,s;if(n&&n.indexOf("/D")===0&&(u=p.exec(n),u))return u=u[1],s=w.exec(u.substring(1)),u=new Date(parseInt(u,10)),s&&(s=nt(s[0]),u=r.timezone.apply(u,0),u=r.timezone.convert(u,0,-1*s)),u;if(i=r.getCulture(i),!t){for(t=[],c=i.calendar.patterns,h=f.length;e<h;e++)t[e]=c[f[e]];e=0;t=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(t)}for(t=yi(t)?t:[t],h=t.length;e<h;e++)if(u=g(n,t[e],i),u)return u;return u};r.parseInt=function(n,t){var i=r.parseFloat(n,t);return i&&(i=i|0),i};r.parseFloat=function(n,t,i){if(!n&&n!==0)return null;if(typeof n===v)return n;n=n.toString();t=r.getCulture(t);var f=t.numberFormat,h=f.percent,l=f.currency,s=l.symbol,a=h.symbol,e=n.indexOf("-"),o,y;return c.test(n)?(n=parseFloat(n.replace(f["."],".")),isNaN(n)&&(n=null),n):e>0?null:(e=e>-1,n.indexOf(s)>-1||i&&i.toLowerCase().indexOf("c")>-1?(f=l,o=f.pattern[0].replace("$",s).split("n"),n.indexOf(o[0])>-1&&n.indexOf(o[1])>-1&&(n=n.replace(o[0],"").replace(o[1],""),e=!0)):n.indexOf(a)>-1&&(y=!0,f=h,s=a),n=n.replace("-","").replace(s,"").replace(u," ").split(f[","].replace(u," ")).join("").replace(f["."],"."),n=parseFloat(n),isNaN(n)?n=null:e&&(n*=-1),n&&y&&(n/=100),n)};l&&!l.load&&(r.parseDate=function(n,t,i){return o.call(n)==="[object Date]"?n:l.parseDate(n,t,i)},r.parseFloat=function(t,r){return typeof t===v?t:t===i||t===null?null:(n.isPlainObject(r)&&(r=r.name),t=l.parseFloat(t,r),isNaN(t)?null:t)})}(),function(){var s,f,r,l;u._scrollbar=i;u.scrollbar=function(n){if(isNaN(u._scrollbar)||n){var t=document.createElement("div"),i;return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),u._scrollbar=i=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),i}return u._scrollbar};u.isRtl=function(t){return n(t).closest(".k-rtl").length>0};s=document.createElement("table");try{s.innerHTML="<tr><td><\/td><\/tr>";u.tbodyInnerHtml=!0}catch(a){u.tbodyInnerHtml=!1}u.touch="ontouchstart"in t;u.msPointers=t.MSPointerEvent;u.pointers=t.PointerEvent;var h=u.transitions=!1,c=u.transforms=!1,o="HTMLElement"in t?HTMLElement.prototype:[];u.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style;g(["Moz","webkit","O","ms"],function(){var t=this.toString(),i=typeof s.style[t+"Transition"]===e,n;if(i||typeof s.style[t+"Transform"]===e)return n=t.toLowerCase(),c={css:n!="ms"?"-"+n+"-":"",prefix:t,event:n==="o"||n==="webkit"?n:""},i&&(h=c,h.event=h.event?h.event+"TransitionEnd":"transitionend"),!1});s=null;u.transforms=c;u.transitions=h;u.devicePixelRatio=t.devicePixelRatio===i?1:t.devicePixelRatio;try{u.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth;u.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(a){u.screenWidth=t.screen.availWidth;u.screenHeight=t.screen.availHeight}u.detectOS=function(n){var i=!1,f,e=[],s=!/mobile safari/i.test(n),o={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},h={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},c={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},r;for(r in o)if(o.hasOwnProperty(r)&&(e=n.match(o[r]),e)){if(r=="windows"&&"plugins"in navigator)return!1;i={};i.device=r;i.tablet=at(r,c,!1);i.browser=at(n,l,"default");i.name=at(r,h);i[i.name]=!0;i.majorVersion=e[2];i.minorVersion=e[3].replace("_",".");f=i.minorVersion.replace(".","").substr(0,2);i.flatVersion=i.majorVersion+f+new Array(3-(f.length<3?f.length:2)).join("0");i.cordova=typeof t.PhoneGap!==ut||typeof t.cordova!==ut;i.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||i.cordova;i.android&&(u.devicePixelRatio<1.5&&i.flatVersion<400||s)&&(u.screenWidth>800||u.screenHeight>800)&&(i.tablet=r);break}return i};f=u.mobileOS=u.detectOS(navigator.userAgent);u.wpDevicePixelRatio=f.wp?screen.width/320:0;u.kineticScrollNeeded=f&&(u.touch||u.msPointers||u.pointers);u.hasNativeScrolling=!1;(f.ios||f.android&&f.majorVersion>2||f.wp)&&(u.hasNativeScrolling=f);u.mouseAndTouchPresent=u.touch&&!(u.mobileOS.ios||u.mobileOS.android);u.detectBrowser=function(n){var t=!1,i=[],u={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},r;for(r in u)if(u.hasOwnProperty(r)&&(i=n.match(u[r]),i)){t={};t[r]=!0;t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0;t.version=parseInt(document.documentMode||i[2],10);break}return t};u.browser=u.detectBrowser(navigator.userAgent);u.zoomLevel=function(){try{var n=u.browser,r=0,i=document.documentElement;return n.msie&&n.version==11&&i.scrollHeight>i.clientHeight&&!u.touch&&(r=u.scrollbar()),u.touch?i.clientWidth/t.innerWidth:n.msie&&n.version>=10?((top||t).document.documentElement.offsetWidth+r)/(top||t).innerWidth:1}catch(f){return 1}};u.cssBorderSpacing=typeof document.documentElement.style.borderSpacing!="undefined"&&!(u.browser.msie&&u.browser.version<8),function(t){var i="",r=n(document.documentElement),f=parseInt(t.version,10);t.msie?i="ie":t.mozilla?i="ff":t.safari?i="safari":t.webkit?i="webkit":t.opera&&(i="opera");i&&(i="k-"+i+" k-"+i+f);u.mobileOS&&(i+=" k-mobile");r.addClass(i)}(u.browser);u.eventCapture=document.documentElement.addEventListener;r=document.createElement("input");u.placeholder="placeholder"in r;u.propertyChangeEvent="onpropertychange"in r;u.input=function(){for(var i=["number","date","time","month","week","datetime","datetime-local"],e=i.length,u="test",f={},n=0,t;n<e;n++)t=i[n],r.setAttribute("type",t),r.value=u,f[t.replace("-","")]=r.type!=="text"&&r.value!==u;return f}();r.style.cssText="float:left;";u.cssFloat=!!r.style.cssFloat;r=null;u.stableSort=function(){for(var t=[{index:0,field:"b"}],n=1;n<513;n++)t.push({index:n,field:"a"});return t.sort(function(n,t){return n.field>t.field?1:n.field<t.field?-1:0}),t[0].index===1}();u.matchesSelector=o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.matchesSelector||o.matches||function(t){for(var i=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:n(t),r=i.length;r--;)if(i[r]==this)return!0;return!1};u.pushState=t.history&&t.history.pushState;l=document.documentMode;u.hashChange="onhashchange"in t&&!(u.browser.msie&&(!l||l<=8))}();fi={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};b={};n.extend(b,{enabled:!0,Element:function(t){this.element=n(t)},promise:function(n,t){n.is(":visible")||n.css({display:n.data("olddisplay")||"block"}).css("display");t.hide&&n.data("olddisplay",n.css("display")).hide();t.init&&t.init();t.completeCallback&&t.completeCallback(n);n.dequeue()},disable:function(){this.enabled=!1;this.promise=this.promiseShim},enable:function(){this.enabled=!0;this.promise=this.animatedPromise}});b.promiseShim=b.promise;"kendoAnimate"in n.fn||h(n.fn,{kendoStop:function(n,t){return this.stop(n,t)},kendoAnimate:function(n,t,i,r){return ei(this,n,t,i,r)},kendoAddClass:function(n,t){return r.toggleClass(this,n,t,!0)},kendoRemoveClass:function(n,t){return r.toggleClass(this,n,t,!1)},kendoToggleClass:function(n,t,i){return r.toggleClass(this,n,t,i)}});var wr=/&/g,br=/</g,kr=/"/g,dr=/'/g,gr=/>/g;vt=function(n){return n.target};u.touch&&(vt=function(n){var t="originalEvent"in n?n.originalEvent.changedTouches:"changedTouches"in n?n.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):n.target},g(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,i){n.fn[i]=function(n){return this.bind(i,n)}}));u.touch?u.mobileOS?(u.mousedown="touchstart",u.mouseup="touchend",u.mousemove="touchmove",u.mousecancel="touchcancel",u.click="touchend",u.resize="orientationchange"):(u.mousedown="mousedown touchstart",u.mouseup="mouseup touchend",u.mousemove="mousemove touchmove",u.mousecancel="mouseleave touchcancel",u.click="click",u.resize="resize"):u.pointers?(u.mousemove="pointermove",u.mousedown="pointerdown",u.mouseup="pointerup",u.mousecancel="pointercancel",u.click="pointerup",u.resize="orientationchange resize"):u.msPointers?(u.mousemove="MSPointerMove",u.mousedown="MSPointerDown",u.mouseup="MSPointerUp",u.mousecancel="MSPointerCancel",u.click="MSPointerUp",u.resize="orientationchange resize"):(u.mousemove="mousemove",u.mousedown="mousedown",u.mouseup="mouseup",u.mousecancel="mouseleave",u.click="click",u.resize="resize");oi=function(n,t){for(var o=t||"d",r,i,e=1,u=0,f=n.length;u<f;u++)i=n[u],i!==""&&(r=i.indexOf("["),r!==0&&(r==-1?i="."+i:(e++,i="."+i.substring(0,r)+" || {})"+i.substring(r))),e++,o+=i+(u<f-1?" || {})":")"));return new Array(e).join("(")+o};si=/^([a-z]+:)?\/\//i;h(r,{ui:r.ui||{},fx:r.fx||vr,effects:r.effects||b,mobile:r.mobile||{},data:r.data||{},dataviz:r.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:r.support||u,animate:r.animate||ei,ns:"",attr:function(n){return"data-"+r.ns+n},getShadows:ti,wrap:or,deepExtend:lt,getComputedStyles:ui,isScrollable:hr,size:cr,toCamelCase:ri,toHyphens:sr,getOffset:r.getOffset||lr,parseEffects:r.parseEffects||ar,toggleClass:r.toggleClass||pr,directions:r.directions||fi,Observable:ct,Class:ft,Template:p,template:st(p.compile,p),render:st(p.render,p),stringify:st(tt.stringify,tt),eventTarget:vt,htmlEncode:nu,isLocalUrl:function(n){return n&&!si.test(n)},expr:function(n,t,i){return n=n||"",typeof t==e&&(i=t,t=!1),i=i||"d",n&&n.charAt(0)!=="["&&(n="."+n),t?(n=n.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"'),n=n.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),n=oi(n.split("."),i),n=n.replace(/_\$DOT\$_/g,".")):n=i+n,n},getter:function(n,t){var i=n+t;return gt[i]=gt[i]||new Function("d","return "+r.expr(n,t))},setter:function(n){return ni[n]=ni[n]||new Function("d,value",r.expr(n)+"=value")},accessor:function(n){return{get:r.getter(n),set:r.setter(n)}},guid:function(){for(var t="",i,n=0;n<32;n++)i=a.random()*16|0,(n==8||n==12||n==16||n==20)&&(t+="-"),t+=(n==12?4:n==16?i&3|8:i).toString(16);return t},roleSelector:function(n){return n.replace(/(\S+)/g,"["+r.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(n){var t=n.split(" "),i;if(t)for(i=0;i<t.length;i++)t[i]!="view"&&(t[i]=t[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return t.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(n){return/^(label|input|textarea|select)$/i.test(n.target.tagName)},logToConsole:function(){var n=t.console;!r.suppressLog&&typeof n!="undefined"&&n.log}});k=ct.extend({init:function(n,t){var i=this,u;i.element=r.jQuery(n).handler(i);i.angular("init",t);ct.fn.init.call(i);u=t?t.dataSource:null;u&&(t=h({},t,{dataSource:{}}));t=i.options=h(!0,{},i.options,t);u&&(t.dataSource=u);i.element.attr(r.attr("role"))||i.element.attr(r.attr("role"),(t.name||"").toLowerCase());i.element.data("kendo"+t.prefix+t.name,i);i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(n){n=n||this.wrapper;var i=this.element,t="tabindex",r=n.attr(t)||i.attr(t);i.removeAttr(t);n.attr(t,isNaN(r)?0:r)},setOptions:function(t){this._setEvents(t);n.extend(this.options,t)},_setEvents:function(n){for(var t=this,r=0,u=t.events.length,i;r<u;r++)i=t.events[r],t.options[i]&&n[i]&&t.unbind(i,t.options[i]);t.bind(t.events,n)},resize:function(n){var t=this.getSize(),i=this._size;(n||(t.width>0||t.height>0)&&(!i||t.width!==i.width||t.height!==i.height))&&(this._size=t,this._resize(t,n),this.trigger("resize",t))},getSize:function(){return r.dimensions(this.element)},size:function(n){if(n)this.setSize(n);else return this.getSize()},setSize:n.noop,_resize:n.noop,destroy:function(){var n=this;n.element.removeData("kendo"+n.options.prefix+n.options.name);n.element.removeData("handler");n.unbind()},_destroy:function(){this.destroy()},angular:function(){}});yt=k.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var i=this;i.angular(t,function(){return{elements:i.items(),data:n.map(i.dataItems(),function(n){return{dataItem:n}})}})}});r.dimensions=function(n,t){var i=n[0];return t&&n.css(t),{width:i.offsetWidth,height:i.offsetHeight}};r.notify=nt;var tu=/template$/i,iu=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,ru=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,uu=/([A-Z])/g;r.initWidget=function(u,f,o){var c,p,s,v,d,h,w,l,b,g,y,k,a;if(o?o.roles&&(o=o.roles):o=r.ui.roles,u=u.nodeType?u:u[0],h=u.getAttribute("data-"+r.ns+"role"),h){b=h.indexOf(".")===-1;s=b?o[h]:r.getter(h)(t);y=n(u).data();k=s?"kendo"+s.fn.options.prefix+s.fn.options.name:"";g=b?new RegExp("^kendo.*"+h+"$","i"):new RegExp("^"+k+"$","i");for(a in y)if(a.match(g))if(a===k)c=y[a];else return y[a];if(s){for(l=pt(u,"dataSource"),f=n.extend({},hi(u,s.fn.options),f),l&&(f.dataSource=typeof l===e?r.getter(l)(t):l),v=0,d=s.fn.events.length;v<d;v++)p=s.fn.events[v],w=pt(u,p),w!==i&&(f[p]=r.getter(w)(t));return c?n.isEmptyObject(f)||c.setOptions(f):c=new s(u,f),c}}};r.rolesFromNamespaces=function(n){var i=[],t,u;for(n[0]||(n=[r.ui,r.dataviz.ui]),t=0,u=n.length;t<u;t++)i[t]=n[t].roles;return h.apply(null,[{}].concat(i.reverse()))};r.init=function(t){var i=r.rolesFromNamespaces(ht.call(arguments,1));n(t).find("[data-"+r.ns+"role]").addBack().each(function(){r.initWidget(this,{},i)})};r.destroy=function(t){n(t).find("[data-"+r.ns+"role]").addBack().each(function(){var i=n(this).data(),t;for(t in i)t.indexOf("kendo")===0&&typeof i[t].destroy===c&&i[t].destroy()})};r.resize=function(t,i){var f=n(t).find("[data-"+r.ns+"role]").addBack().filter(eu),u;f.length&&(u=n.makeArray(f),u.sort(fu),n.each(u,function(){var t=r.widgetInstance(n(this));t&&t.resize(i)}))};r.parseOptions=hi;h(r.ui,{Widget:k,DataBoundWidget:yt,roles:{},progress:function(t,i){var u=t.find(".k-loading-mask"),o=r.support,c=o.browser,f,s,h,e;i?u.length||(f=o.isRtl(t),s=f?"right":"left",e=t.scrollLeft(),h=c.webkit?f?t[0].scrollWidth-t.width()-2*e:0:0,u=n("<div class='k-loading-mask'><span class='k-loading-text'>Loading...<\/span><div class='k-loading-image'/><div class='k-loading-color'/><\/div>").width("100%").height("100%").css("top",t.scrollTop()).css(s,Math.abs(e)+h).prependTo(t)):u&&u.remove()},plugin:function(t,u,f){var o=t.fn.options.name,s;u=u||r.ui;f=f||"";u[o]=t;u.roles[o.toLowerCase()]=t;s="getKendo"+f+o;o="kendo"+f+o;n.fn[o]=function(u){var f=this,s;return typeof u===e?(s=ht.call(arguments,1),this.each(function(){var t=n.data(this,o),e,h;if(!t)throw new Error(r.format("Cannot call method '{0}' of {1} before it is initialized",u,o));if(e=t[u],typeof e!==c)throw new Error(r.format("Cannot find method '{0}' of {1}",u,o));return h=e.apply(t,s),h!==i?(f=h,!1):void 0})):this.each(function(){new t(this,u)}),f};n.fn[o].widget=t;n.fn[s]=function(){return this.data(o)}}});wt={bind:function(){return this},nullObject:!0,options:{}};bt=k.extend({init:function(n,t){k.fn.init.call(this,n,t);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){k.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var n=this.element.closest(r.roleSelector("view splitview modalview drawer"));return r.widgetInstance(n,r.mobile.ui)||wt},viewHasNativeScrolling:function(){var n=this.view();return n&&n.options.useNativeScrolling},container:function(){var n=this.element.closest(r.roleSelector("view layout modalview drawer splitview"));return r.widgetInstance(n.eq(0),r.mobile.ui)||wt}});h(r.mobile,{init:function(n){r.init(n,r.mobile.ui,r.ui,r.dataviz.ui)},appLevelNativeScrolling:function(){return r.mobile.application&&r.mobile.application.options&&r.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:bt,DataBoundWidget:yt.extend(bt.prototype),roles:{},plugin:function(n){r.ui.plugin(n,r.mobile.ui,"Mobile")}}});lt(r.dataviz,{init:function(n){r.init(n,r.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(n){r.ui.plugin(n,r.dataviz.ui)}},roles:{}});r.touchScroller=function(t,i){return n(t).map(function(t,f){return f=n(f),u.kineticScrollNeeded&&r.mobile.ui.Scroller&&!f.data("kendoMobileScroller")?(f.kendoMobileScroller(i),f.data("kendoMobileScroller")):!1})[0]};r.preventDefault=function(n){n.preventDefault()};r.widgetInstance=function(n,i){var u=n.data(r.ns+"role"),e=[],f,o,s,h;if(u){if(u==="content"&&(u="scroller"),i)if(i[0])for(f=0,o=i.length;f<o;f++)e.push(i[f].roles[u]);else e.push(i.roles[u]);else e=[r.ui.roles[u],r.dataviz.ui.roles[u],r.mobile.ui.roles[u]];for(u.indexOf(".")>=0&&(e=[r.getter(u)(t)]),f=0,o=e.length;f<o;f++)if(s=e[f],s&&(h=n.data("kendo"+s.fn.options.prefix+s.fn.options.name),h))return h}};r.onResize=function(i){var r=i;u.mobileOS.android&&(r=function(){setTimeout(i,600)});n(t).on(u.resize,r);return r};r.unbindResize=function(i){n(t).off(u.resize,i)};r.attrValue=function(n,t){return n.data(r.ns+t)};r.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};n.extend(n.expr[":"],{kendoFocusable:function(t){var i=n.attr(t,"tabindex");return ou(t,!isNaN(i)&&i>-1)}});var ci=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],hu="label, input, [data-rel=external]",o={setupMouseMute:function(){var t=0,r=ci.length,f=document.documentElement,i;if(!o.mouseTrap&&u.eventCapture)for(o.mouseTrap=!0,o.bustClick=!1,o.captureMouse=!1,i=function(t){o.captureMouse&&(t.type==="click"?o.bustClick&&!n(t.target).is(hu)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};t<r;t++)f.addEventListener(ci[t],i,!0)},muteMouse:function(n){o.captureMouse=!0;n.data.bustClick&&(o.bustClick=!0);clearTimeout(o.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(o.mouseTrapTimeoutID);o.mouseTrapTimeoutID=setTimeout(function(){o.captureMouse=!1;o.bustClick=!1},400)}},d={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};u.touch&&(u.mobileOS.ios||u.mobileOS.android)?d={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:u.pointers?d={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:u.msPointers&&(d={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"});!u.msPointers||"onmspointerenter"in t||n.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,i){n.event.special[t]={delegateType:i,bindType:i,handle:function(t){var u,f=this,r=t.relatedTarget,e=t.handleObj;return r&&(r===f||n.contains(f,r))||(t.type=e.origType,u=e.handler.apply(this,arguments),t.type=i),u}}});li=function(n){return d[n]||n};kt=/([^ ]+)/g;r.applyEventMap=function(n,t){return n=n.replace(kt,li),t&&(n=n.replace(kt,"$1."+t)),n};ot=n.fn.on;h(!0,s,n);s.fn=s.prototype=new n;s.fn.constructor=s;s.fn.init=function(t,i){return i&&i instanceof n&&!(i instanceof s)&&(i=s(i)),n.fn.init.call(this,t,i,ai)};s.fn.init.prototype=s.fn;ai=s(document);h(s.fn,{handler:function(n){return this.data("handler",n),this},autoApplyNS:function(n){return this.data("kendoNS",n||r.guid()),this},on:function(){var t=this,l=t.data("kendoNS"),s,n,i,f,h,c;return arguments.length===1?ot.call(t,arguments[0]):(s=t,n=ht.call(arguments),typeof n[n.length-1]===ut&&n.pop(),i=n[n.length-1],f=r.applyEventMap(n[0],l),u.mouseAndTouchPresent&&f.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(o.setupMouseMute(),h=n.length===2?null:n[1],c=f.indexOf("click")>-1&&f.indexOf("touchend")>-1,ot.call(this,{touchstart:o.muteMouse,touchend:o.unMuteMouse},h,{bustClick:c})),typeof i===e&&(s=t.data("handler"),i=s[i],n[n.length-1]=function(n){i.call(s,n)}),n[0]=f,ot.apply(t,n),t)},kendoDestroy:function(n){return n=n||this.data("kendoNS"),n&&this.off("."+n),this}});r.jQuery=s;r.eventMap=d;r.timezone=function(){function i(i,r){var u,o,s,c=r[3],e=r[4],f=r[5],h=r[8];return(h||(r[8]=h={}),h[i])?h[i]:(isNaN(e)?e.indexOf("last")===0?(u=new Date(Date.UTC(i,n[c]+1,1,f[0]-24,f[1],f[2],0)),o=t[e.substr(4,3)],s=u.getUTCDay(),u.setUTCDate(u.getUTCDate()+o-s-(o>s?7:0))):e.indexOf(">=")>=0&&(u=new Date(Date.UTC(i,n[c],e.substr(5),f[0],f[1],f[2],0)),o=t[e.substr(0,3)],s=u.getUTCDay(),u.setUTCDate(u.getUTCDate()+o-s+(o<s?7:0))):u=new Date(Date.UTC(i,n[c],e,f[0],f[1],f[2],0)),h[i]=u)}function f(n,t,r){var f,e,u,o;return(t=t[r],!t)?(f=r.split(":"),e=0,f.length>1&&(e=f[0]*60+Number(f[1])),[-1e6,"max","-","Jan",1,[0,0,0],e,"-"]):(u=new Date(n).getUTCFullYear(),t=jQuery.grep(t,function(n){var i=n[0],t=n[1];return i<=u&&(t>=u||i==u&&t=="only"||t=="max")}),t.push(n),t.sort(function(n,t){return typeof n!="number"&&(n=Number(i(u,n))),typeof t!="number"&&(t=Number(i(u,t))),n-t}),o=t[jQuery.inArray(n,t)-1]||t[t.length-1],isNaN(o)?o:null)}function o(n,t,i){var r=t[i],u,f,e;if(typeof r=="string"&&(r=t[r]),!r)throw new Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(u=r.length-1;u>=0;u--)if(f=r[u][3],f&&n>f)break;if(e=r[u+1],!e)throw new Error('Timezone "'+i+'" not found on '+n+".");return e}function u(n,t,i,r){typeof n!=v&&(n=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));var u=o(n,t,r);return{zone:u,rule:f(n,i,u[1])}}function s(n,t){if(t=="Etc/UTC"||t=="Etc/GMT")return 0;var i=u(n,this.zones,this.rules,t),f=i.zone,e=i.rule;return r.parseFloat(e?f[0]-e[6]:f[0])}function h(n,t){var f=u(n,this.zones,this.rules,t),e=f.zone,i=f.rule,r=e[2];return r.indexOf("/")>=0?r.split("/")[i&&+i[6]?1:0]:r.indexOf("%s")>=0?r.replace("%s",!i||i[7]=="-"?"":i[7]):r}function c(n,t,i){var r,u;return typeof t==e&&(t=this.offset(n,t)),typeof i==e&&(i=this.offset(n,i)),r=n.getTimezoneOffset(),n=new Date(n.getTime()+(t-i)*6e4),u=n.getTimezoneOffset(),new Date(n.getTime()+(u-r)*6e4)}function l(n,t){return this.convert(n,n.getTimezoneOffset(),t)}function a(n,t){return this.convert(n,t,n.getTimezoneOffset())}function y(n){return this.apply(new Date(n),"Etc/UTC")}var n={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},t={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:s,convert:c,apply:l,remove:a,abbr:h,toLocalDate:y}}();r.date=function(){function t(n,t){return t===0&&n.getHours()===23?(n.setHours(n.getHours()+2),!0):!1}function e(n,i,r){var u=n.getHours();r=r||1;i=(i-n.getDay()+7*r)%7;n.setDate(n.getDate()+i);t(n,u)}function c(n,t,i){return n=new Date(n),e(n,t,i),n}function o(n){return new Date(n.getFullYear(),n.getMonth(),1)}function l(n){var t=new Date(n.getFullYear(),n.getMonth()+1,0),i=o(n),r=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());return r&&t.setHours(i.getHours()+r/60),t}function i(n){return n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),t(n,0),n}function a(n){return Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function r(n){return n.getTime()-i(n)}function v(t,i,u){var e=r(i),o=r(u),f;return!t||e==o?!0:(i>=u&&(u+=n),f=r(t),e>f&&(f+=n),o<e&&(o+=n),f>=e&&f<=o)}function y(t,i,r){var e=i.getTime(),u=r.getTime(),f;return e>=u&&(u+=n),f=t.getTime(),f>=e&&f<=u}function f(i,r){var u=i.getHours();return i=new Date(i),s(i,r*n),t(i,u),i}function s(n,t,i){var f=n.getTimezoneOffset(),r;n.setTime(n.getTime()+t);i||(r=n.getTimezoneOffset()-f,n.setTime(n.getTime()+r*u))}function h(){return i(new Date)}function p(n){return i(n).getTime()==h().getTime()}function w(n){var t=new Date(1980,1,1,0,0,0);return n&&t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}var u=6e4,n=864e5;return{adjustDST:t,dayOfWeek:c,setDayOfWeek:e,getDate:i,isInDateRange:y,isInTimeRange:v,isToday:p,nextDay:function(n){return f(n,1)},previousDay:function(n){return f(n,-1)},toUtcTime:a,MS_PER_DAY:n,MS_PER_HOUR:60*u,MS_PER_MINUTE:u,setTime:s,addDays:f,today:h,toInvariantTime:w,firstDayOfMonth:o,lastDayOfMonth:l,getMilliseconds:r}}();r.stripWhitespace=function(n){var t,u,i;if(document.createNodeIterator)for(t=document.createNodeIterator(n,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==n?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(u=0;u<n.childNodes.length;u++)i=n.childNodes[u],i.nodeType!=3||/\S/.test(i.nodeValue)||(n.removeChild(i),u--),i.nodeType==1&&r.stripWhitespace(i)};vi=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)};r.animationFrame=function(n){vi.call(t,n)};y=[];r.queueAnimation=function(n){y[y.length]=n;y.length===1&&r.runNextAnimation()};r.runNextAnimation=function(){r.animationFrame(function(){y[0]&&(y.shift()(),y[0]&&r.runNextAnimation())})};r.parseQueryStringParams=function(n){for(var u=n.split("?")[1]||"",r={},i=u.split(/&|=/),f=i.length,t=0;t<f;t+=2)i[t]!==""&&(r[decodeURIComponent(i[t])]=decodeURIComponent(i[t+1]));return r};r.elementUnderCursor=function(n){if(typeof n.x.client!="undefined")return document.elementFromPoint(n.x.client,n.y.client)};r.wheelDeltaY=function(n){var t=n.originalEvent,u=t.wheelDeltaY,r;return t.wheelDelta?(u===i||u)&&(r=t.wheelDelta):t.detail&&t.axis===t.VERTICAL_AXIS&&(r=-t.detail*10),r};r.throttle=function(n,t){var i,r=0,u;return!t||t<=0?n:(u=function(){function u(){n.apply(e,o);r=+new Date}var e=this,f=+new Date-r,o=arguments;if(!r)return u();i&&clearTimeout(i);f>t?u():i=setTimeout(u,t-f)},u.cancel=function(){clearTimeout(i)},u)};r.caret=function(t,r,u){var f,e=r!==i,o,s,h;if(u===i&&(u=r),t[0]&&(t=t[0]),!e||!t.disabled){try{t.selectionStart!==i?e?(t.focus(),t.setSelectionRange(r,u)):r=[t.selectionStart,t.selectionEnd]:document.selection&&(n(t).is(":visible")&&t.focus(),f=t.createTextRange(),e?(f.collapse(!0),f.moveStart("character",r),f.moveEnd("character",u-r),f.select()):(o=f.duplicate(),f.moveToBookmark(document.selection.createRange().getBookmark()),o.setEndPoint("EndToStart",f),s=o.text.length,h=s+f.text.length,r=[s,h]))}catch(c){r=[]}return r}};r.compileMobileDirective=function(n,i){var u=t.angular;return n.attr("data-"+r.ns+"role",n[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),u.element(n).injector().invoke(["$compile",function(t){t(n)(i);/^\$(digest|apply)$/.test(i.$$phase)||i.$digest()}]),r.widgetInstance(n,r.mobile.ui)};r.antiForgeryTokens=function(){var t={},r=n("meta[name=csrf-token],meta[name=_csrf]").attr("content"),u=n("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return n("input[name^='__RequestVerificationToken']").each(function(){t[this.name]=this.value}),u!==i&&r!==i&&(t[u]=r),t};r.cycleForm=function(n){function u(n){var t=r.widgetInstance(n);t&&t.focus?t.focus():n.focus()}var t=n.find("input, .k-widget").first(),i=n.find("button, .k-button").last();i.on("keydown",function(n){n.keyCode!=r.keys.TAB||n.shiftKey||(n.preventDefault(),u(t))});t.on("keydown",function(n){n.keyCode==r.keys.TAB&&n.shiftKey&&(n.preventDefault(),u(i))})},function(){function u(t,i,u,f){var h=n("<form>").attr({action:u,method:"POST",target:f}),e=r.antiForgeryTokens(),s,o;e.fileName=i;s=t.split(";base64,");e.contentType=s[0].replace("data:","");e.base64=s[1];for(o in e)e.hasOwnProperty(o)&&n("<input>").attr({value:e[o],name:o,type:"hidden"}).appendTo(h);h.appendTo("body").submit().remove()}function e(n,t){var u=n,i;if(typeof n=="string"){var f=n.split(";base64,"),o=f[0],r=atob(f[1]),e=new Uint8Array(r.length);for(i=0;i<r.length;i++)e[i]=r.charCodeAt(i);u=new Blob([e.buffer],{type:o})}navigator.msSaveBlob(u,t)}function o(n,r){t.Blob&&n instanceof Blob&&(n=URL.createObjectURL(n));i.download=r;i.href=n;var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null);i.dispatchEvent(u)}var i=document.createElement("a"),f="download"in i;r.saveAs=function(n){var t=u;n.forceProxy||(f?t=o:navigator.msSaveBlob&&(t=e));t(n.dataURI,n.fileName,n.proxyURL,n.proxyTarget)}}()}(jQuery,window),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n){function u(){this.node=null}function f(){}function t(n,t,i){this.nodeName=n;this.attr=t||{};this.children=i||[]}function r(n){this.nodeValue=n}function e(n){this.html=n}function o(n){return new e(n)}function s(n,i,r){return new t(n,i,r)}function h(n){return new r(n)}function c(n){this.root=n;this.children=[]}u.prototype={remove:function(){this.node.parentNode.removeChild(this.node)},attr:{}};f.prototype={nodeName:"#null",attr:{style:{}},children:[],remove:function(){}};var i=new f;t.prototype=new u;t.prototype.appendTo=function(n){for(var r=document.createElement(this.nodeName),u=this.children,t=0;t<u.length;t++)u[t].render(r,i);return n.appendChild(r),r};t.prototype.render=function(n,t){var u;if(t.nodeName!==this.nodeName)t.remove(),u=this.appendTo(n);else{u=t.node;var r,o=this.children,f=o.length,e=t.children,s=e.length;if(Math.abs(s-f)>2){this.render({appendChild:function(i){n.replaceChild(i,t.node)}},i);return}for(r=0;r<f;r++)o[r].render(u,e[r]||i);for(r=f;r<s;r++)e[r].remove()}this.node=u;this.syncAttributes(t.attr);this.removeAttributes(t.attr)};t.prototype.syncAttributes=function(n){var u=this.attr,t,i,r;for(t in u)i=u[t],r=n[t],t==="style"?this.setStyle(i,r):i!==r&&this.setAttribute(t,i,r)};t.prototype.setStyle=function(n,t){var r=this.node,i;if(t)for(i in n)n[i]!==t[i]&&(r.style[i]=n[i]);else for(i in n)r.style[i]=n[i]};t.prototype.removeStyle=function(n){var i=this.attr.style||{},r=this.node,t;for(t in n)i[t]===undefined&&(r.style[t]="")};t.prototype.removeAttributes=function(n){var i=this.attr,t;for(t in n)t==="style"?this.removeStyle(n.style):i[t]===undefined&&this.removeAttribute(t)};t.prototype.removeAttribute=function(n){var t=this.node;n==="style"?t.style.cssText="":n==="className"?t.className="":t.removeAttribute(n)};t.prototype.setAttribute=function(n,t){var i=this.node;i[n]!==undefined?i[n]=t:i.setAttribute(n,t)};r.prototype=new u;r.prototype.nodeName="#text";r.prototype.render=function(n,t){var i;t.nodeName!==this.nodeName?(t.remove(),i=document.createTextNode(this.nodeValue),n.appendChild(i)):(i=t.node,this.nodeValue!==t.nodeValue&&(i.nodeValue=this.nodeValue));this.node=i};e.prototype={nodeName:"#html",attr:{},remove:function(){for(var n=0;n<this.nodes.length;n++)this.nodes[n].parentNode.removeChild(this.nodes[n])},render:function(n,t){var r,i;if(t.nodeName!==this.nodeName||t.html!==this.html)for(t.remove(),r=n.lastChild,n.insertAdjacentHTML("beforeend",this.html),this.nodes=[],i=r?r.nextSibling:n.firstChild;i;i=i.nextSibling)this.nodes.push(i);else this.nodes=t.nodes.slice(0)}};c.prototype={html:o,element:s,text:h,render:function(n){for(var r=this.children,t=0,u=n.length;t<u;t++)n[t].render(this.root,r[t]||i);for(t=u;t<r.length;t++)r[t].remove();this.children=n}};n.dom={html:o,text:h,element:s,Tree:c}}(window.kendo),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.data.odata","./kendo.data.xml"],n)}(function(){return function(n,t){function ri(n,t,i,u){return function(f){var e={},o;for(o in f)e[o]=f[o];e.field=u?i+"."+f.field:i;t==r&&n._notifyChange&&n._notifyChange(e);n.trigger(t,e)}}function bi(t,i){if(t===i)return!0;var r=n.type(t),f=n.type(i),u;if(r!==f)return!1;if(r==="date")return t.getTime()===i.getTime();if(r!=="object"&&r!=="array")return!1;for(u in t)if(!bi(t[u],i[u]))return!1;return!0}function lu(n,t){var i,r;for(r in n)if((i=n[r],w(i)&&i.field&&i.field===t)||i===t)return i;return null}function u(n){this.data=n||[]}function ft(n,i){if(n){var r=typeof n===s?{field:n,dir:i}:n,u=h(r)?r:r!==t?[r]:[];return dr(u,function(n){return!!n.dir})}}function nr(n){var i,f,r,t,u=n.filters;if(u)for(i=0,f=u.length;i<f;i++)r=u[i],t=r.operator,t&&typeof t===s&&(r.operator=gi[t.toLowerCase()]||t),nr(r)}function yt(n){if(n&&!b(n))return(h(n)||!n.filters)&&(n={logic:"and",filters:h(n)?n:[n]}),nr(n),n}function au(n){return h(n)?n:[n]}function et(n,i){var r=typeof n===s?{field:n,dir:i}:n,u=h(r)?r:r!==t?[r]:[];return dt(u,function(n){return{field:n.field,dir:n.dir||"asc",aggregates:n.aggregates}})}function vu(n,t){return n&&n.getTime&&t&&t.getTime?n.getTime()===t.getTime():n===t}function yu(n,t,r,u,f,e){var h,c,s,l,o;for(t=t||[],l=t.length,h=0;h<l;h++)c=t[h],s=c.aggregate,o=c.field,n[o]=n[o]||{},e[o]=e[o]||{},e[o][s]=e[o][s]||{},n[o][s]=tr[s.toLowerCase()](n[o][s],r,i.accessor(o),u,f,e[o][s])}function a(n){return typeof n=="number"&&!isNaN(n)}function pt(n){return n&&n.getTime}function wt(n){for(var i=n.length,r=new Array(i),t=0;t<i;t++)r[t]=n[t].toJSON();return r}function pu(n,t,i,r,u){for(var e,f,o,s=0,h=n.length;s<h;s++){e=n[s];for(f in t)o=u[f],o&&o!==f&&(e[o]=t[f](e),delete e[f])}}function ur(n,t,i,r,u){for(var e,f,o,s=0,h=n.length;s<h;s++){e=n[s];for(f in t)e[f]=i._parse(f,t[f](e)),o=u[f],o&&o!==f&&delete e[o]}}function fr(n,t,i,r,u){for(var f,o,e=0,s=n.length;e<s;e++)f=n[e],o=r[f.field],o&&o!=f.field&&(f.field=o),f.value=i._parse(f.field,f.value),f.hasSubgroups?fr(f.items,t,i,r,u):ur(f.items,t,i,r,u)}function fi(n,t,i,r,u,f){return function(e){return e=n(e),e&&!b(r)&&(lt.call(e)==="[object Array]"||e instanceof y||(e=[e]),i(e,r,new t,u,f)),e||[]}}function oi(n,t,i,r){for(var f,e=0,u,o;t.length&&r;)if(f=t[e],u=f.items,o=u.length,n&&n.field===f.field&&n.value===f.value?(n.hasSubgroups&&n.items.length?oi(n.items[n.items.length-1],f.items,i,r):(u=u.slice(i,i+r),n.items=n.items.concat(u)),t.splice(e--,1)):f.hasSubgroups&&u.length?(oi(f,u,i,r),f.items.length||t.splice(e--,1)):(u=u.slice(i,i+r),f.items=u,f.items.length||t.splice(e--,1)),u.length===0?i-=o:(i=0,r-=u.length),++e>=t.length)break;e<t.length&&t.splice(e,t.length-e)}function si(n){for(var i=[],f,r,u,t=0,e=n.length;t<e;t++)if(u=n.at(t),u.hasSubgroups)i=i.concat(si(u.items));else for(f=u.items,r=0;r<f.length;r++)i.push(f.at(r));return i}function er(n,t){var r,u,i;if(t)for(r=0,u=n.length;r<u;r++)i=n.at(r),i.hasSubgroups?er(i.items,t):i.items=new at(i.items,t)}function or(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i].hasSubgroups){if(or(n[i].items,t))return!0}else if(t(n[i].items,n[i]))return!0}function wu(n,t,i,r){for(var u=0;u<n.length;u++){if(n[u].data===t)break;if(sr(n[u].data,i,r))break}}function sr(n,t,i){for(var r=0,u=n.length;r<u;r++){if(n[r]&&n[r].hasSubgroups)return sr(n[r].items,t,i);if(n[r]===t||n[r]===i)return n[r]=i,!0}}function hr(n,i,r,u,f){for(var e,s,o=0,h=n.length;o<h;o++)if(e=n[o],e&&!(e instanceof u))if(e.hasSubgroups===t||f){for(s=0;s<i.length;s++)if(i[s]===e){n[o]=i.at(s);wu(r,i,e,n[o]);break}}else hr(e.items,i,r,u,f)}function cr(n,t){for(var r,i=0,u=n.length;i<u;i++)if(r=n.at(i),r.uid==t.uid)return n.splice(i,1),r}function lr(n,t){return t?vr(n,function(n){return n.uid&&n.uid==t.uid||n[t.idField]===t.id&&t.id!==t._defaultId}):-1}function ar(n,t){return t?vr(n,function(n){return n.uid==t.uid}):-1}function vr(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return i;return-1}function yr(n,t){if(n&&!b(n)){var i=n[t],r;return(r=w(i)?i.from||i.field||t:n[t]||t,l(r))?t:r}return t}function pr(n,t){var r,f,i={},u;for(u in n)u!=="filters"&&(i[u]=n[u]);if(n.filters)for(i.filters=[],r=0,f=n.filters.length;r<f;r++)i.filters[r]=pr(n.filters[r],t);else i.field=yr(t.fields,i.field);return i}function bt(n,t){for(var o=[],i,u,f,r=0,e=n.length;r<e;r++){i={};u=n[r];for(f in u)i[f]=u[f];i.field=yr(t.fields,i.field);i.aggregates&&h(i.aggregates)&&(i.aggregates=bt(i.aggregates,t));o.push(i)}return o}function bu(t,i){t=n(t)[0];for(var s=t.options,l=i[0],a=i[1],h=[],r,u,f,e,o=0,c=s.length;o<c;o++)(f={},u=s[o],r=u.parentNode,r===t&&(r=null),u.disabled||r&&r.disabled)||(r&&(f.optgroup=r.label),f[l.field]=u.text,e=u.attributes.value,e=e&&e.specified?u.value:u.text,f[a.field]=e,h.push(f));return h}function ku(t,i){for(var s=n(t)[0].tBodies[0],h=s?s.rows:[],r,v=i.length,l=[],a,f,e,o,u=0,c=h.length;u<c;u++){for(f={},o=!0,a=h[u].cells,r=0;r<v;r++)e=a[r],e.nodeName.toLowerCase()!=="th"&&(o=!1,f[i[r].field]=e.innerHTML);o||l.push(f)}return l}function wr(n){return function(){var t=this._data,i=c.fn[n].apply(this,ut.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),i}}function br(t,i){function c(n,t){return n.filter(t).add(n.find(t))}for(var l=n(t).children(),v=[],r,b=i[0].field,y=i[1]&&i[1].field,p=i[2]&&i[2].field,w=i[3]&&i[3].field,f,s,o,h,u,e=0,a=l.length;e<a;e++)r={_loaded:!0},f=l.eq(e),o=f[0].firstChild,u=f.children(),t=u.filter("ul"),u=u.filter(":not(ul)"),s=f.attr("data-id"),s&&(r.id=s),o&&(r[b]=o.nodeType==3?o.nodeValue:u.text()),y&&(r[y]=c(u,"a").attr("href")),w&&(r[w]=c(u,"img").attr("src")),p&&(h=c(u,".k-sprite").prop("className"),r[p]=h&&n.trim(h.replace("k-sprite",""))),t.length&&(r.items=br(t.eq(0),i)),f.attr("data-hasChildren")=="true"&&(r.hasChildren=!0),v.push(r);return v}var e=n.extend,v=n.proxy,w=n.isPlainObject,b=n.isEmptyObject,h=n.isArray,dr=n.grep,kt=n.ajax,dt,gt=n.each,k=n.noop,i=window.kendo,l=i.isFunction,g=i.Observable,st=i.Class,s="string",ni="function",ai="create",vi="read",yi="update",pi="destroy",r="change",wi="sync",ti="get",nt="error",tt="requestStart",ii="progress",it="requestEnd",gr=[ai,vi,yi,pi],rt=function(n){return n},ht=i.getter,ct=i.stringify,f=Math,nu=[].push,tu=[].join,iu=[].pop,ru=[].splice,uu=[].shift,ut=[].slice,fu=[].unshift,lt={}.toString,eu=i.support.stableSort,ou=/^\/Date\((.*?)\)\/$/,su=/(\r+|\n+)/g,hu=/(?=['\\])/g,y=g.extend({init:function(n,t){var i=this;i.type=t||o;g.fn.init.call(i);i.length=n.length;i.wrapAll(n,i)},at:function(n){return this[n]},toJSON:function(){for(var i=this.length,t,r=new Array(i),n=0;n<i;n++)t=this[n],t instanceof o&&(t=t.toJSON()),r[n]=t;return r},parent:k,wrapAll:function(n,t){var r=this,i,u,f=function(){return r};for(t=t||[],i=0,u=n.length;i<u;i++)t[i]=r.wrap(n[i],f);return t},wrap:function(n,t){var i=this,u;return n!==null&&lt.call(n)==="[object Object]"&&(u=n instanceof i.type||n instanceof p,u||(n=n instanceof o?n.toJSON():n,n=new i.type(n)),n.parent=t,n.bind(r,function(n){i.trigger(r,{field:n.field,node:n.node,index:n.index,items:n.items||[this],action:n.node?n.action||"itemloaded":"itemchange"})})),n},push:function(){var i=this.length,n=this.wrapAll(arguments),t;return t=nu.apply(this,n),this.trigger(r,{action:"add",index:i,items:n}),t},slice:ut,sort:[].sort,join:tu,pop:function(){var n=this.length,t=iu.apply(this);return n&&this.trigger(r,{action:"remove",index:n-1,items:[t]}),t},splice:function(n,t,i){var e=this.wrapAll(ut.call(arguments,2)),u,f,o;if(u=ru.apply(this,[n,t].concat(e)),u.length)for(this.trigger(r,{action:"remove",index:n,items:u}),f=0,o=u.length;f<o;f++)u[f]&&u[f].children&&u[f].unbind(r);return i&&this.trigger(r,{action:"add",index:n,items:e}),u},shift:function(){var t=this.length,n=uu.apply(this);return t&&this.trigger(r,{action:"remove",index:0,items:[n]}),n},unshift:function(){var n=this.wrapAll(arguments),t;return t=fu.apply(this,n),this.trigger(r,{action:"add",index:0,items:n}),t},indexOf:function(n){for(var i=this,t=0,r=i.length;t<r;t++)if(i[t]===n)return t;return-1},forEach:function(n){for(var t=0,i=this.length;t<i;t++)n(this[t],t,this)},map:function(n){for(var t=0,i=[],r=this.length;t<r;t++)i[t]=n(this[t],t,this);return i},reduce:function(n){var t=0,i,r=this.length;for(arguments.length==2?i=arguments[1]:t<r&&(i=this[t++]);t<r;t++)i=n(i,this[t],t,this);return i},reduceRight:function(n){var t=this.length-1,i;for(arguments.length==2?i=arguments[1]:t>0&&(i=this[t--]);t>=0;t--)i=n(i,this[t],t,this);return i},filter:function(n){for(var t=0,i=[],r,u=this.length;t<u;t++)r=this[t],n(r,t,this)&&(i[i.length]=r);return i},find:function(n){for(var t=0,i,r=this.length;t<r;t++)if(i=this[t],n(i,t,this))return i},every:function(n){for(var t=0,i,r=this.length;t<r;t++)if(i=this[t],!n(i,t,this))return!1;return!0},some:function(n){for(var t=0,i,r=this.length;t<r;t++)if(i=this[t],n(i,t,this))return!0;return!1},remove:function(n){var t=this.indexOf(n);t!==-1&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}}),at=y.extend({init:function(n,t){g.fn.init.call(this);this.type=t||o;for(var i=0;i<n.length;i++)this[i]=n[i];this.length=i;this._parent=v(function(){return this},this)},at:function(n){var t=this[n];return t instanceof this.type?t.parent=this._parent:t=this[n]=this.wrap(t,this._parent),t}}),o=g.extend({init:function(n){var u=this,t,r,f=function(){return u};g.fn.init.call(this);for(r in n)t=n[r],typeof t=="object"&&t&&!t.getTime&&r.charAt(0)!="_"&&(t=u.wrap(t,r,f)),u[r]=t;u.uid=i.guid()},shouldSerialize:function(n){return this.hasOwnProperty(n)&&n!=="_events"&&typeof this[n]!==ni&&n!=="uid"},forEach:function(n){for(var t in this)this.shouldSerialize(t)&&n(this[t],t)},toJSON:function(){var i={},n,t;for(t in this)this.shouldSerialize(t)&&(n=this[t],(n instanceof o||n instanceof y)&&(n=n.toJSON()),i[t]=n);return i},get:function(n){var t=this;return t.trigger(ti,{field:n}),n==="this"?t:i.getter(n,!0)(t)},_set:function(n,t){var s=this,f=n.indexOf(".")>=0,r,u,e;if(f)for(r=n.split("."),u="";r.length>1;){if(u+=r.shift(),e=i.getter(u,!0)(s),e instanceof o)return e.set(r.join("."),t),f;u+="."}return i.setter(n)(s,t),f},set:function(n,t){var u=this,f=n.indexOf(".")>=0,e=i.getter(n,!0)(u);e!==t&&(u.trigger("set",{field:n,value:t})||(f||(t=u.wrap(t,n,function(){return u})),(!u._set(n,t)||n.indexOf("(")>=0||n.indexOf("[")>=0)&&u.trigger(r,{field:n})))},parent:k,wrap:function(n,t,i){var s=this,u=lt.call(n),f,e;return n!=null&&(u==="[object Object]"||u==="[object Array]")&&(f=n instanceof y,e=n instanceof c,u!=="[object Object]"||e||f?(u==="[object Array]"||f||e)&&(f||e||(n=new y(n)),n.parent()!=i()&&n.bind(r,ri(s,r,t,!1))):(n instanceof o||(n=new o(n)),n.parent()!=i()&&(n.bind(ti,ri(s,ti,t,!0)),n.bind(r,ri(s,r,t,!0)))),n.parent=i),n}}),ki={number:function(n){return i.parseFloat(n)},date:function(n){return i.parseDate(n)},boolean:function(n){return typeof n===s?n.toLowerCase()==="true":n!=null?!!n:n},string:function(n){return n!=null?n+"":n},"default":function(n){return n}},cu={string:"",number:0,date:new Date,boolean:!1,"default":""},p=o.extend({init:function(i){var r=this,u,f;if((!i||n.isEmptyObject(i))&&(i=n.extend({},r.defaults,i),r._initializers))for(u=0;u<r._initializers.length;u++)f=r._initializers[u],i[f]=r.defaults[f]();o.fn.init.call(r,i);r.dirty=!1;r.idField&&(r.id=r.get(r.idField),r.id===t&&(r.id=r._defaultId))},shouldSerialize:function(n){return o.fn.shouldSerialize.call(this,n)&&n!=="uid"&&!(this.idField!=="id"&&n==="id")&&n!=="dirty"&&n!=="_accessors"},_parse:function(n,t){var u=this,f=n,r=u.fields||{},i;return n=r[n],n||(n=lu(r,f)),n&&(i=n.parse,!i&&n.type&&(i=ki[n.type.toLowerCase()])),i?i(t):t},_notifyChange:function(n){var t=n.action;(t=="add"||t=="remove")&&(this.dirty=!0)},editable:function(n){return n=(this.fields||{})[n],n?n.editable!==!1:!0},set:function(n,t,i){var r=this;r.editable(n)&&(t=r._parse(n,t),bi(t,r.get(n))||(r.dirty=!0,o.fn.set.call(r,n,t,i)))},accept:function(n){var t=this,u=function(){return t},i,r;for(i in n)r=n[i],i.charAt(0)!="_"&&(r=t.wrap(n[i],i,u)),t._set(i,r);t.idField&&(t.id=t.get(t.idField));t.dirty=!1},isNew:function(){return this.id===this._defaultId}}),vt,di,ui,gi,tr,ei,c,hi,ci,d,li,kr;p.define=function(n,i){i===t&&(i=n,n=p);var o,r=e({defaults:{}},i),f,u,v,h,l,b,y={},c,a=r.id,w=[];if(a&&(r.idField=a),r.id&&delete r.id,a&&(r.defaults[a]=r._defaultId=""),lt.call(r.fields)==="[object Array]"){for(l=0,b=r.fields.length;l<b;l++)u=r.fields[l],typeof u===s?y[u]={}:u.field&&(y[u.field]=u);r.fields=y}for(f in r.fields)u=r.fields[f],v=u.type||"default",h=null,c=f,f=typeof u.field===s?u.field:f,u.nullable||(h=r.defaults[c!==f?c:f]=u.defaultValue!==t?u.defaultValue:cu[v.toLowerCase()],typeof h=="function"&&w.push(f)),i.id===f&&(r._defaultId=h),r.defaults[c!==f?c:f]=h,u.parse=u.parse||ki[v];return w.length>0&&(r._initializers=w),o=n.extend(r),o.define=function(n){return p.define(o,n)},r.fields&&(o.fields=r.fields,o.idField=r.idField),o};vt={selector:function(n){return l(n)?n:ht(n)},compare:function(n){var t=this.selector(n);return function(n,i){return(n=t(n),i=t(i),n==null&&i==null)?0:n==null?-1:i==null?1:n.localeCompare?n.localeCompare(i):n>i?1:n<i?-1:0}},create:function(n){var t=n.compare||this.compare(n.field);return n.dir=="desc"?function(n,i){return t(i,n,!0)}:t},combine:function(n){return function(t,i){for(var u=n[0](t,i),r=1,f=n.length;r<f;r++)u=u||n[r](t,i);return u}}};di=e({},vt,{asc:function(n){var t=this.selector(n);return function(n,i){var r=t(n),u=t(i);return(r&&r.getTime&&u&&u.getTime&&(r=r.getTime(),u=u.getTime()),r===u)?n.__position-i.__position:r==null?-1:u==null?1:r.localeCompare?r.localeCompare(u):r>u?1:-1}},desc:function(n){var t=this.selector(n);return function(n,i){var u=t(n),r=t(i);return(u&&u.getTime&&r&&r.getTime&&(u=u.getTime(),r=r.getTime()),u===r)?n.__position-i.__position:u==null?1:r==null?-1:r.localeCompare?r.localeCompare(u):u<r?1:-1}},create:function(n){return this[n.dir](n.field)}});dt=function(n,t){for(var r=n.length,u=new Array(r),i=0;i<r;i++)u[i]=t(n[i],i,n);return u};ui=function(){function n(n){return n.replace(hu,"\\").replace(su,"")}function t(t,i,r,u){var f;return r!=null&&(typeof r===s&&(r=n(r),f=ou.exec(r),f?r=new Date(+f[1]):u?(r="'"+r.toLowerCase()+"'",i="("+i+" || '').toLowerCase()"):r="'"+r+"'"),r.getTime&&(i="("+i+"?"+i+".getTime():"+i+")",r=r.getTime())),i+" "+t+" "+r}return{quote:function(t){return t&&t.getTime?"new Date("+t.getTime()+")":typeof t=="string"?"'"+n(t)+"'":""+t},eq:function(n,i,r){return t("==",n,i,r)},neq:function(n,i,r){return t("!=",n,i,r)},gt:function(n,i,r){return t(">",n,i,r)},gte:function(n,i,r){return t(">=",n,i,r)},lt:function(n,i,r){return t("<",n,i,r)},lte:function(n,i,r){return t("<=",n,i,r)},startswith:function(t,i,r){return r&&(t="("+t+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=n(i)),t+".lastIndexOf('"+i+"', 0) == 0"},endswith:function(t,i,r){return r&&(t="("+t+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=n(i)),t+".indexOf('"+i+"', "+t+".length - "+(i||"").length+") >= 0"},contains:function(t,i,r){return r&&(t="("+t+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=n(i)),t+".indexOf('"+i+"') >= 0"},doesnotcontain:function(t,i,r){return r&&(t="("+t+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=n(i)),t+".indexOf('"+i+"') == -1"}}}();u.filterExpr=function(n){for(var l=[],r,f,e=[],o=[],h,c,v=n.filters,s=0,a=v.length;s<a;s++)r=v[s],h=r.field,c=r.operator,r.filters?(f=u.filterExpr(r),r=f.expression.replace(/__o\[(\d+)\]/g,function(n,t){return t=+t,"__o["+(o.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(n,t){return t=+t,"__f["+(e.length+t)+"]"}),o.push.apply(o,f.operators),e.push.apply(e,f.fields)):(typeof h===ni?(f="__f["+e.length+"](d)",e.push(h)):f=i.expr(h),typeof c===ni?(r="__o["+o.length+"]("+f+", "+ui.quote(r.value)+")",o.push(c)):r=ui[(c||"eq").toLowerCase()](f,r.value,r.ignoreCase!==t?r.ignoreCase:!0)),l.push(r);return{expression:"("+l.join({and:" && ",or:" || "}[n.logic])+")",fields:e,operators:o}};gi={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};u.normalizeFilter=yt;u.prototype={toArray:function(){return this.data},range:function(n,t){return new u(this.data.slice(n,n+t))},skip:function(n){return new u(this.data.slice(n))},take:function(n){return new u(this.data.slice(0,n))},select:function(n){return new u(dt(this.data,n))},order:function(n,t){var i={dir:t};return n&&(n.compare?i.compare=n.compare:i.field=n),new u(this.data.slice(0).sort(vt.create(i)))},orderBy:function(n){return this.order(n,"asc")},orderByDescending:function(n){return this.order(n,"desc")},sort:function(n,t,i){var r,f,u=ft(n,t),e=[];if(i=i||vt,u.length){for(r=0,f=u.length;r<f;r++)e.push(i.create(u[r]));return this.orderBy({compare:i.combine(e)})}return this},filter:function(n){var t,r,s,i,h,c=this.data,f,e,l=[],o;if(n=yt(n),!n||n.filters.length===0)return this;for(i=u.filterExpr(n),f=i.fields,e=i.operators,h=o=new Function("d, __f, __o","return "+i.expression),(f.length||e.length)&&(o=function(n){return h(n,f,e)}),t=0,s=c.length;t<s;t++)r=c[t],o(r)&&l.push(r);return new u(l)},group:function(n,t){n=et(n||[]);t=t||this.data;var f=this,i=new u(f.data),r;return n.length>0&&(r=n[0],i=i.groupBy(r).select(function(i){var f=new u(t).filter([{field:i.field,operator:"eq",value:i.value,ignoreCase:!1}]);return{field:i.field,value:i.value,items:n.length>1?new u(i.items).group(n.slice(1),f.toArray()).toArray():i.items,hasSubgroups:n.length>1,aggregates:f.aggregate(r.aggregates)}})),i},groupBy:function(n){if(b(n)||!this.data.length)return new u([]);for(var t=n.field,o=this._sortForGrouping(t,n.dir||"asc"),c=i.accessor(t),s,r=c.get(o[0],t),f={field:t,value:r,items:[]},h,a=[f],e=0,l=o.length;e<l;e++)s=o[e],h=c.get(s,t),vu(r,h)||(r=h,f={field:t,value:r,items:[]},a.push(f)),f.items.push(s);return new u(a)},_sortForGrouping:function(n,t){var i,f,r=this.data;if(!eu){for(i=0,f=r.length;i<f;i++)r[i].__position=i;for(r=new u(r).sort(n,t,di).toArray(),i=0,f=r.length;i<f;i++)delete r[i].__position;return r}return this.sort(n,t).toArray()},aggregate:function(n){var t,i,r={},u={};if(n&&n.length)for(t=0,i=this.data.length;t<i;t++)yu(r,n,this.data[t],t,i,u);return r}};tr={sum:function(n,t,i){var r=i.get(t);return a(n)?a(r)&&(n+=r):n=r,n},count:function(n){return(n||0)+1},average:function(n,i,r,u,f,e){var o=r.get(i);return e.count===t&&(e.count=0),a(n)?a(o)&&(n+=o):n=o,a(o)&&e.count++,u==f-1&&a(n)&&(n=n/e.count),n},max:function(n,t,i){var r=i.get(t);return a(n)||pt(n)||(n=r),n<r&&(a(r)||pt(r))&&(n=r),n},min:function(n,t,i){var r=i.get(t);return a(n)||pt(n)||(n=r),n>r&&(a(r)||pt(r))&&(n=r),n}};u.process=function(n,i){i=i||{};var r=new u(n),f=i.group,e=et(f||[]).concat(ft(i.sort||[])),o,s=i.filterCallback,h=i.filter,c=i.skip,l=i.take;return h&&(r=r.filter(h),s&&(r=s(r)),o=r.toArray().length),e&&(r=r.sort(e),f&&(n=r.toArray())),c!==t&&l!==t&&(r=r.range(c,l)),f&&(r=r.group(f,n)),{total:o,data:r.toArray()}};var ir=st.extend({init:function(n){this.data=n.data},read:function(n){n.success(this.data)},update:function(n){n.success(n.data)},create:function(n){n.success(n.data)},destroy:function(n){n.success(n.data)}}),rr=st.extend({init:function(n){var t=this,i;n=t.options=e({},t.options,n);gt(gr,function(t,i){typeof n[i]===s&&(n[i]={url:n[i]})});t.cache=n.cache?ot.create(n.cache):{find:k,add:k};i=n.parameterMap;l(n.push)&&(t.push=n.push);t.push||(t.push=rt);t.parameterMap=l(i)?i:function(n){var t={};return gt(n,function(n,r){n in i&&(n=i[n],w(n)&&(r=n.value(r),n=n.key));t[n]=r}),t}},options:{parameterMap:rt},create:function(n){return kt(this.setup(n,ai))},read:function(i){var f=this,r,o,u,e=f.cache;i=f.setup(i,vi);r=i.success||k;o=i.error||k;u=e.find(i.data);u!==t?r(u):(i.success=function(n){e.add(i.data,n);r(n)},n.ajax(i))},update:function(n){return kt(this.setup(n,yi))},destroy:function(n){return kt(this.setup(n,pi))},setup:function(n,t){n=n||{};var u=this,r,i=u.options[t],f=l(i.data)?i.data(n.data):i.data;return n=e(!0,{},i,n),r=e(!0,{},f,n.data),n.data=u.parameterMap(r,t),l(n.url)&&(n.url=n.url(r)),n}}),ot=st.extend({init:function(){this._store={}},add:function(n,i){n!==t&&(this._store[ct(n)]=i)},find:function(n){return this._store[ct(n)]},clear:function(){this._store={}},remove:function(n){delete this._store[ct(n)]}});ot.create=function(n){var t={inmemory:function(){return new ot}};return w(n)&&l(n.find)?n:n===!0?new ot:t[n]()};ei=st.extend({init:function(n){var t=this,h,u,i,a,f;n=n||{};for(h in n)u=n[h],t[h]=typeof u===s?ht(u):u;if(a=n.modelBase||p,w(t.model)&&(t.model=i=a.define(t.model)),f=v(t.data,t),t._dataAccessFunction=f,t.model){var b=v(t.groups,t),k=v(t.serialize,t),e={},c={},y={},o={},l=!1,r;i=t.model;i.fields&&(gt(i.fields,function(n,t){var i;r=n;w(t)&&t.field?r=t.field:typeof t===s&&(r=t);w(t)&&t.from&&(i=t.from);l=l||i&&i!==n||r!==n;c[n]=ht(i||r);y[n]=ht(n);e[i||r]=n;o[n]=i||r}),!n.serialize&&l&&(t.serialize=fi(k,i,pu,y,e,o)));t._dataAccessFunction=f;t.data=fi(f,i,ur,c,e,o);t.groups=fi(b,i,fr,c,e,o)}},errors:function(n){return n?n.errors:null},parse:rt,data:rt,total:function(n){return n.length},groups:rt,aggregates:function(){return{}},serialize:function(n){return n}});c=g.extend({init:function(n){var u=this,s,o,f;n&&(o=n.data);n=u.options=e({},u.options,n);u._map={};u._prefetch={};u._data=[];u._pristineData=[];u._ranges=[];u._view=[];u._pristineTotal=0;u._destroyed=[];u._pageSize=n.pageSize;u._page=n.page||(n.pageSize?1:t);u._sort=ft(n.sort);u._filter=yt(n.filter);u._group=et(n.group);u._aggregate=n.aggregate;u._total=n.total;u._shouldDetachObservableParents=!0;g.fn.init.call(u);u.transport=hi.create(n,o,u);l(u.transport.push)&&u.transport.push({pushCreate:v(u._pushCreate,u),pushUpdate:v(u._pushUpdate,u),pushDestroy:v(u._pushDestroy,u)});n.offlineStorage!=null&&(typeof n.offlineStorage=="string"?(f=n.offlineStorage,u._storage={getItem:function(){return JSON.parse(localStorage.getItem(f))},setItem:function(n){localStorage.setItem(f,ct(u.reader.serialize(n)))}}):u._storage=n.offlineStorage);u.reader=new i.data.readers[n.schema.type||"json"](n.schema);s=u.reader.model||{};u._detachObservableParents();u._data=u._observe(u._data);u._online=!0;u.bind(["push",nt,r,tt,wi,it,ii],n)},options:{data:null,schema:{modelBase:p},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},clone:function(){return this},online:function(i){return i!==t?this._online!=i&&(this._online=i,i)?this.sync():n.Deferred().resolve().promise():this._online},offlineData:function(n){return this.options.offlineStorage==null?null:n!==t?this._storage.setItem(n):this._storage.getItem()||[]},_isServerGrouped:function(){var n=this.group()||[];return this.options.serverGrouping&&n.length},_pushCreate:function(n){this._push(n,"pushCreate")},_pushUpdate:function(n){this._push(n,"pushUpdate")},_pushDestroy:function(n){this._push(n,"pushDestroy")},_push:function(n,t){var i=this._readData(n);i||(i=n);this[t](i)},_flatData:function(n,t){if(n){if(this._isServerGrouped())return si(n);if(!t)for(var i=0;i<n.length;i++)n.at(i)}return n},parent:k,get:function(n){for(var i=this._flatData(this._data),t=0,r=i.length;t<r;t++)if(i[t].id==n)return i[t]},getByUid:function(n){var t,r,i=this._flatData(this._data);if(i)for(t=0,r=i.length;t<r;t++)if(i[t].uid==n)return i[t]},indexOf:function(n){return ar(this._data,n)},at:function(n){return this._data.at(n)},data:function(n){var i=this,r;if(n!==t)i._detachObservableParents(),i._data=this._observe(n),i._pristineData=n.slice(0),i._storeData(),i._ranges=[],i.trigger("reset"),i._addRange(i._data),i._total=i._data.length,i._pristineTotal=i._total,i._process(i._data);else{if(i._data)for(r=0;r<i._data.length;r++)i._data.at(r);return i._data}},view:function(n){if(n===t)return this._view;this._view=this._observeView(n)},_observeView:function(n){var t=this,i;return hr(n,t._data,t._ranges,t.reader.model||o,t._isServerGrouped()),i=new at(n,t.reader.model),i.parent=function(){return t.parent()},i},flatView:function(){var n=this.group()||[];return n.length?si(this._view):this._view},add:function(n){return this.insert(this._data.length,n)},_createNewModel:function(n){return this.reader.model?new this.reader.model(n):n instanceof o?n:new o(n)},insert:function(n,t){return t||(t=n,n=0),t instanceof p||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(n,0,this._wrapInEmptyGroup(t)):this._data.splice(n,0,t),t},pushCreate:function(n){var t,f,i,e,u,r;h(n)||(n=[n]);t=[];f=this.options.autoSync;this.options.autoSync=!1;try{for(i=0;i<n.length;i++)e=n[i],u=this.add(e),t.push(u),r=u.toJSON(),this._isServerGrouped()&&(r=this._wrapInEmptyGroup(r)),this._pristineData.push(r)}finally{this.options.autoSync=f}t.length&&this.trigger("push",{type:"create",items:t})},pushUpdate:function(n){var i,u;for(h(n)||(n=[n]),i=[],u=0;u<n.length;u++){var f=n[u],e=this._createNewModel(f),t=this.get(e.id);t?(i.push(t),t.accept(f),t.trigger(r),this._updatePristineForModel(t,f)):this.pushCreate(f)}i.length&&this.trigger("push",{type:"update",items:i})},pushDestroy:function(n){var t=this._removeItems(n);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(n){var i,r,t;h(n)||(n=[n]);i=[];r=this.options.autoSync;this.options.autoSync=!1;try{for(t=0;t<n.length;t++){var e=n[t],u=this._createNewModel(e),f=!1;this._eachItem(this._data,function(n){for(var r,t=0;t<n.length;t++)if(r=n.at(t),r.id===u.id){i.push(r);n.splice(t,1);f=!0;break}});f&&(this._removePristineForModel(u),this._destroyed.pop())}}finally{this.options.autoSync=r}return i},remove:function(n){var t,i=this,r=i._isServerGrouped();return this._eachItem(i._data,function(u){return t=cr(u,n),t&&r?(t.isNew&&t.isNew()||i._destroyed.push(t),!0):void 0}),this._removeModelFromRanges(n),this._updateRangesLength(),n},destroyed:function(){return this._destroyed},created:function(){for(var r=[],t=this._flatData(this._data),n=0,i=t.length;n<i;n++)t[n].isNew&&t[n].isNew()&&r.push(t[n]);return r},updated:function(){for(var r=[],t=this._flatData(this._data),n=0,i=t.length;n<i;n++)t[n].isNew&&!t[n].isNew()&&t[n].dirty&&r.push(t[n]);return r},sync:function(){var t=this,r=[],u=[],e=t._destroyed,o=t._flatData(t._data),f=n.Deferred().resolve().promise(),i;if(t.online()){if(!t.reader.model)return f;r=t.created();u=t.updated();i=[];t.options.batch&&t.transport.submit?i=t._sendSubmit(r,u,e):(i.push.apply(i,t._send("create",r)),i.push.apply(i,t._send("update",u)),i.push.apply(i,t._send("destroy",e)));f=n.when.apply(null,i).then(function(){for(var n=0,i=arguments.length;n<i;n++)t._accept(arguments[n]);t._storeData(!0);t._change({action:"sync"});t.trigger(wi)})}else t._storeData(!0),t._change({action:"sync"});return f},cancelChanges:function(n){var t=this;n instanceof i.data.Model?t._cancelModel(n):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data),t._change())},hasChanges:function(){var n,i,t=this._flatData(this._data);if(this._destroyed.length)return!0;for(n=0,i=t.length;n<i;n++)if(t[n].isNew&&t[n].isNew()||t[n].dirty)return!0;return!1},_accept:function(t){var r=this,f=t.models,i=t.response,u=0,s=r._isServerGrouped(),c=r._pristineData,e=t.type,o;if(r.trigger(it,{response:i,type:e}),i&&!b(i)){if(i=r.reader.parse(i),r._handleCustomErrors(i))return;i=r.reader.data(i);h(i)||(i=[i])}else i=n.map(f,function(n){return n.toJSON()});for(e==="destroy"&&(r._destroyed=[]),u=0,o=f.length;u<o;u++)e!=="destroy"?(f[u].accept(i[u]),e==="create"?c.push(s?r._wrapInEmptyGroup(f[u]):i[u]):e==="update"&&r._updatePristineForModel(f[u],i[u])):r._removePristineForModel(f[u])},_updatePristineForModel:function(n,t){this._executeOnPristineForModel(n,function(n,r){i.deepExtend(r[n],t)})},_executeOnPristineForModel:function(n,t){this._eachPristineItem(function(i){var r=lr(i,n);if(r>-1)return t(r,i),!0})},_removePristineForModel:function(n){this._executeOnPristineForModel(n,function(n,t){t.splice(n,1)})},_readData:function(n){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t.call(this.reader,n)},_eachPristineItem:function(n){this._eachItem(this._pristineData,n)},_eachItem:function(n,t){n&&n.length&&(this._isServerGrouped()?or(n,t):t(n))},_pristineForModel:function(n){var i,t,r=function(r){return t=lr(r,n),t>-1?(i=r[t],!0):void 0};return this._eachPristineItem(r),i},_cancelModel:function(n){var t=this._pristineForModel(n);this._eachItem(this._data,function(i){var r=ar(i,n);r>=0&&(t&&(!n.isNew()||t.__state__)?i[r].accept(t):i.splice(r,1))})},_submit:function(t,i){var r=this;r.trigger(tt,{type:"submit"});r.transport.submit(e({success:function(i,r){var u=n.grep(t,function(n){return n.type==r})[0];u&&u.resolve({response:i,models:u.models,type:r})},error:function(n,i,u){for(var f=0;f<t.length;f++)t[f].reject(n);r.error(n,i,u)}},i))},_sendSubmit:function(t,i,r){var u=this,f=[];return u.options.batch&&(t.length&&f.push(n.Deferred(function(n){n.type="create";n.models=t})),i.length&&f.push(n.Deferred(function(n){n.type="update";n.models=i})),r.length&&f.push(n.Deferred(function(n){n.type="destroy";n.models=r})),u._submit(f,{data:{created:u.reader.serialize(wt(t)),updated:u.reader.serialize(wt(i)),destroyed:u.reader.serialize(wt(r))}})),f},_promise:function(t,i,r){var u=this;return n.Deferred(function(n){u.trigger(tt,{type:r});u.transport[r].call(u.transport,e({success:function(t){n.resolve({response:t,models:i,type:r})},error:function(t,i,r){n.reject(t);u.error(t,i,r)}},t))}).promise()},_send:function(n,t){var r=this,i,f,u=[],e=r.reader.serialize(wt(t));if(r.options.batch)t.length&&u.push(r._promise({data:{models:e}},t,n));else for(i=0,f=t.length;i<f;i++)u.push(r._promise({data:e[i]},[t[i]],n));return u},read:function(t){var i=this,u=i._params(t),r=n.Deferred();return i._queueRequest(u,function(){var n=i.trigger(tt,{type:"read"});n?(i._dequeueRequest(),r.resolve(n)):(i.trigger(ii),i._ranges=[],i.trigger("reset"),i.online()?i.transport.read({data:u,success:function(n){i.success(n,u);r.resolve()},error:function(){var n=ut.call(arguments);i.error.apply(i,n);r.reject.apply(r,n)}}):i.options.offlineStorage!=null&&(i.success(i.offlineData(),u),r.resolve()))}),r.promise()},_readAggregates:function(n){return this.reader.aggregates(n)},success:function(n){var t=this,c=t.options,u,r,h;if(t.trigger(it,{response:n,type:"read"}),t.online()){if(n=t.reader.parse(n),t._handleCustomErrors(n)){t._dequeueRequest();return}t._total=t.reader.total(n);t._aggregate&&c.serverAggregates&&(t._aggregateResult=t._readAggregates(n));n=t._readData(n)}else{n=t._readData(n);for(var f=[],e={},o=t.reader.model,s=o?o.idField:"id",i=0;i<this._destroyed.length;i++)u=this._destroyed[i][s],e[u]=u;for(i=0;i<n.length;i++)r=n[i],h=r.__state__,h=="destroy"?e[r[s]]||this._destroyed.push(this._createNewModel(r)):f.push(r);n=f;t._total=n.length}t._pristineTotal=t._total;t._pristineData=n.slice(0);t._detachObservableParents();t._data=t._observe(n);t.options.offlineStorage!=null&&t._eachItem(t._data,function(n){for(var i,t=0;t<n.length;t++)i=n.at(t),i.__state__=="update"&&(i.dirty=!0)});t._storeData();t._addRange(t._data);t._process(t._data);t._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var n=0;n<this._data.length;n++)this._data[n].parent&&(this._data[n].parent=k)},_storeData:function(n){function u(n){for(var o=[],t,i,r=0;r<n.length;r++)t=n.at(r),i=t.toJSON(),f&&t.items?i.items=u(t.items):(i.uid=t.uid,e&&(t.isNew()?i.__state__="create":t.dirty&&(i.__state__="update"))),o.push(i);return o}var f=this._isServerGrouped(),e=this.reader.model,t,i,r;if(this.options.offlineStorage!=null){for(t=u(this._data),i=0;i<this._destroyed.length;i++)r=this._destroyed[i].toJSON(),r.__state__="destroy",t.push(r);this.offlineData(t);n&&(this._pristineData=t)}},_addRange:function(n){var t=this,i=t._skip||0,r=i+t._flatData(n,!0).length;t._ranges.push({start:i,end:r,data:n,timestamp:(new Date).getTime()});t._ranges.sort(function(n,t){return n.start-t.start})},error:function(n,t,i){this._dequeueRequest();this.trigger(it,{});this.trigger(nt,{xhr:n,status:t,errorThrown:i})},_params:function(n){var t=this,i=e({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},n);return t.options.serverPaging||(delete i.take,delete i.skip,delete i.page,delete i.pageSize),t.options.serverGrouping?t.reader.model&&i.group&&(i.group=bt(i.group,t.reader.model)):delete i.group,t.options.serverFiltering?t.reader.model&&i.filter&&(i.filter=pr(i.filter,t.reader.model)):delete i.filter,t.options.serverSorting?t.reader.model&&i.sort&&(i.sort=bt(i.sort,t.reader.model)):delete i.sort,t.options.serverAggregates?t.reader.model&&i.aggregate&&(i.aggregate=bt(i.aggregate,t.reader.model)):delete i.aggregate,i},_queueRequest:function(n,i){var r=this;r._requestInProgress?r._pending={callback:v(i,r),options:n}:(r._requestInProgress=!0,r._pending=t,i())},_dequeueRequest:function(){var n=this;n._requestInProgress=!1;n._pending&&n._queueRequest(n._pending.options,n._pending.callback)},_handleCustomErrors:function(n){if(this.reader.errors){var t=this.reader.errors(n);if(t)return this.trigger(nt,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_shouldWrap:function(n){var t=this.reader.model;return t&&n.length?!(n[0]instanceof t):!1},_observe:function(n){var t=this,u=t.reader.model,i;return t._shouldDetachObservableParents=!0,n instanceof y?(t._shouldDetachObservableParents=!1,t._shouldWrap(n)&&(n.type=t.reader.model,n.wrapAll(n,n))):(i=t.pageSize()&&!t.options.serverPaging?at:y,n=new i(n,t.reader.model),n.parent=function(){return t.parent()}),t._isServerGrouped()&&er(n,u),t._changeHandler&&t._data&&t._data instanceof y?t._data.unbind(r,t._changeHandler):t._changeHandler=v(t._change,t),n.bind(r,t._changeHandler)},_change:function(n){var t=this,u,f,i=n?n.action:"",r;if(i==="remove")for(u=0,f=n.items.length;u<f;u++)n.items[u].isNew&&n.items[u].isNew()||t._destroyed.push(n.items[u]);t.options.autoSync&&(i==="add"||i==="remove"||i==="itemchange")?t.sync():(r=parseInt(t._total,10),a(t._total)||(r=parseInt(t._pristineTotal,10)),i==="add"?r+=n.items.length:i==="remove"?r-=n.items.length:i==="itemchange"||i==="sync"||t.options.serverPaging?i==="sync"&&(r=t._pristineTotal=parseInt(t._total,10)):r=t._pristineTotal,t._total=r,t._process(t._data,n))},_calculateAggregates:function(n,t){t=t||{};var i=new u(n),f=t.aggregate,r=t.filter;return r&&(i=i.filter(r)),i.aggregate(f)},_process:function(n,i){var u=this,f={},e;u.options.serverPaging!==!0&&(f.skip=u._skip,f.take=u._take||u._pageSize,f.skip===t&&u._page!==t&&u._pageSize!==t&&(f.skip=(u._page-1)*u._pageSize));u.options.serverSorting!==!0&&(f.sort=u._sort);u.options.serverFiltering!==!0&&(f.filter=u._filter);u.options.serverGrouping!==!0&&(f.group=u._group);u.options.serverAggregates!==!0&&(f.aggregate=u._aggregate,u._aggregateResult=u._calculateAggregates(n,f));e=u._queryProcess(n,f);u.view(e.data);e.total===t||u.options.serverFiltering||(u._total=e.total);i=i||{};i.items=i.items||u._view;u.trigger(r,i)},_queryProcess:function(n,t){return u.process(n,t)},_mergeState:function(n){var i=this;return n!==t&&(i._pageSize=n.pageSize,i._page=n.page,i._sort=n.sort,i._filter=n.filter,i._group=n.group,i._aggregate=n.aggregate,i._skip=n.skip,i._take=n.take,i._skip===t&&(i._skip=i.skip(),n.skip=i.skip()),i._take===t&&i._pageSize!==t&&(i._take=i._pageSize,n.take=i._take),n.sort&&(i._sort=n.sort=ft(n.sort)),n.filter&&(i._filter=n.filter=yt(n.filter)),n.group&&(i._group=n.group=et(n.group)),n.aggregate&&(i._aggregate=n.aggregate=au(n.aggregate))),n},query:function(i){var u,e=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates,f;return e||(this._data===t||this._data.length===0)&&!this._destroyed.length?this.read(this._mergeState(i)):(f=this.trigger(tt,{type:"read"}),f||(this.trigger(ii),u=this._queryProcess(this._data,this._mergeState(i)),this.options.serverFiltering||(this._total=u.total!==t?u.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,i),this.view(u.data),this.trigger(it,{type:"read"}),this.trigger(r,{items:u.data})),n.Deferred().resolve(f).promise())},fetch:function(n){var t=this,i=function(i){i!==!0&&l(n)&&n.call(t)};return this._query().then(i)},_query:function(n){var t=this;return t.query(e({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},n))},next:function(n){var t=this,i=t.page(),r=t.total();if(n=n||{},i&&(!r||!(i+1>t.totalPages())))return t._skip=i*t.take(),i+=1,n.page=i,t._query(n),i},prev:function(n){var t=this,i=t.page();if(n=n||{},i&&i!==1)return t._skip=t._skip-t.take(),i-=1,n.page=i,t._query(n),i},page:function(n){var i=this,r;if(n!==t){n=f.max(f.min(f.max(n,1),i.totalPages()),1);i._query({page:n});return}return r=i.skip(),r!==t?f.round((r||0)/(i.take()||1))+1:t},pageSize:function(n){var i=this;if(n!==t){i._query({pageSize:n,page:1});return}return i.take()},sort:function(n){var i=this;if(n!==t){i._query({sort:n});return}return i._sort},filter:function(n){var i=this;if(n===t)return i._filter;i.trigger("reset");i._query({filter:n,page:1})},group:function(n){var i=this;if(n!==t){i._query({group:n});return}return i._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(n){var i=this;if(n!==t){i._query({aggregate:n});return}return i._aggregate},aggregates:function(){var n=this._aggregateResult;return b(n)&&(n=this._emptyAggregates(this.aggregate())),n},_emptyAggregates:function(n){var r={},i,t;if(!b(n))for(i={},h(n)||(n=[n]),t=0;t<n.length;t++)i[n[t].aggregate]=0,r[n[t].field]=i;return r},_wrapInEmptyGroup:function(n){for(var u=this.group(),t,i,r=u.length-1,f=0;r>=f;r--)i=u[r],t={value:n.get(i.field),field:i.field,items:t?[t]:[n],hasSubgroups:!!t,aggregates:this._emptyAggregates(i.aggregates)};return t},totalPages:function(){var n=this,t=n.pageSize()||n.total();return f.ceil((n.total()||0)/t)},inRange:function(n,t){var i=this,r=f.min(n+t,i.total());return!i.options.serverPaging&&i._data.length>0?!0:i._findRange(n,r).length>0},lastRange:function(){var n=this._ranges;return n[n.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var n=this._ranges;return n.length&&n[0].data.length&&n[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(n,i){this._currentRequestTimeStamp=this._timeStamp();this._skipRequestsInProgress=!0;n=f.min(n||0,this.total());var r=this,e=f.max(f.floor(n/i),0)*i,u=f.min(e+i,r.total()),o;if(o=r._findRange(n,f.min(n+i,r.total())),o.length){r._pending=t;r._skip=n>r.skip()?f.min(u,(r.totalPages()-1)*r.take()):e;r._take=i;var s=r.options.serverPaging,h=r.options.serverSorting,c=r.options.serverFiltering,l=r.options.serverAggregates;try{r.options.serverPaging=!0;r._isServerGrouped()||r.group()&&r.group().length||(r.options.serverSorting=!0);r.options.serverFiltering=!0;r.options.serverPaging=!0;r.options.serverAggregates=!0;s&&(r._detachObservableParents(),r._data=o=r._observe(o));r._process(o)}finally{r.options.serverPaging=s;r.options.serverSorting=h;r.options.serverFiltering=c;r.options.serverAggregates=l}return}i!==t&&(r._rangeExists(e,u)?e<n&&r.prefetch(u,i,function(){r.range(n,i)}):r.prefetch(e,i,function(){n>e&&u<r.total()&&!r._rangeExists(u,f.min(u+i,r.total()))?r.prefetch(u,i,function(){r.range(n,i)}):r.range(n,i)}))},_findRange:function(n,i){for(var u=this,y=u._ranges,r,p=[],h,c,o,w,l,a,s=u.options,d=s.serverSorting||s.serverPaging||s.serverFiltering||s.serverGrouping||s.serverAggregates,v,f,k,e=0,b=y.length;e<b;e++)if(r=y[e],n>=r.start&&n<=r.end){for(f=0,h=e;h<b;h++)if(r=y[h],v=u._flatData(r.data,!0),v.length&&n+f>=r.start&&(w=r.data,l=r.end,d||(k=et(u.group()||[]).concat(ft(u.sort()||[])),a=u._queryProcess(r.data,{sort:k,filter:u.filter()}),v=w=a.data,a.total!==t&&(l=a.total)),c=0,n+f>r.start&&(c=n+f-r.start),o=v.length,l>i&&(o=o-(l-i)),f+=o-c,p=u._mergeGroups(p,w,c,o),i<=r.end&&f==i-n))return p;break}return[]},_mergeGroups:function(n,t,i,r){if(this._isServerGrouped()){var u=t.toJSON(),f;return n.length&&(f=n[n.length-1]),oi(f,u,i,r),n.concat(u)}return n.concat(t.slice(i,r))},skip:function(){var n=this;return n._skip===t?n._page!==t?(n._page-1)*(n.take()||1):t:n._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(n,t,i,u){var f=this,e=f._timeStamp();return function(o){var l=!1,s={start:n,end:t,data:[],timestamp:f._timeStamp()},h,a,c;if(f._dequeueRequest(),f.trigger(it,{response:o,type:"read"}),o=f.reader.parse(o),c=f._readData(o),c.length){for(h=0,a=f._ranges.length;h<a;h++)if(f._ranges[h].start===n){l=!0;s=f._ranges[h];break}l||f._ranges.push(s)}s.data=f._observe(c);s.end=s.start+f._flatData(s.data,!0).length;f._ranges.sort(function(n,t){return n.start-t.start});f._total=f.reader.total(o);(u||e>=f._currentRequestTimeStamp||!f._skipRequestsInProgress)&&(i&&c.length?i():f.trigger(r,{}))}},prefetch:function(n,t,i){var r=this,u=f.min(n+t,r.total()),e={take:t,skip:n,page:n/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(n,u)?i&&i():(clearTimeout(r._timeout),r._timeout=setTimeout(function(){r._queueRequest(e,function(){r.trigger(tt,{type:"read"})?r._dequeueRequest():r.transport.read({data:r._params(e),success:r._prefetchSuccessHandler(n,u,i),error:function(){var n=ut.call(arguments);r.error.apply(r,n)}})})},100))},_multiplePrefetch:function(n,t,i){var r=this,u=f.min(n+t,r.total()),e={take:t,skip:n,page:n/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(n,u)?i&&i():r.trigger(tt,{type:"read"})||r.transport.read({data:r._params(e),success:r._prefetchSuccessHandler(n,u,i,!0)})},_rangeExists:function(n,t){for(var f=this,r=f._ranges,i=0,u=r.length;i<u;i++)if(r[i].start<=n&&r[i].end>=t)return!0;return!1},_removeModelFromRanges:function(n){for(var i,r,u,t=0,f=this._ranges.length;t<f;t++)if(u=this._ranges[t],this._eachItem(u.data,function(t){i=cr(t,n);i&&(r=!0)}),r)break},_updateRangesLength:function(){for(var r=0,n,i,t=0,u=this._ranges.length;t<u;t++)n=this._ranges[t],n.start=n.start-r,i=this._flatData(n.data,!0).length,r=n.end-i,n.end=n.start+i}});hi={};hi.create=function(t,r,u){var o,f=t.transport?n.extend({},t.transport):null;return f?(f.read=typeof f.read===s?{url:f.read}:f.read,t.type==="jsdo"&&(f.dataSource=u),t.type&&(i.data.transports=i.data.transports||{},i.data.schemas=i.data.schemas||{},i.data.transports[t.type]&&!w(i.data.transports[t.type])?o=new i.data.transports[t.type](e(f,{data:r})):f=e(!0,{},i.data.transports[t.type],f),t.schema=e(!0,{},i.data.schemas[t.type],t.schema)),o||(o=l(f.read)?f:new rr(f))):o=new ir({data:t.data||[]}),o};c.create=function(n){(h(n)||n instanceof y)&&(n={data:n});var r=n||{},u=r.data,f=r.fields,l=r.table,a=r.select,o,p,v={},s;if(u||!f||r.transport||(l?u=ku(l,f):a&&(u=bu(a,f),r.group===t&&u[0]&&u[0].optgroup!==t&&(r.group="optgroup"))),i.data.Model&&f&&(!r.schema||!r.schema.model)){for(o=0,p=f.length;o<p;o++)s=f[o],s.type&&(v[s.field]=s);b(v)||(r.schema=e(!0,r.schema,{model:{fields:v}}))}return r.data=u,a=null,r.select=null,l=null,r.table=null,r instanceof c?r:new c(r)};ci=p.define({idField:"id",init:function(n){var t=this,r=t.hasChildren||n&&n.hasChildren,f="items",u={};i.data.Model.fn.init.call(t,n);typeof t.children===s&&(f=t.children);u={schema:{data:f,model:{hasChildren:r,id:t.idField,fields:t.fields}}};typeof t.children!==s&&e(u,t.children);u.data=n;r||(r=u.schema.data);typeof r===s&&(r=i.getter(r));l(r)&&(t.hasChildren=!!r.call(t,t));t._childrenOptions=u;t.hasChildren&&t._initChildren();t._loaded=!!(n&&(n[f]||n._loaded))},_initChildren:function(){var n=this,t,i,u;n.children instanceof d||(t=n.children=new d(n._childrenOptions),i=t.transport,u=i.parameterMap,i.parameterMap=function(t,i){return t[n.idField||"id"]=n.id,u&&(t=u(t,i)),t},t.parent=function(){return n},t.bind(r,function(t){t.node=t.node||n;n.trigger(r,t)}),t.bind(nt,function(t){var i=n.parent();i&&(t.node=t.node||n,i.trigger(nt,t))}),n._updateChildrenField())},append:function(n){this._initChildren();this.loaded(!0);this.children.add(n)},hasChildren:!1,level:function(){for(var n=this.parentNode(),t=0;n&&n.parentNode;)t++,n=n.parentNode?n.parentNode():null;return t},_updateChildrenField:function(){var n=this._childrenOptions.schema.data;this[n||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0;this._updateChildrenField()},load:function(){var u={},f="_query",i,e;if(this.hasChildren){this._initChildren();i=this.children;u[this.idField||"id"]=this.id;this._loaded||(i._data=t,f="read");i.one(r,v(this._childrenLoaded,this));e=i[f](u)}else this.loaded(!0);return e||n.Deferred().resolve().promise()},parentNode:function(){var n=this.parent();return n.parent()},loaded:function(n){if(n!==t)this._loaded=n;else return this._loaded},shouldSerialize:function(n){return p.fn.shouldSerialize.call(this,n)&&n!=="children"&&n!=="_loaded"&&n!=="hasChildren"&&n!=="_childrenOptions"}});d=c.extend({init:function(n){var t=ci.define({children:n});c.fn.init.call(this,e(!0,{},{schema:{modelBase:t,model:t}},n));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var n=this;n._data.bind(nt,function(t){n.trigger(nt,t)})},remove:function(n){var t=n.parentNode(),i=this,r;return t&&t._initChildren&&(i=t.children),r=c.fn.remove.call(i,n),t&&!i.data().length&&(t.hasChildren=!1),r},success:wr("success"),data:wr("data"),insert:function(n,t){var i=this.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),c.fn.insert.call(this,n,t)},_find:function(n,t){var r,e,i,f,u=this._data;if(u){if(i=c.fn[n].call(this,t),i)return i;for(u=this._flatData(this._data),r=0,e=u.length;r<e;r++)if((f=u[r].children,f instanceof d)&&(i=f[n](t),i))return i}},get:function(n){return this._find("get",n)},getByUid:function(n){return this._find("getByUid",n)}});d.create=function(n){n=n&&n.push?{data:n}:n;var t=n||{},i=t.data,r=t.fields,u=t.list;return i&&i._dataSource?i._dataSource:(i||!r||t.transport||u&&(i=br(u,r)),t.data=i,t instanceof d?t:new d(t))};li=i.Observable.extend({init:function(n,t,r){i.Observable.fn.init.call(this);this._prefetching=!1;this.dataSource=n;this.prefetch=!r;var u=this;n.bind("change",function(){u._change()});n.bind("reset",function(){u._reset()});this._syncWithDataSource();this.setViewSize(t)},setViewSize:function(n){this.viewSize=n;this._recalculate()},at:function(n){var t=this.pageSize,i=!0;return n>=this.total()?(this.trigger("endreached",{index:n}),null):this.useRanges?this.useRanges?((n<this.dataOffset||n>=this.skip+t)&&(i=this.range(Math.floor(n/t)*t)),n===this.prefetchThreshold&&this._prefetch(),n===this.midPageThreshold?this.range(this.nextMidRange,!0):n===this.nextPageThreshold?this.range(this.nextFullRange):n===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),i?this.dataSource.at(n-this.dataOffset):(this.trigger("endreached",{index:n}),null)):void 0:this.dataSource.view()[n]},indexOf:function(n){return this.dataSource.data().indexOf(n)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var n=this,t=n.pageSize,i=n.skip-n.viewSize+t,r=f.max(f.floor(i/t),0)*t;this.offset=i;this.dataSource.prefetch(r,t,function(){n._goToRange(i,!0)})},range:function(n,t){if(this.offset===n)return!0;var r=this,i=this.pageSize,u=f.max(f.floor(n/i),0)*i,e=this.dataSource;return(t&&(u+=i),e.inRange(n,i))?(this.offset=n,this._recalculate(),this._goToRange(n),!0):this.prefetch?(e.prefetch(u,i,function(){r.offset=n;r._recalculate();r._goToRange(n,!0)}),!1):!0},syncDataSource:function(){var n=this.offset;this.offset=null;this.range(n)},destroy:function(){this.unbind()},_prefetch:function(){var i=this,n=this.pageSize,t=this.skip+n,r=this.dataSource;r.inRange(t,n)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:t,take:n}),r.prefetch(t,n,function(){i._prefetching=!1;i.trigger("prefetched",{skip:t,take:n})}))},_goToRange:function(n,t){this.offset===n&&(this.dataOffset=n,this._expanding=t,this.dataSource.range(n,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var n=this.dataSource;this.length=this.useRanges?n.lastRange().end:n.view().length;this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset}));this.trigger("resize");this._expanding&&this.trigger("expand");delete this._expanding},_syncWithDataSource:function(){var n=this.dataSource;this._firstItemUid=n.firstItemUid();this.dataOffset=this.offset=n.skip()||0;this.pageSize=n.pageSize();this.useRanges=n.options.serverPaging},_recalculate:function(){var t=this.pageSize,r=this.offset,i=this.viewSize,n=Math.ceil(r/t)*t;this.skip=n;this.midPageThreshold=n+t-1;this.nextPageThreshold=n+i-1;this.prefetchThreshold=n+Math.floor(t/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=n+t-i;this.nextFullRange=n;this.previousMidRange=r-i;this.previousFullRange=n-t}});kr=i.Observable.extend({init:function(n,t){var r=this;i.Observable.fn.init.call(r);this.dataSource=n;this.batchSize=t;this._total=0;this.buffer=new li(n,t*3);this.buffer.bind({endreached:function(n){r.trigger("endreached",{index:n.index})},prefetching:function(n){r.trigger("prefetching",{skip:n.skip,take:n.take})},prefetched:function(n){r.trigger("prefetched",{skip:n.skip,take:n.take})},reset:function(){r._total=0;r.trigger("reset")},resize:function(){r._total=Math.ceil(this.length/r.batchSize);r.trigger("resize",{total:r.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(n){var t=this.buffer,u=n*this.batchSize,e=this.batchSize,f=[],r,i;for(t.offset>u&&t.at(t.offset-1),i=0;i<e;i++){if(r=t.at(u+i),r===null)break;f.push(r)}return f},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});e(!0,i.data,{readers:{json:ei},Query:u,DataSource:c,HierarchicalDataSource:d,Node:ci,ObservableObject:o,ObservableArray:y,LazyObservableArray:at,LocalTransport:ir,RemoteTransport:rr,Cache:ot,DataReader:ei,Model:p,Buffer:li,BatchBuffer:kr})}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n,t){var i=window.kendo,s=i.ui,u=s.Widget,r="dir",f="asc",h="single",c="field",e="desc",l=".kendoColumnSorter",a=".k-link",o="aria-sort",v=n.proxy,y=u.extend({init:function(n,t){var i=this,r;u.fn.init.call(i,n,t);i._refreshHandler=v(i.refresh,i);i.dataSource=i.options.dataSource.bind("change",i._refreshHandler);r=i.element.find(a);r[0]||(r=i.element.wrapInner('<a class="k-link" href="#"/>').find(a));i.link=r;i.element.on("click"+l,v(i._click,i))},options:{name:"ColumnSorter",mode:h,allowUnsort:!0,compare:null,filter:""},destroy:function(){var n=this;u.fn.destroy.call(n);n.element.off(l);n.dataSource.unbind("change",n._refreshHandler);n._refreshHandler=n.element=n.link=n.dataSource=null},refresh:function(){var u=this,a=u.dataSource.sort()||[],s,v,h,l,t=u.element,y=t.attr(i.attr(c));for(t.removeAttr(i.attr(r)),t.removeAttr(o),s=0,v=a.length;s<v;s++)h=a[s],y==h.field&&t.attr(i.attr(r),h.dir);l=t.attr(i.attr(r));t.find(".k-i-arrow-n,.k-i-arrow-s").remove();l===f?(n('<span class="k-icon k-i-arrow-n" />').appendTo(u.link),t.attr(o,"ascending")):l===e&&(n('<span class="k-icon k-i-arrow-s" />').appendTo(u.link),t.attr(o,"descending"))},_click:function(n){var o=this,v=o.element,y=v.attr(i.attr(c)),s=v.attr(i.attr(r)),l=o.options,p=o.options.compare===null?t:o.options.compare,u=o.dataSource.sort()||[],a,w;if(n.preventDefault(),!l.filter||v.is(l.filter)){if(s=s===f?e:s===e&&l.allowUnsort?t:f,l.mode===h)u=[{field:y,dir:s,compare:p}];else if(l.mode==="multiple"){for(a=0,w=u.length;a<w;a++)if(u[a].field===y){u.splice(a,1);break}u.push({field:y,dir:s,compare:p})}this.dataSource.sort(u)}}});s.plugin(y)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n,t){function li(n,t,i,r){var u=n.getFullYear(),e=t.getFullYear(),o=i.getFullYear(),f;return u=u-u%r,f=u+(r-1),u<e&&(u=e),f>o&&(f=o),u+"-"+f}function d(n){for(var t=0,i,f=n.min,e=n.max,r=n.start,o=n.setter,s=n.build,h=n.cells||12,c=n.perRow||4,l=n.content||bi,a=n.empty||ki,u=n.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';t<h;t++)t>0&&t%c==0&&(u+='<\/tr><tr role="row">'),i=s(r,t),u+=nt(r,f,e)?l(i):a(i),o(r,1);return u+"<\/tr><\/tbody><\/table>"}function st(n,t,i){var f=n.getFullYear(),r=t.getFullYear(),e=r,u=0;return i&&(r=r-r%i,e=r-r%i+i-1),f>e?u=1:f<r&&(u=-1),u}function g(){var n=new i;return new i(n.getFullYear(),n.getMonth(),n.getDate())}function y(n,t,r){var u=g();return n&&(u=new i(+n)),t>u?u=new i(+t):r<u&&(u=new i(+r)),u}function nt(n,t,i){return+n>=+t&&+n<=+i}function ai(n,t){return n.slice(t).concat(n.slice(0,t))}function vi(n,t,r){t=t instanceof i?t.getFullYear():n.getFullYear()+r*t;n.setFullYear(t)}function yi(t){n(this).toggleClass(nr,tr.indexOf(t.type)>-1||t.type==ri)}function ur(n){n.preventDefault()}function ht(n){return at(n).calendars.standard}function ct(n){var i=o[n.start],r=o[n.depth],u=at(n.culture);n.format=wi(n.format||u.calendars.standard.patterns.d);isNaN(i)&&(i=0,n.start=v);(r===t||r>i)&&(n.depth=v);n.dates||(n.dates=[])}function pi(n){di&&n.find("*").attr("unselectable","on")}function fr(n,t){for(var i=0,r=t.length;i<r;i++)if(n===+t[i])return!0;return!1}function er(n,t){return n?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate():!1}function or(n,t){return n?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth():!1}var r=window.kendo,tt=r.support,lt=r.ui,p=lt.Widget,f=r.keys,it=r.parseDate,l=r.date.adjustDST,wi=r._extractFormat,a=r.template,at=r.getCulture,vt=r.support.transitions,yt=vt?vt.css+"transform-origin":"",bi=a('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#<\/a><\/td>',{useWithBlock:!1}),ki=a('<td role="gridcell">&nbsp;<\/td>',{useWithBlock:!1}),pt=r.support.browser,di=pt.msie&&pt.version<9,u=".kendoCalendar",s="click"+u,gi="keydown"+u,rt="id",wt="min",bt="left",ut="slideIn",v="month",kt="century",ft="change",dt="navigate",et="value",nr="k-state-hover",h="k-state-disabled",c="k-state-focused",w="k-other-month",gt=' class="'+w+'"',ni="k-nav-today",ti="td:has(.k-link)",ii="blur"+u,ri="focus",ui=ri+u,tr=tt.touch?"touchstart":"mouseenter",fi=tt.touch?"touchstart"+u:"mouseenter"+u,ei=tt.touch?"touchend"+u+" touchmove"+u:"mouseleave"+u,ir=6e4,oi=864e5,b="_prevArrow",k="_nextArrow",ot="aria-disabled",si="aria-selected",hi=n.proxy,ci=n.extend,i=Date,o={month:0,year:1,decade:2,century:3},rr=p.extend({init:function(t,f){var e=this,h,l;p.fn.init.call(e,t,f);t=e.wrapper=e.element;f=e.options;f.url=window.unescape(f.url);e._templates();e._header();e._footer(e.footer);l=t.addClass("k-widget k-calendar").on(fi+" "+ei,ti,yi).on(gi,"table.k-content",hi(e._move,e)).on(s,ti,function(t){var i=t.currentTarget.firstChild;i.href.indexOf("#")!=-1&&t.preventDefault();e._click(n(i))}).on("mouseup"+u,"table.k-content, .k-footer",function(){e._focusView(e.options.focusOnNav!==!1)}).attr(rt);l&&(e._cellID=l+"_cell_selected");ct(f);h=it(f.value,f.format,f.culture);e._index=o[f.start];e._current=new i(+y(h,f.min,f.max));e._addClassProxy=function(){e._active=!0;e._cell.addClass(c)};e._removeClassProxy=function(){e._active=!1;e._cell.removeClass(c)};e.value(h);r.notify(e)},options:{name:"Calendar",value:null,min:new i(1900,0,1),max:new i(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:v,depth:v,animation:{horizontal:{effects:ut,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[ft,dt],setOptions:function(n){var t=this;ct(n);n.dates[0]||(n.dates=t.options.dates);p.fn.setOptions.call(t,n);t._templates();t._footer(t.footer);t._index=o[t.options.start];t.navigate()},destroy:function(){var n=this,t=n._today;n.element.off(u);n._title.off(u);n[b].off(u);n[k].off(u);r.destroy(n._table);t&&r.destroy(t.off(u));p.fn.destroy.call(n)},current:function(){return this._current},view:function(){return this._view},focus:function(n){n=n||this._table;this._bindTable(n);n.focus()},min:function(n){return this._option(wt,n)},max:function(n){return this._option("max",n)},navigateToPast:function(){this._navigate(b,-1)},navigateToFuture:function(){this._navigate(k,1)},navigateUp:function(){var n=this,t=n._index;n._title.hasClass(h)||n.navigate(n._current,++t)},navigateDown:function(n){var t=this,i=t._index,r=t.options.depth;if(n){if(i===o[r]){+t._value!=+n&&(t.value(n),t.trigger(ft));return}t.navigate(n,--i)}},navigate:function(r,u){u=isNaN(u)?o[u]:u;var f=this,l=f.options,tt=l.culture,p=l.min,w=l.max,it=f._title,v=f._table,d=f._oldTable,rt=f._value,ut=f._current,ft=r&&+r>+ut,et=u!==t&&u!==f._index,g,a,nt,s;r||(r=ut);f._current=r=new i(+y(r,p,w));u===t?u=f._index:f._index=u;f._view=a=e.views[u];nt=a.compare;s=u===o[kt];it.toggleClass(h,s).attr(ot,s);s=nt(r,p)<1;f[b].toggleClass(h,s).attr(ot,s);s=nt(r,w)>-1;f[k].toggleClass(h,s).attr(ot,s);v&&d&&d.data("animating")&&(d.kendoStop(!0,!0),v.kendoStop(!0,!0));f._oldTable=v;(!v||f._changeView)&&(it.html(a.title(r,p,w,tt)),f._table=g=n(a.content(ci({min:p,max:w,date:r,url:l.url,dates:l.dates,format:l.format,culture:tt},f[a.name]))),pi(g),f._animate({from:v,to:g,vertical:et,future:ft}),f._focus(r),f.trigger(dt));u===o[l.depth]&&rt&&f._class("k-state-selected",a.toDateString(rt));f._class(c,a.toDateString(r));!v&&f._cell&&f._cell.removeClass(c);f._changeView=!0},value:function(n){var r=this,f=r._view,u=r.options,e=r._view,o=u.min,s=u.max;if(n===t)return r._value;n=it(n,u.format,u.culture);n!==null&&(n=new i(+n),nt(n,o,s)||(n=null));r._value=n;e&&n===null&&r._cell?r._cell.removeClass("k-state-selected"):(r._changeView=!n||f&&f.compare(n,r._current)!==0,r.navigate(n))},_move:function(t){var u=this,v=u.options,e=t.keyCode,p=u._view,w=u._index,s=new i(+u._current),h=r.support.isRtl(u.wrapper),c,o,l,a;return t.target===u._table[0]&&(u._active=!0),t.ctrlKey?e==f.RIGHT&&!h||e==f.LEFT&&h?(u.navigateToFuture(),o=!0):e==f.LEFT&&!h||e==f.RIGHT&&h?(u.navigateToPast(),o=!0):e==f.UP?(u.navigateUp(),o=!0):e==f.DOWN&&(u._click(n(u._cell[0].firstChild)),o=!0):(e==f.RIGHT&&!h||e==f.LEFT&&h?(c=1,o=!0):e==f.LEFT&&!h||e==f.RIGHT&&h?(c=-1,o=!0):e==f.UP?(c=w===0?-7:-4,o=!0):e==f.DOWN?(c=w===0?7:4,o=!0):e==f.ENTER?(u._click(n(u._cell[0].firstChild)),o=!0):e==f.HOME||e==f.END?(l=e==f.HOME?"first":"last",a=p[l](s),s=new i(a.getFullYear(),a.getMonth(),a.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),o=!0):e==f.PAGEUP?(o=!0,u.navigateToPast()):e==f.PAGEDOWN&&(o=!0,u.navigateToFuture()),(c||l)&&(l||p.setDate(s,c),u._focus(y(s,v.min,v.max)))),o&&t.preventDefault(),u._current},_animate:function(n){var i=this,t=n.from,r=n.to,f=i._active;t?t.parent().data("animating")?(t.off(u),t.parent().kendoStop(!0,!0).remove(),t.remove(),r.insertAfter(i.element[0].firstChild),i._focusView(f)):t.is(":visible")&&i.options.animation!==!1?i[n.vertical?"_vertical":"_horizontal"](t,r,n.future):(r.insertAfter(t),t.off(u).remove(),i._focusView(f)):(r.insertAfter(i.element[0].firstChild),i._bindTable(r))},_horizontal:function(n,t,i){var r=this,o=r._active,f=r.options.animation.horizontal,s=f.effects,e=n.outerWidth();s&&s.indexOf(ut)!=-1&&(n.add(t).css({width:e}),n.wrap("<div/>"),r._focusView(o,n),n.parent().css({position:"relative",width:e*2,float:bt,"margin-left":i?0:-e}),t[i?"insertAfter":"insertBefore"](n),ci(f,{effects:ut+":"+(i?"right":bt),complete:function(){n.off(u).remove();r._oldTable=null;t.unwrap();r._focusView(o)}}),n.parent().kendoStop(!0,!0).kendoAnimate(f))},_vertical:function(n,t){var i=this,e=i.options.animation.vertical,o=e.effects,s=i._active,f,r;o&&o.indexOf("zoom")!=-1&&(t.css({position:"absolute",top:n.prev().outerHeight(),left:0}).insertBefore(n),yt&&(f=i._cellByDate(i._view.toDateString(i._current)),r=f.position(),r=r.left+parseInt(f.width()/2,10)+"px "+(r.top+parseInt(f.height()/2,10)+"px"),t.css(yt,r)),n.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){n.off(u).remove();i._oldTable=null;t.css({position:"static",top:0,left:0});i._focusView(s)}}),t.kendoStop(!0,!0).kendoAnimate(e))},_cellByDate:function(t){return this._table.find("td:not(."+w+")").filter(function(){return n(this.firstChild).attr(r.attr(et))===t})},_class:function(t,i){var u=this,e=u._cellID,f=u._cell;f&&f.removeAttr(si).removeAttr("aria-label").removeAttr(rt);f=u._table.find("td:not(."+w+")").removeClass(t).filter(function(){return n(this.firstChild).attr(r.attr(et))===i}).attr(si,!0);t!==c||u._active||u.options.focusOnNav===!1||(t="");f.addClass(t);f[0]&&(u._cell=f);e&&(f.attr(rt,e),u._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",e))},_bindTable:function(n){n.on(ui,this._addClassProxy).on(ii,this._removeClassProxy)},_click:function(n){var u=this,f=u.options,e=new Date(+u._current),t=n.attr(r.attr(et)).split("/");t=new i(t[0],t[1],t[2]);l(t,0);u._view.setDate(e,t);u.navigateDown(y(e,f.min,f.max))},_focus:function(n){var t=this,i=t._view;i.compare(n,t._current)!==0?t.navigate(n):(t._current=n,t._class(c,i.toDateString(n)))},_focusView:function(n,t){n&&this.focus(t)},_footer:function(t){var i=this,f=g(),e=i.element,u=e.find(".k-footer");if(!t){i._toggle(!1);u.hide();return}u[0]||(u=n('<div class="k-footer"><a href="#" class="k-link k-nav-today"><\/a><\/div>').appendTo(e));i._today=u.show().find(".k-link").html(t(f)).attr("title",r.toString(f,"D",i.options.culture));i._toggle()},_header:function(){var n=this,i=n.element,t;i.find(".k-header")[0]||i.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"><\/span><\/a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"><\/a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"><\/span><\/a><\/div>');t=i.find(".k-link").on(fi+" "+ei+" "+ui+" "+ii,yi).click(!1);n._title=t.eq(1).on(s,function(){n._active=n.options.focusOnNav!==!1;n.navigateUp()});n[b]=t.eq(0).on(s,function(){n._active=n.options.focusOnNav!==!1;n.navigateToPast()});n[k]=t.eq(2).on(s,function(){n._active=n.options.focusOnNav!==!1;n.navigateToFuture()})},_navigate:function(n,t){var r=this,f=r._index+1,u=new i(+r._current);n=r[n];n.hasClass(h)||(f>3?u.setFullYear(u.getFullYear()+100*t):e.views[f].setDate(u,t),r.navigate(u))},_option:function(n,r){var u=this,f=u.options,e=u._value||u._current,o;if(r===t)return f[n];(r=it(r,f.format,f.culture),r)&&(f[n]=new i(+r),o=n===wt?r>e:e>r,(o||or(e,r))&&(o&&(u._value=null),u._changeView=!0),u._changeView||(u._changeView=!!(f.month.content||f.month.empty)),u.navigate(u._value),u._toggle())},_toggle:function(n){var i=this,u=i.options,r=i._today;if(n===t&&(n=nt(g(),u.min,u.max)),r)if(r.off(s),n)r.addClass(ni).removeClass(h).on(s,hi(i._todayClick,i));else r.removeClass(ni).addClass(h).on(s,ur)},_todayClick:function(n){var t=this,r=o[t.options.depth],i=g();n.preventDefault();t._view.compare(t._current,i)===0&&t._index==r&&(t._changeView=!1);t._value=i;t.navigate(i,r);t.trigger(ft)},_templates:function(){var n=this,t=n.options,i=t.footer,u=t.month,f=u.content,e=u.empty;n.month={content:a('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+r.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"<\/a><\/td>",{useWithBlock:!!f}),empty:a('<td role="gridcell">'+(e||"&nbsp;")+"<\/td>",{useWithBlock:!!e})};n.footer=i!==!1?a(i||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null}}),e;lt.plugin(rr);e={firstDayOfMonth:function(n){return new i(n.getFullYear(),n.getMonth(),1)},firstVisibleDay:function(n,t){t=t||r.culture().calendar;for(var f=t.firstDay,u=new i(n.getFullYear(),n.getMonth(),0,n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());u.getDay()!=f;)e.setTime(u,-1*oi);return u},setTime:function(n,t){var u=n.getTimezoneOffset(),r=new i(n.getTime()+t),f=r.getTimezoneOffset()-u;n.setTime(r.getTime()+f*ir)},views:[{name:v,title:function(n,t,i,r){return ht(r).months.names[n.getMonth()]+" "+n.getFullYear()},content:function(n){for(var f=this,o=0,s=n.min,h=n.max,c=n.date,a=n.dates,nt=n.format,v=n.culture,p=n.url,tt=p&&a[0],y=ht(v),b=y.firstDay,k=y.days,it=ai(k.names,b),rt=ai(k.namesShort,b),u=e.firstVisibleDay(c,y),ut=f.first(c),ft=f.last(c),et=f.toDateString,t=new i,g='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';o<7;o++)g+='<th scope="col" title="'+it[o]+'">'+rt[o]+"<\/th>";return t=new i(t.getFullYear(),t.getMonth(),t.getDate()),l(t,0),t=+t,u=new i(u.getFullYear(),u.getMonth(),u.getDate()),l(u,0),d({cells:42,perRow:7,html:g+='<\/tr><\/thead><tbody><tr role="row">',start:u,min:new i(s.getFullYear(),s.getMonth(),s.getDate()),max:new i(h.getFullYear(),h.getMonth(),h.getDate()),content:n.content,empty:n.empty,setter:f.setDate,build:function(n){var i=[],u=n.getDay(),f="",e="#";return(n<ut||n>ft)&&i.push(w),+n===t&&i.push("k-today"),(u===0||u===6)&&i.push("k-weekend"),tt&&fr(+n,a)&&(e=p.replace("{0}",r.toString(n,nt,v)),f=" k-action-link"),{date:n,dates:a,ns:r.ns,title:r.toString(n,"D",v),value:n.getDate(),dateString:et(n),cssClass:i[0]?' class="'+i.join(" ")+'"':"",linkClass:f,url:e}}})},first:function(n){return e.firstDayOfMonth(n)},last:function(n){var t=new i(n.getFullYear(),n.getMonth()+1,0),r=e.firstDayOfMonth(n),u=Math.abs(t.getTimezoneOffset()-r.getTimezoneOffset());return u&&t.setHours(r.getHours()+u/60),t},compare:function(n,t){var i=n.getMonth(),r=n.getFullYear(),u=t.getMonth(),f=t.getFullYear();return r>f?1:r<f?-1:i==u?0:i>u?1:-1},setDate:function(n,t){var r=n.getHours();t instanceof i?n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):e.setTime(n,t*oi);l(n,r)},toDateString:function(n){return n.getFullYear()+"/"+n.getMonth()+"/"+n.getDate()}},{name:"year",title:function(n){return n.getFullYear()},content:function(n){var f=ht(n.culture).months.namesAbbr,e=this.toDateString,t=n.min,u=n.max;return d({min:new i(t.getFullYear(),t.getMonth(),1),max:new i(u.getFullYear(),u.getMonth(),1),start:new i(n.date.getFullYear(),0,1),setter:this.setDate,build:function(n){return{value:f[n.getMonth()],ns:r.ns,dateString:e(n),cssClass:""}}})},first:function(n){return new i(n.getFullYear(),0,n.getDate())},last:function(n){return new i(n.getFullYear(),11,n.getDate())},compare:function(n,t){return st(n,t)},setDate:function(n,t){var r,u=n.getHours();t instanceof i?(r=t.getMonth(),n.setFullYear(t.getFullYear(),r,n.getDate()),r!==n.getMonth()&&n.setDate(0)):(r=n.getMonth()+t,n.setMonth(r),r>11&&(r-=12),r>0&&n.getMonth()!=r&&n.setDate(0));l(n,u)},toDateString:function(n){return n.getFullYear()+"/"+n.getMonth()+"/1"}},{name:"decade",title:function(n,t,i){return li(n,t,i,10)},content:function(n){var t=n.date.getFullYear(),u=this.toDateString;return d({start:new i(t-t%10-1,0,1),min:new i(n.min.getFullYear(),0,1),max:new i(n.max.getFullYear(),0,1),setter:this.setDate,build:function(n,t){return{value:n.getFullYear(),ns:r.ns,dateString:u(n),cssClass:t===0||t==11?gt:""}}})},first:function(n){var t=n.getFullYear();return new i(t-t%10,n.getMonth(),n.getDate())},last:function(n){var t=n.getFullYear();return new i(t-t%10+9,n.getMonth(),n.getDate())},compare:function(n,t){return st(n,t,10)},setDate:function(n,t){vi(n,t,1)},toDateString:function(n){return n.getFullYear()+"/0/1"}},{name:kt,title:function(n,t,i){return li(n,t,i,100)},content:function(n){var o=n.date.getFullYear(),f=n.min.getFullYear(),e=n.max.getFullYear(),s=this.toDateString,t=f,u=e;return t=t-t%10,u=u-u%10,u-t<10&&(u=t+9),d({start:new i(o-o%100-10,0,1),min:new i(t,0,1),max:new i(u,0,1),setter:this.setDate,build:function(n,t){var i=n.getFullYear(),u=i+9;return i<f&&(i=f),u>e&&(u=e),{ns:r.ns,value:i+" - "+u,dateString:s(n),cssClass:t===0||t==11?gt:""}}})},first:function(n){var t=n.getFullYear();return new i(t-t%100,n.getMonth(),n.getDate())},last:function(n){var t=n.getFullYear();return new i(t-t%100+99,n.getMonth(),n.getDate())},compare:function(n,t){return st(n,t,100)},setDate:function(n,t){vi(n,t,10)},toDateString:function(n){var t=n.getFullYear();return t-t%10+"/0/1"}}]};e.isEqualDatePart=er;e.makeUnselectable=pi;e.restrictValue=y;e.isInRange=nt;e.normalize=ct;e.viewsEnum=o;r.calendar=e}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n){function g(t,i){return t===i||n.contains(t,i)}var t=window.kendo,nt=t.ui,a=nt.Widget,f=t.support,r=t.getOffset,bt=t._activeElement,v="open",y="close",tt="deactivate",it="activate",u="center",rt="left",o="right",p="top",s="bottom",w="absolute",ut="hidden",h="body",b="location",c="position",ft="visible",et="effects",ot="k-state-active",l="k-state-border",ht=/k-state-border-(\w+)/,st=".k-picker-wrap, .k-dropdown-wrap, .k-link",ct="down",k=n(document.documentElement),lt=n(window),at="scroll",vt="resize scroll",yt=f.transitions.css,pt=yt+"transform",i=n.extend,e=".kendoPopup",d=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],wt=a.extend({init:function(r,u){var f=this,c;u=u||{};u.isRtl&&(u.origin=u.origin||s+" "+o,u.position=u.position||p+" "+o);a.fn.init.call(f,r,u);r=f.element;u=f.options;f.collisions=u.collision?u.collision.split(" "):[];f.downEvent=t.applyEventMap(ct,t.guid());f.collisions.length===1&&f.collisions.push(f.collisions[0]);c=n(f.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");u.appendTo=n(n(u.appendTo)[0]||c[0]||h);f.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!u.isRtl).css({position:w}).appendTo(u.appendTo).on("mouseenter"+e,function(){f._hovered=!0}).on("mouseleave"+e,function(){f._hovered=!1});if(f.wrapper=n(),u.animation===!1&&(u.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),i(u.animation.open,{complete:function(){f.wrapper.css({overflow:ft});f._activated=!0;f._trigger(it)}}),i(u.animation.close,{complete:function(){f._animationClose()}}),f._mousedownProxy=function(n){f._mousedown(n)},f._resizeProxy=function(n){f._resize(n)},u.toggleTarget)n(u.toggleTarget).on(u.toggleEvent+e,n.proxy(f.toggle,f))},events:[v,it,y,tt],options:{name:"Popup",toggleEvent:"click",origin:s+" "+rt,position:p+" "+rt,anchor:h,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var i=this,o=i.options,r,u,f,e;i.wrapper.hide();r=i.wrapper.data(b);u=n(o.anchor);r&&i.wrapper.css(r);o.anchor!=h&&(f=((u.attr("class")||"").match(ht)||["","down"])[1],e=l+"-"+f,u.removeClass(e).children(st).removeClass(ot).removeClass(e),i.element.removeClass(l+"-"+t.directions[f].reverse));i._closing=!1;i._trigger(tt)},destroy:function(){var i=this,r=i.options,u=i.element.off(e),f;a.fn.destroy.call(i);r.toggleTarget&&n(r.toggleTarget).off(e);r.modal||(k.unbind(i.downEvent,i._mousedownProxy),i._toggleResize(!1));t.destroy(i.element.children());u.removeData();r.appendTo[0]===document.body&&(f=u.parent(".k-animation-container"),f[0]?f.remove():u.remove())},open:function(r,u){var e=this,tt={isFixed:!isNaN(parseInt(u,10)),x:r,y:u},o=e.element,s=e.options,y="down",a,b,nt=n(s.anchor),it=o[0]&&o.hasClass("km-widget"),g;if(!e.visible()){if(s.copyAnchorStyles&&(it&&d[0]=="font-size"&&d.shift(),o.css(t.getComputedStyles(nt[0],d))),o.data("animating")||e._trigger(v))return;e._activated=!1;s.modal||(k.unbind(e.downEvent,e._mousedownProxy).bind(e.downEvent,e._mousedownProxy),f.mobileOS.ios||f.mobileOS.android||(e._toggleResize(!1),e._toggleResize(!0)));e.wrapper=b=t.wrap(o,s.autosize).css({overflow:ut,display:"block",position:w});f.mobileOS.android&&b.css(pt,"translatez(0)");b.css(c);n(s.appendTo)[0]==document.body&&b.css(p,"-10000px");a=i(!0,{},s.animation.open);e.flipped=e._position(tt);a.effects=t.parseEffects(a.effects,e.flipped);y=a.effects.slideIn?a.effects.slideIn.direction:y;s.anchor!=h&&(g=l+"-"+y,o.addClass(l+"-"+t.directions[y].reverse),nt.addClass(g).children(st).addClass(ot).addClass(g));o.data(et,a.effects).kendoStop(!0).kendoAnimate(a)}},position:function(){this.visible()&&this._position()},toggle:function(){var n=this;n[n.visible()?y:v]()},visible:function(){return this.element.is(":"+ft)},close:function(r){var u=this,h=u.options,s,f,e,o;if(u.visible()){if(s=u.wrapper[0]?u.wrapper:t.wrap(u.element).hide(),u._toggleResize(!1),u._closing||u._trigger(y)){u._toggleResize(!0);return}u.element.find(".k-popup").each(function(){var i=n(this),t=i.data("kendoPopup");t&&t.close(r)});k.unbind(u.downEvent,u._mousedownProxy);r?f={hide:!0,effects:{}}:(f=i(!0,{},h.animation.close),e=u.element.data(et),o=f.effects,!o&&!t.size(o)&&e&&t.size(e)&&(f.effects=e,f.reverse=!0),u._closing=!0);u.element.kendoStop(!0);s.css({overflow:ut});u.element.kendoAnimate(f)}},_trigger:function(n){return this.trigger(n,{type:n})},_resize:function(n){var t=this;n.type==="resize"?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position();t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_toggleResize:function(n){var t=n?"on":"off";this._scrollableParents()[t](at,this._resizeProxy);lt[t](vt,this._resizeProxy)},_mousedown:function(i){var u=this,s=u.element[0],e=u.options,h=n(e.anchor)[0],o=e.toggleTarget,f=t.eventTarget(i),r=n(f).closest(".k-popup"),c=r.parent().parent(".km-shim").length;(r=r[0],c||!r||r===u.element[0])&&n(i.target).closest("a").data("rel")!=="popover"&&(g(s,f)||g(h,f)||o&&g(n(o)[0],f)||u.close())},_fit:function(n,t,i){var r=0;return n+t>i&&(r=i-(n+t)),n<0&&(r=-n),r},_flip:function(n,t,i,r,f,e,o){var s=0;return o=o||t,e!==f&&e!==u&&f!==u&&(n+o>r&&(s+=-(i+t)),n+s<0&&(s+=i+t)),s},_scrollableParents:function(){return n(this.options.anchor).parentsUntil("body").filter(function(n,i){return t.isScrollable(i)})},_position:function(u){var o=this,it=o.element,e=o.wrapper,v=o.options,y=n(v.viewport),lt=y.offset(),l=n(v.anchor),rt=v.origin.toLowerCase().split(" "),ut=v.position.toLowerCase().split(" "),k=o.collisions,p=f.zoomLevel(),d,ft,h,g=10002,et=!!(y[0]==window&&window.innerWidth&&p<=1.02),ot=0,at=document.documentElement,vt,nt,st,ct;if(nt=et?window.innerWidth:y.width(),st=et?window.innerHeight:y.height(),et&&at.scrollHeight-at.clientHeight>0&&(nt-=t.support.scrollbar()),d=l.parents().filter(e.siblings()),d[0])if(h=Math.max(Number(d.css("zIndex")),0),h)g=h+10;else for(ft=l.parentsUntil(d),vt=ft.length;ot<vt;ot++)h=Number(n(ft[ot]).css("zIndex")),h&&g<h&&(g=h+10);e.css("zIndex",g);u&&u.isFixed?e.css({left:u.x,top:u.y}):e.css(o._align(rt,ut));var ht=r(e,c,l[0]===e.offsetParent()[0]),a=r(e),pt=l.offsetParent().parent(".k-animation-container,.k-popup,.k-group");pt.length&&(ht=r(e,c,!0),a=r(e));y[0]===window?(a.top-=window.pageYOffset||document.documentElement.scrollTop||0,a.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(a.top-=lt.top,a.left-=lt.left);o.wrapper.data(b)||e.data(b,i({},ht));var tt=i({},a),s=i({},ht),yt=v.adjustSize;return k[0]==="fit"&&(s.top+=o._fit(tt.top,e.outerHeight()+yt.height,st/p)),k[1]==="fit"&&(s.left+=o._fit(tt.left,e.outerWidth()+yt.width,nt/p)),ct=i({},s),k[0]==="flip"&&(s.top+=o._flip(tt.top,it.outerHeight(),l.outerHeight(),st/p,rt[0],ut[0],e.outerHeight())),k[1]==="flip"&&(s.left+=o._flip(tt.left,it.outerWidth(),l.outerWidth(),nt/p,rt[1],ut[1],e.outerWidth())),it.css(c,w),e.css(s),s.left!=ct.left||s.top!=ct.top},_align:function(t,i){var c=this,v=c.wrapper,l=n(c.options.anchor),y=t[0],p=t[1],w=i[0],b=i[1],k=r(l),d=n(c.options.appendTo),a,g=v.outerWidth(),nt=v.outerHeight(),tt=l.outerWidth(),it=l.outerHeight(),f=k.top,e=k.left,h=Math.round;return d[0]!=document.body&&(a=r(d),f-=a.top,e-=a.left),y===s&&(f+=it),y===u&&(f+=h(it/2)),w===s&&(f-=nt),w===u&&(f-=h(nt/2)),p===o&&(e+=tt),p===u&&(e+=h(tt/2)),b===o&&(e-=g),b===u&&(e-=h(g/2)),{top:f,left:e}}});nt.plugin(wt)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.calendar","./kendo.popup"],n)}(function(){return function(n,t){function d(t){var i=t.parseFormats,r=t.format;s.normalize(t);i=n.isArray(i)?i:[i];i.length||i.push("yyyy-MM-dd");n.inArray(r,i)===-1&&i.splice(0,0,t.format);t.parseFormats=i}function pt(n){n.preventDefault()}var i=window.kendo,e=i.ui,o=e.Widget,u=i.parseDate,f=i.keys,bt=i.template,kt=i._activeElement,g="<div />",nt="<span />",r=".kendoDatePicker",tt="click"+r,a="open",v="close",y="change",it="disabled",rt="readonly",p="k-state-default",ut="k-state-focused",ft="k-state-selected",w="k-state-disabled",dt="k-state-hover",ii="keydown"+r,gt="mouseenter"+r+" mouseleave"+r,et="mousedown"+r,b="id",ot="min",st="max",ht="month",ct="aria-disabled",lt="aria-expanded",k="aria-hidden",at="aria-readonly",s=i.calendar,ni=s.isInRange,vt=s.restrictValue,ti=s.isEqualDatePart,h=n.extend,c=n.proxy,yt=Date,l=function(t){var r=this,u,o=document.body,f=n(g).attr(k,"true").addClass("k-calendar-container").appendTo(o);r.options=t=t||{};u=t.id;u&&(u+="_dateview",f.attr(b,u),r._dateViewID=u);r.popup=new e.Popup(f,h(t.popup,t,{name:"Popup",isRtl:i.support.isRtl(t.anchor)}));r.div=f;r.value(t.value)},wt;l.prototype={_calendar:function(){var t=this,r=t.calendar,u=t.options,f;r||(f=n(g).attr(b,i.guid()).appendTo(t.popup.element).on(et,pt).on(tt,"td:has(.k-link)",c(t._click,t)),t.calendar=r=new e.Calendar(f),t._setOptions(u),i.calendar.makeUnselectable(r.element),r.navigate(t._value||t._current,u.start),t.value(t._value))},_setOptions:function(n){this.calendar.setOptions({focusOnNav:!1,change:n.change,culture:n.culture,dates:n.dates,depth:n.depth,footer:n.footer,format:n.format,max:n.max,min:n.min,month:n.month,start:n.start})},setOptions:function(n){var t=this.options;this.options=h(t,n,{change:t.change,close:t.close,open:t.open});this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var n=this;n._calendar();n.popup.open()},close:function(){this.popup.close()},min:function(n){this._option(ot,n)},max:function(n){this._option(st,n)},toggle:function(){var n=this;n[n.popup.visible()?v:a]()},move:function(n){var t=this,i=n.keyCode,u=t.calendar,e=n.ctrlKey&&i==f.DOWN||i==f.ENTER,r=!1;if(n.altKey)i==f.DOWN?(t.open(),n.preventDefault(),r=!0):i==f.UP&&(t.close(),n.preventDefault(),r=!0);else if(t.popup.visible()){if(i==f.ESC||e&&u._cell.hasClass(ft))return t.close(),n.preventDefault(),!0;t._current=u._move(n);r=!0}return r},current:function(n){this._current=n;this.calendar._focus(n)},value:function(n){var t=this,i=t.calendar,r=t.options;t._value=n;t._current=new yt(+vt(n,r.min,r.max));i&&i.value(n)},_click:function(n){n.currentTarget.className.indexOf(ft)!==-1&&this.close()},_option:function(n,t){var i=this,r=i.calendar;i.options[n]=t;r&&r[n](t)}};l.normalize=d;i.DateView=l;wt=o.extend({init:function(t,r){var f=this,s,e;o.fn.init.call(f,t,r);t=f.element;r=f.options;r.min=u(t.attr("min"))||u(r.min);r.max=u(t.attr("max"))||u(r.max);d(r);f._initialOptions=h({},r);f._wrapper();f.dateView=new l(h({},r,{id:t.attr(b),anchor:f.wrapper,change:function(){f._change(this.value());f.close()},close:function(n){f.trigger(v)?n.preventDefault():(t.attr(lt,!1),e.attr(k,!0))},open:function(n){var r=f.options,i;f.trigger(a)?n.preventDefault():(f.element.val()!==f._oldText&&(i=u(t.val(),r.parseFormats,r.culture),f.dateView[i?"current":"value"](i)),t.attr(lt,!0),e.attr(k,!1),f._updateARIA(i))}}));e=f.dateView.div;f._icon();try{t[0].setAttribute("type","text")}catch(c){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":f.dateView._dateViewID});f._reset();f._template();s=t.is("[disabled]")||n(f.element).parents("fieldset").is(":disabled");s?f.enable(!1):f.readonly(t.is("[readonly]"));f._old=f._update(r.value||f.element.val());f._oldText=t.val();i.notify(f)},events:[a,v,y],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:ht,depth:ht,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(n){var t=this,r=t._value;o.fn.setOptions.call(t,n);n=t.options;n.min=u(n.min);n.max=u(n.max);d(n);t.dateView.setOptions(n);r&&(t.element.val(i.toString(r,n.format,n.culture)),t._updateARIA(r))},_editable:function(n){var t=this,o=t._dateIcon.off(r),f=t.element.off(r),e=t._inputWrapper.off(r),u=n.readonly,i=n.disable;if(u||i)e.addClass(i?w:p).removeClass(i?p:w),f.attr(it,i).attr(rt,u).attr(ct,i).attr(at,u);else{e.addClass(p).removeClass(w).on(gt,t._toggleHover);f.removeAttr(it).removeAttr(rt).attr(ct,!1).attr(at,!1).on("keydown"+r,c(t._keydown,t)).on("focusout"+r,c(t._blur,t)).on("focus"+r,function(){t._inputWrapper.addClass(ut)});o.on(tt,c(t._click,t)).on(et,pt)}},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},destroy:function(){var n=this;o.fn.destroy.call(n);n.dateView.destroy();n.element.off(r);n._dateIcon.off(r);n._inputWrapper.off(r);n._form&&n._form.off("reset",n._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(n){return this._option(ot,n)},max:function(n){return this._option(st,n)},value:function(n){var i=this;if(n===t)return i._value;i._old=i._update(n);i._old===null&&i.element.val("");i._oldText=i.element.val()},_toggleHover:function(t){n(t.currentTarget).toggleClass(dt,t.type==="mouseenter")},_blur:function(){var n=this,t=n.element.val();n.close();t!==n._oldText&&n._change(t);n._inputWrapper.removeClass(ut)},_click:function(){var n=this,t=n.element;n.dateView.toggle();i.support.touch||t[0]===kt()||t.focus()},_change:function(n){var t=this;n=t._update(n);+t._old!=+n&&(t._old=n,t._oldText=t.element.val(),t._typing||t.element.trigger(y),t.trigger(y));t._typing=!1},_keydown:function(n){var t=this,i=t.dateView,r=t.element.val(),u=!1;i.popup.visible()||n.keyCode!=f.ENTER||r===t._oldText?(u=i.move(n),t._updateARIA(i._current),u||(t._typing=!0)):t._change(r)},_icon:function(){var i=this,r=i.element,t;t=r.next("span.k-select");t[0]||(t=n('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select<\/span><\/span>').insertAfter(r));i._dateIcon=t.attr({role:"button","aria-controls":i.dateView._dateViewID})},_option:function(n,i){var f=this,r=f.options;if(i===t)return r[n];(i=u(i,r.parseFormats,r.culture),i)&&(r[n]=new yt(+i),f.dateView[n](i))},_update:function(n){var f=this,r=f.options,e=r.min,h=r.max,o=f._value,t=u(n,r.parseFormats,r.culture),c=t===null&&o===null||t instanceof Date&&o instanceof Date,s;return+t==+o&&c?(s=i.toString(t,r.format,r.culture),s!==n&&f.element.val(t===null?n:s),t):(t!==null&&ti(t,e)?t=vt(t,e,h):ni(t,e,h)||(t=null),f._value=t,f.dateView.value(t),f.element.val(t?i.toString(t,r.format,r.culture):n),f._updateARIA(t),t)},_wrapper:function(){var r=this,i=r.element,t;t=i.parents(".k-datepicker");t[0]||(t=i.wrap(nt).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(nt).parent());t[0].style.cssText=i[0].style.cssText;i.css({width:"100%",height:i[0].style.height});r.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(i[0].className);r._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){t.value(i[0].defaultValue);t.max(t._initialOptions.max);t.min(t._initialOptions.min)},t._form=u.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=bt(this.options.ARIATemplate)},_updateARIA:function(n){var i,t=this,r=t.dateView.calendar;t.element.removeAttr("aria-activedescendant");r&&(i=r._cell,i.attr("aria-label",t._ariaTemplate({current:n||r.current()})),t.element.attr("aria-activedescendant",i.attr("id")))}});e.plugin(wt)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n){function rt(n,t){var i=n.x.location,r=n.y.location,u=t.x.location,f=t.y.location,e=i-u,o=r-f;return{center:{x:(i+u)/2,y:(r+f)/2},distance:Math.sqrt(e*e+o*o)}}function h(n){var t=[],r=n.originalEvent,f=n.currentTarget,e=0,s,o,u;if(n.api)t.push({id:2,event:n,target:n.target,currentTarget:n.target,location:n,type:"api"});else if(n.type.match(/touch/))for(o=r?r.changedTouches:[],s=o.length;e<s;e++)u=o[e],t.push({location:u,event:n,target:u.target,currentTarget:f,id:u.identifier,type:"touch"});else i.pointers||i.msPointers?t.push({location:r,event:n,target:n.target,currentTarget:f,id:r.pointerId,type:"pointer"}):t.push({id:1,event:n,target:n.target,currentTarget:f,location:n,type:"mouse"});return t}function ft(n){for(var r=t.eventMap.up.split(" "),i=0,u=r.length;i<u;i++)n(r[i])}var t=window.kendo,i=t.support,et=window.document,c=t.Class,l=t.Observable,u=n.now,f=n.extend,a=i.mobileOS,ot=a&&a.android,v=800,y=i.browser.msie?5:0,p="press",w="hold",b="select",k="start",e="move",o="end",d="cancel",s="tap",g="release",st="gesturestart",nt="gesturechange",tt="gestureend",it="gesturetap",ht={api:0,touch:0,mouse:9,pointer:9},ct=!i.touch||i.mouseAndTouchPresent,ut=c.extend({init:function(n,t){var i=this;i.axis=n;i._updateLocationData(t);i.startLocation=i.location;i.velocity=i.delta=0;i.timeStamp=u()},move:function(n){var t=this,i=n["page"+t.axis],r=u(),f=r-t.timeStamp||1;(i||!ot)&&(t.delta=i-t.location,t._updateLocationData(n),t.initialDelta=i-t.startLocation,t.velocity=t.delta/f,t.timeStamp=r)},_updateLocationData:function(n){var t=this,i=t.axis;t.location=n["page"+i];t.client=n["client"+i];t.screen=n["screen"+i]}}),lt=c.extend({init:function(n,t,i){f(this,{x:new ut("X",i.location),y:new ut("Y",i.location),type:i.type,threshold:n.threshold||ht[i.type],userEvents:n,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(n.proxy(this,"_hold"),this.userEvents.minHold);this._trigger(p,this.pressEvent)},_hold:function(){this._trigger(w,this.pressEvent)},move:function(n){var t=this;if(!t._finished){if(t.x.move(n.location),t.y.move(n.location),!t._moved){if(t._withinIgnoreThreshold())return;if(r.current&&r.current!==t.userEvents)return t.dispose();t._start(n)}t._finished||t._trigger(e,n)}},end:function(n){var t=this;(t.endTime=u(),t._finished)||(t._finished=!0,t._trigger(g,n),t._moved?t._trigger(o,n):t._trigger(s,n),clearTimeout(t._holdTimeout),t.dispose())},dispose:function(){var i=this.userEvents,t=i.touches;this._finished=!0;this.pressEvent=null;clearTimeout(this._holdTimeout);t.splice(n.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(n){clearTimeout(this._holdTimeout);this.startTime=u();this._moved=!0;this._trigger(k,n)},_trigger:function(n,t){var i=this,r=t.event,u={touch:i,x:i.x,y:i.y,target:i.target,event:r};i.userEvents.notify(n,u)&&r.preventDefault()},_withinIgnoreThreshold:function(){var n=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(n*n+t*t)<=this.threshold}}),r=l.extend({init:function(r,u){var h=this,a,c=t.guid(),rt,ut;u=u||{};a=h.filter=u.filter;h.threshold=u.threshold||y;h.minHold=u.minHold||v;h.touches=[];h._maxTouches=u.multiTouch?2:1;h.allowSelection=u.allowSelection;h.captureUpIfMoved=u.captureUpIfMoved;h.eventNS=c;r=n(r).handler(h);l.fn.init.call(h);f(h,{element:r,surface:u.global&&ct?n(et.documentElement):n(u.surface||r),stopPropagation:u.stopPropagation,pressed:!1});h.surface.handler(h).on(t.applyEventMap("move",c),"_move").on(t.applyEventMap("up cancel",c),"_end");r.on(t.applyEventMap("down",c),a,"_start");if((i.pointers||i.msPointers)&&r.css("-ms-touch-action","pinch-zoom double-tap-zoom"),u.preventDragEvent)r.on(t.applyEventMap("dragstart",c),t.preventDefault);r.on(t.applyEventMap("mousedown",c),a,{root:r},"_select");h.captureUpIfMoved&&i.eventCapture&&(rt=h.surface[0],ut=n.proxy(h.preventIfMoving,h),ft(function(n){rt.addEventListener(n,ut,!0)}));h.bind([p,w,s,k,e,o,g,d,st,nt,tt,it,b],u)},preventIfMoving:function(n){this._isMoved()&&n.preventDefault()},destroy:function(){var n=this,t;n._destroyed||(n._destroyed=!0,n.captureUpIfMoved&&i.eventCapture&&(t=n.surface[0],ft(function(i){t.removeEventListener(i,n.preventIfMoving)})),n.element.kendoDestroy(n.eventNS),n.surface.kendoDestroy(n.eventNS),n.element.removeData("handler"),n.surface.removeData("handler"),n._disposeAll(),n.unbind(),delete n.surface,delete n.element,delete n.currentTarget)},capture:function(){r.current=this},cancel:function(){this._disposeAll();this.trigger(d)},notify:function(n,t){var r=this,i=r.touches;if(this._isMultiTouch()){switch(n){case e:n=nt;break;case o:n=tt;break;case s:n=it}f(t,{touches:i},rt(i[0],i[1]))}return this.trigger(n,f(t,{type:n}))},press:function(n,t,i){this._apiCall("_start",n,t,i)},move:function(n,t){this._apiCall("_move",n,t)},end:function(n,t){this._apiCall("_end",n,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var n=this.touches;n.length>0;)n.pop().dispose()},_isMoved:function(){return n.grep(this.touches,function(n){return n.isMoved()}).length},_select:function(n){(!this.allowSelection||this.trigger(b,{event:n}))&&n.preventDefault()},_start:function(t){var i=this,f=0,c=i.filter,e,o=h(t),l=o.length,u,s=t.which;if((!s||!(s>1))&&!i._maxTouchesReached())for(r.current=null,i.currentTarget=t.currentTarget,i.stopPropagation&&t.stopPropagation();f<l;f++){if(i._maxTouchesReached())break;(u=o[f],e=c?n(u.currentTarget):i.element,e.length)&&(u=new lt(i,e,u),i.touches.push(u),u.press(),i._isMultiTouch()&&i.notify("gesturestart",{}))}},_move:function(n){this._eachTouch("move",n)},_end:function(n){this._eachTouch("end",n)},_eachTouch:function(n,t){for(var c=this,e={},o=h(t),s=c.touches,r,u,f,i=0;i<s.length;i++)r=s[i],e[r.id]=r;for(i=0;i<o.length;i++)u=o[i],f=e[u.id],f&&f[n](u)},_apiCall:function(t,i,r,u){this[t]({api:!0,pageX:i,pageY:r,clientX:i,clientY:r,target:n(u||this.element)[0],stopPropagation:n.noop,preventDefault:n.noop})}});r.defaultThreshold=function(n){y=n};r.minHold=function(n){v=n};t.getTouches=h;t.touchDelta=rt;t.UserEvents=r}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.userevents"],n)}(function(){return function(n,t){function ut(n,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+n+'" title="'+t+'">'+t+"<\/span><\/span>"}var r=window.kendo,s=r.caret,e=r.keys,y=r.ui,h=y.Widget,ft=r._activeElement,et=r._extractFormat,ot=r.parseFloat,st=r.support.placeholder,ht=r.getCulture,p=r._round,c="change",w="disabled",b="readonly",ct="k-input",k="spin",u=".kendoNumericTextBox",lt="touchend",at="mouseleave"+u,d="mouseenter"+u+" "+at,l="k-state-default",g="k-state-focused",nt="k-state-hover",tt="focus",f=".",a="k-state-selected",v="k-state-disabled",it="aria-disabled",rt="aria-readonly",vt=/^(-)?(\d*)$/,i=null,o=n.proxy,yt=n.extend,pt=h.extend({init:function(f,e){var s=this,p=e&&e.step!==t,c,l,a,v,y;if(h.fn.init.call(s,f,e),e=s.options,f=s.element.on("focusout"+u,o(s._focusout,s)).attr("role","spinbutton"),e.placeholder=e.placeholder||f.attr("placeholder"),s._initialOptions=yt({},e),s._reset(),s._wrapper(),s._arrows(),s._input(),r.support.mobileOS)s._text.on(lt+u+" "+tt+u,function(){s._toggleText(!1);f.focus()});else s._text.on(tt+u,o(s._click,s));c=s.min(f.attr("min"));l=s.max(f.attr("max"));a=s._parse(f.attr("step"));e.min===i&&c!==i&&(e.min=c);e.max===i&&l!==i&&(e.max=l);p||a===i||(e.step=a);f.attr("aria-valuemin",e.min).attr("aria-valuemax",e.max);e.format=et(e.format);v=e.value;s.value(v!==i?v:f.val());y=f.is("[disabled]")||n(s.element).parents("fieldset").is(":disabled");y?s.enable(!1):s.readonly(f.is("[readonly]"));r.notify(s)},options:{name:"NumericTextBox",decimals:i,min:i,max:i,value:i,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[c,k],_editable:function(n){var t=this,f=t.element,i=n.disable,r=n.readonly,e=t._text.add(f),s=t._inputWrapper.off(d);if(t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),f.off("keydown"+u).off("keypress"+u).off("paste"+u),r||i)s.addClass(i?v:l).removeClass(i?l:v),e.attr(w,i).attr(b,r).attr(it,i).attr(rt,r);else{s.addClass(l).removeClass(v).on(d,t._toggleHover);e.removeAttr(w).removeAttr(b).attr(it,!1).attr(rt,!1);t._upArrowEventHandler.bind("press",function(n){n.preventDefault();t._spin(1);t._upArrow.addClass(a)});t._downArrowEventHandler.bind("press",function(n){n.preventDefault();t._spin(-1);t._downArrow.addClass(a)});t.element.on("keydown"+u,o(t._keydown,t)).on("keypress"+u,o(t._keypress,t)).on("paste"+u,o(t._paste,t))}},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},destroy:function(){var n=this;n.element.add(n._text).add(n._upArrow).add(n._downArrow).add(n._inputWrapper).off(u);n._upArrowEventHandler.destroy();n._downArrowEventHandler.destroy();n._form&&n._form.off("reset",n._resetHandler);h.fn.destroy.call(n)},min:function(n){return this._option("min",n)},max:function(n){return this._option("max",n)},step:function(n){return this._option("step",n)},value:function(n){var i=this,r;if(n===t)return i._value;(n=i._parse(n),r=i._adjust(n),n===r)&&(i._update(n),i._old=i._value)},focus:function(){this._focusin()},_adjust:function(n){var f=this,u=f.options,t=u.min,r=u.max;return n===i?n:(t!==i&&n<t?n=t:r!==i&&n>r&&(n=r),n)},_arrows:function(){var t=this,i,f=function(){clearTimeout(t._spinning);i.removeClass(a)},u=t.options,e=u.spinners,o=t.element;i=o.siblings(".k-icon");i[0]||(i=n(ut("n",u.upArrowText)+ut("s",u.downArrowText)).insertAfter(o),i.wrapAll('<span class="k-select"/>'));e||(i.parent().toggle(e),t._inputWrapper.addClass("k-expand-padding"));t._upArrow=i.eq(0);t._upArrowEventHandler=new r.UserEvents(t._upArrow,{release:f});t._downArrow=i.eq(1);t._downArrowEventHandler=new r.UserEvents(t._downArrow,{release:f})},_blur:function(){var n=this;n._toggleText(!0);n._change(n.element.val())},_click:function(n){var t=this;clearTimeout(t._focusing);t._focusing=setTimeout(function(){var o=n.target,a=s(o)[0],h=o.value.substring(0,a),c=t._format(t.options.format),i=c[","],r,l,u,e=0;i&&(l=new RegExp("\\"+i,"g"),u=new RegExp("([\\d\\"+i+"]+)(\\"+c[f]+")?(\\d+)?"));u&&(r=u.exec(h));r&&(e=r[0].replace(l,"").length,h.indexOf("(")!=-1&&t._value<0&&e++);t._focusin();s(t.element[0],e)})},_change:function(n){var t=this;t._update(n);n=t._value;t._old!=n&&(t._old=n,t._typing||t.element.trigger(c),t.trigger(c));t._typing=!1},_culture:function(n){return n||ht(this.options.culture)},_focusin:function(){var n=this;n._inputWrapper.addClass(g);n._toggleText(!1);n.element[0].focus()},_focusout:function(){var n=this;clearTimeout(n._focusing);n._inputWrapper.removeClass(g).removeClass(nt);n._blur()},_format:function(n,t){var i=this._culture(t).numberFormat;return n=n.toLowerCase(),n.indexOf("c")>-1?i=i.currency:n.indexOf("p")>-1&&(i=i.percent),i},_input:function(){var r=this,u="k-formatted-value",t=r.element.addClass(ct).show()[0],e=t.accessKey,o=r.wrapper,i;i=o.find(f+u);i[0]||(i=n('<input type="text"/>').insertBefore(t).addClass(u));try{t.setAttribute("type","text")}catch(s){t.type="text"}i[0].tabIndex=t.tabIndex;i[0].style.cssText=t.style.cssText;i[0].title=t.title;i.prop("placeholder",r.options.placeholder);e&&(i.attr("accesskey",e),t.accessKey="");r._text=i.addClass(t.className)},_keydown:function(n){var t=this,i=n.keyCode;t._key=i;i==e.DOWN?t._step(-1):i==e.UP?t._step(1):i==e.ENTER?t._change(t.element.val()):t._typing=!0},_keypress:function(n){if(n.which!==0&&!n.metaKey&&!n.ctrlKey&&n.keyCode!==e.BACKSPACE&&n.keyCode!==e.ENTER){var t=this,h=t.options.min,r=t.element,c=s(r),l=c[0],y=c[1],u=String.fromCharCode(n.which),a=t._format(t.options.format),v=t._key===e.NUMPAD_DOT,i=r.val(),o;v&&(u=a[f]);i=i.substring(0,l)+u+i.substring(y);o=t._numericRegex(a).test(i);o&&v?(r.val(i),s(r,l+u.length),n.preventDefault()):(h!==null&&h>=0&&i.charAt(0)==="-"||!o)&&n.preventDefault();t._key=0}},_numericRegex:function(n){var r=this,t=n[f],u=r.options.decimals;return(t===f&&(t="\\"+t),u===i&&(u=n.decimals),u===0)?vt:(r._separator!==t&&(r._separator=t,r._floatRegExp=new RegExp("^(-)?(((\\d+("+t+"\\d*)?)|("+t+"\\d*)))?$")),r._floatRegExp)},_paste:function(n){var t=this,r=n.target,u=r.value;setTimeout(function(){t._parse(r.value)===i&&t._update(u)})},_option:function(n,i){var r=this,u=r.options;if(i===t)return u[n];(i=r._parse(i),i||n!=="step")&&(u[n]=i,r.element.attr("aria-value"+n,i).attr(n,i))},_spin:function(n,t){var i=this;t=t||500;clearTimeout(i._spinning);i._spinning=setTimeout(function(){i._spin(n,50)},t);i._step(n)},_step:function(n){var t=this,i=t.element,r=t._parse(i.val())||0;ft()!=i[0]&&t._focusin();r+=t.options.step*n;t._update(t._adjust(r));t._typing=!1;t.trigger(k)},_toggleHover:function(t){n(t.currentTarget).toggleClass(nt,t.type==="mouseenter")},_toggleText:function(n){var t=this;t._text.toggle(n);t.element.toggle(!n)},_parse:function(n,t){return ot(n,this._culture(t),this.options.format)},_update:function(n){var t=this,s=t.options,h=s.format,u=s.decimals,e=t._culture(),c=t._format(h,e),o;u===i&&(u=c.decimals);n=t._parse(n,e);o=n!==i;o&&(n=parseFloat(p(n,u)));t._value=n=t._adjust(n);t._placeholder(r.toString(n,h,e));o?(n=n.toString(),n.indexOf("e")!==-1&&(n=p(+n,u)),n=n.replace(f,c[f])):n="";t.element.val(n).attr("aria-valuenow",n)},_placeholder:function(n){this._text.val(n);st||n||this._text.val(this.options.placeholder)},_wrapper:function(){var i=this,r=i.element,u=r[0],t;t=r.parents(".k-numerictextbox");t.is("span.k-numerictextbox")||(t=r.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent());t[0].style.cssText=u.style.cssText;u.style.width="";i.wrapper=t.addClass("k-widget k-numerictextbox").addClass(u.className).css("display","");i._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(i[0].value);t.max(t._initialOptions.max);t.min(t._initialOptions.min)})},t._form=u.on("reset",t._resetHandler))}});y.plugin(pt)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n){function tt(i){var r=t.ui.validator.ruleResolvers||{},u={},f;for(f in r)n.extend(!0,u,r[f].resolve(i));return u}function it(n){return n.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function rt(n){return(n=(n+"").split("."),n.length>1)?n[1].length:0}function ut(t){return n.parseHTML?n(n.parseHTML(t)):n(t)}function ft(i,r){for(var e=n(),u,o,f=0,s=i.length;f<s;f++)u=i[f],p.test(u.className)&&(o=u.getAttribute(t.attr("for")),o===r&&(e=e.add(u)));return e}var t=window.kendo,f=t.ui.Widget,i=".kendoValidator",r="k-invalid-msg",p=new RegExp(r,"i"),w="k-invalid",b="k-valid",k=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,d=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,u=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",o=":checkbox:not([disabled],[readonly])",e="[type=number],[type=range]",s="blur",h="name",c="form",l="novalidate",g=n.proxy,a=function(n,t){return typeof t=="string"&&(t=new RegExp("^(?:"+t+")$")),t.test(n)},v=function(n,t,i){var r=n.val();return n.filter(t).length&&r!==""?a(r,i):!0},nt=function(n,t){return n.length?n[0].attributes[t]!=null:!1},y;t.ui.validator||(t.ui.validator={rules:{},messages:{}});y=f.extend({init:function(i,r){var e=this,s=tt(i),h="["+t.attr("validate")+"!=false]";r=r||{};r.rules=n.extend({},t.ui.validator.rules,s.rules,r.rules);r.messages=n.extend({},t.ui.validator.messages,s.messages,r.messages);f.fn.init.call(e,i,r);e._errorTemplate=t.template(e.options.errorTemplate);e.element.is(c)&&e.element.attr(l,l);e._inputSelector=u+h;e._checkboxSelector=o+h;e._errors={};e._attachEvents();e._isValidated=!1},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> <\/span> #=message#<\/span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(n){var i=n.filter("[type=checkbox]").length&&!n.is(":checked"),t=n.val();return!(nt(n,"required")&&(t===""||!t||i))},pattern:function(n){return n.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&n.val()!==""?a(n.val(),n.attr("pattern")):!0},min:function(n){if(n.filter(e+",["+t.attr("type")+"=number]").filter("[min]").length&&n.val()!==""){var i=parseFloat(n.attr("min"))||0,r=t.parseFloat(n.val());return i<=r}return!0},max:function(n){if(n.filter(e+",["+t.attr("type")+"=number]").filter("[max]").length&&n.val()!==""){var i=parseFloat(n.attr("max"))||0,r=t.parseFloat(n.val());return i>=r}return!0},step:function(n){if(n.filter(e+",["+t.attr("type")+"=number]").filter("[step]").length&&n.val()!==""){var f=parseFloat(n.attr("min"))||0,i=parseFloat(n.attr("step"))||1,o=parseFloat(n.val()),r=rt(i),u;return r?(u=Math.pow(10,r),Math.floor((o-f)*u)%(i*u)/Math.pow(100,r)==0):(o-f)%i==0}return!0},email:function(n){return v(n,"[type=email],["+t.attr("type")+"=email]",k)},url:function(n){return v(n,"[type=url],["+t.attr("type")+"=url]",d)},date:function(n){return n.filter("[type^=date],["+t.attr("type")+"=date]").length&&n.val()!==""?t.parseDate(n.val(),n.attr(t.attr("format")))!==null:!0}},validateOnBlur:!0},destroy:function(){f.fn.destroy.call(this);this.element.off(i)},value:function(){return this._isValidated?this.errors().length===0:!1},_submit:function(n){return this.validate()?!0:(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!1)},_checkElement:function(n){var t=this.value();this.validateInput(n);this.value()!==t&&this.trigger("change")},_attachEvents:function(){var t=this;if(t.element.is(c))t.element.on("submit"+i,g(t._submit,t));if(t.options.validateOnBlur)if(t.element.is(u)){t.element.on(s+i,function(){t._checkElement(t.element)});if(t.element.is(o))t.element.on("click"+i,function(){t._checkElement(t.element)})}else{t.element.on(s+i,t._inputSelector,function(){t._checkElement(n(this))});t.element.on("click"+i,t._checkboxSelector,function(){t._checkElement(n(this))})}},validate:function(){var i,t,n=!1,f,e=this.value(),r;if(this._errors={},this.element.is(u))n=this.validateInput(this.element);else{for(r=!1,i=this.element.find(this._inputSelector),t=0,f=i.length;t<f;t++)this.validateInput(i.eq(t))||(r=!0);n=!r}return this.trigger("validate",{valid:n}),e!==n&&this.trigger("change"),n},validateInput:function(i){var f,c;i=n(i);this._isValidated=!0;var u=this,v=u._errorTemplate,l=u._checkValidity(i),o=l.valid,y="."+r,e=i.attr(h)||"",a=u._findMessageContainer(e).add(i.next(y).filter(function(){var i=n(this);return i.filter("["+t.attr("for")+"]").length?i.attr(t.attr("for"))===e:!0})).hide(),s;return i.removeAttr("aria-invalid"),o?delete u._errors[e]:(s=u._extractMessage(i,l.key),u._errors[e]=s,f=ut(v({message:it(s)})),c=a.attr("id"),u._decorateMessageContainer(f,e),c&&f.attr("id",c),a.replaceWith(f).length||f.insertAfter(i),f.show(),i.attr("aria-invalid",!0)),i.toggleClass(w,!o),i.toggleClass(b,o),o},hideMessages:function(){var i=this,t="."+r,n=i.element;n.is(u)?n.next(t).hide():n.find(t).hide()},_findMessageContainer:function(i){for(var f=t.ui.validator.messageLocators,e,r=n(),u=0,o=this.element.length;u<o;u++)r=r.add(ft(this.element[u].getElementsByTagName("*"),i));for(e in f)r=r.add(f[e].locate(this.element,i));return r},_decorateMessageContainer:function(n,i){var u=t.ui.validator.messageLocators,f;n.addClass(r).attr(t.attr("for"),i||"");for(f in u)u[f].decorate(n,i);n.attr("role","alert")},_extractMessage:function(n,i){var u=this,r=u.options.messages[i],f=n.attr(h);return r=t.isFunction(r)?r(n):r,t.format(n.attr(t.attr(i+"-msg"))||n.attr("validationMessage")||n.attr("title")||r||"",f,n.attr(i))},_checkValidity:function(n){var i=this.options.rules,t;for(t in i)if(!i[t].call(this,n))return{valid:!1,key:t};return{valid:!0}},errors:function(){var n=[],t=this._errors,i;for(i in t)n.push(t[i]);return n}});t.ui.plugin(y)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.data"],n)}(function(){return function(n,t){function b(t,u,f){return r.extend({init:function(n,t,i){var u=this;r.fn.init.call(u,n.element[0],t,i);u.widget=n;u._dataBinding=c(u.dataBinding,u);u._dataBound=c(u.dataBound,u);u._itemChange=c(u.itemChange,u)},itemChange:function(n){a(n.item[0],n.data,this._ns(n.ns),[n.data].concat(this.bindings[t]._parents()))},dataBinding:function(n){for(var u=this.widget,r=n.removedItems||u.items(),t=0,i=r.length;t<i;t++)p(r[t])},_ns:function(t){t=t||i.ui;var r=[i.ui,i.dataviz.ui,i.mobile.ui];return r.splice(n.inArray(t,r),1),r.unshift(t),i.rolesFromNamespaces(r)},dataBound:function(n){var r,o,s=this.widget,h=n.addedItems||s.items(),e=s[u],f,c,v=e.group()||[],l=i.data.HierarchicalDataSource;if((!l||!(e instanceof l))&&h.length)for(f=n.addedDataItems||e.flatView(),c=this.bindings[t]._parents(),r=0,o=f.length;r<o;r++)a(h[r],f[r],this._ns(n.ns),[f[r]].concat(c))},refresh:function(n){var e=this,o,r=e.widget;n=n||{};n.action||(e.destroy(),r.bind("dataBinding",e._dataBinding),r.bind("dataBound",e._dataBound),r.bind("itemChange",e._itemChange),o=e.bindings[t].get(),r[u]instanceof i.data.DataSource&&r[u]!=o&&(o instanceof i.data.DataSource?r[f](o):o&&o._dataSource?r[f](o._dataSource):(r[u].data(o),e.bindings.value&&(r instanceof i.ui.Select||r instanceof i.ui.MultiSelect)&&r.value(at(e.bindings.value.get(),r.options.dataValueField)))))},destroy:function(){var n=this.widget;n.unbind("dataBinding",this._dataBinding);n.unbind("dataBound",this._dataBound);n.unbind("itemChange",this._itemChange)}})}function pt(n,t){var r=i.initWidget(n,{},t);if(r)return new ft(r)}function st(n){var e={},i,o,r,u,s,t,f;for(f=n.match(et),i=0,o=f.length;i<o;i++)r=f[i],u=r.indexOf(":"),s=r.substring(0,u),t=r.substring(u+1),t.charAt(0)=="{"&&(t=st(t)),e[s]=t;return e}function y(n,t,i){var r,u={};for(r in n)u[r]=new i(t,n[r]);return u}function a(n,t,r,u){var w=n.getAttribute("data-"+i.ns+"role"),s,e=n.getAttribute("data-"+i.ns+"bind"),v=n.children,p=[],b=!0,o,l={},c;if(u=u||[t],(w||e)&&ct(n),w&&(c=pt(n,r)),e&&(e=st(e.replace(ot,"")),c||(l=i.parseOptions(n,{textField:"",valueField:"",template:"",valueUpdate:f,valuePrimitive:!1,autoBind:!0}),l.roles=r,c=new ut(n,l)),c.source=t,o=y(e,u,h),l.template&&(o.template=new yt(u,"",l.template)),o.click&&(e.events=e.events||{},e.events.click=e.click,o.click.destroy(),delete o.click),o.source&&(b=!1),e.attr&&(o.attr=y(e.attr,u,h)),e.style&&(o.style=y(e.style,u,h)),e.events&&(o.events=y(e.events,u,vt)),e.css&&(o.css=y(e.css,u,h)),c.bind(o)),c&&(n.kendoBindingTarget=c),b&&v){for(s=0;s<v.length;s++)p[s]=v[s];for(s=0;s<p.length;s++)a(p[s],t,r,u)}}function ht(t,r){var u,e,f,o=i.rolesFromNamespaces([].slice.call(arguments,2));for(r=i.observable(r),t=n(t),u=0,e=t.length;u<e;u++)f=t[u],f.nodeType===1&&a(f,r,o)}function ct(n){var t=n.kendoBindingTarget;t&&(t.destroy(),it?delete n.kendoBindingTarget:n.removeAttribute?n.removeAttribute("kendoBindingTarget"):n.kendoBindingTarget=null)}function p(n){ct(n);lt(n)}function lt(n){var i=n.children,t,r;if(i)for(t=0,r=i.length;t<r;t++)p(i[t])}function wt(t){var i,r;for(t=n(t),i=0,r=t.length;i<r;i++)p(t[i])}function bt(n,t){var i=n.element,r=i[0].kendoBindingTarget;r&&ht(i,r.source,t)}function at(n,t){var u=[],i=0,f,r;if(!t)return n;if(n instanceof e){for(f=n.length;i<f;i++)r=n[i],u[i]=r.get?r.get(t):r[t];n=u}else n instanceof o&&(n=n.get(t));return n}var i=window.kendo,kt=i.support.browser,w=i.Observable,o=i.data.ObservableObject,e=i.data.ObservableArray,k={}.toString,u={},dt=Array.prototype.slice,d=i.Class,c=n.proxy,s="value",g="source",nt="events",l="checked",tt="css",it=!0,f="change",et,ot;(function(){var n=document.createElement("a");try{delete n.test}catch(t){it=!1}})();var h=w.extend({init:function(n,t){var i=this;w.fn.init.call(i);i.source=n[0];i.parents=n;i.path=t;i.dependencies={};i.dependencies[t]=!0;i.observable=i.source instanceof w;i._access=function(n){i.dependencies[n.field]=!0};i.observable&&(i._change=function(n){i.change(n)},i.source.bind(f,i._change))},_parents:function(){var t=this.parents,i=this.get(),r;return i&&typeof i.parent=="function"&&(r=i.parent(),n.inArray(r,t)<0&&(t=[r].concat(t))),t},change:function(n){var r,t,u=n.field,i=this;if(i.path==="this")i.trigger(f,n);else for(r in i.dependencies)if(r.indexOf(u)===0&&(t=r.charAt(u.length),!t||t==="."||t==="[")){i.trigger(f,n);break}},start:function(n){n.bind("get",this._access)},stop:function(n){n.unbind("get",this._access)},get:function(){var i=this,n=i.source,e=0,u=i.path,r=n;if(!i.observable)return r;for(i.start(i.source),r=n.get(u);r===t&&n;)n=i.parents[++e],n instanceof o&&(r=n.get(u));if(r===t)for(n=i.source;r===t&&n;)n=n.parent(),n instanceof o&&(r=n.get(u));return typeof r=="function"&&(e=u.lastIndexOf("."),e>0&&(n=n.get(u.substring(0,e))),i.start(n),r=n!==i.source?r.call(n,i.source):r.call(n),i.stop(n)),n&&n!==i.source&&(i.currentSource=n,n.unbind(f,i._change).bind(f,i._change)),i.stop(i.source),r},set:function(n){var t=this.currentSource||this.source,r=i.getter(this.path)(t);typeof r=="function"?t!==this.source?r.call(t,this.source,n):r.call(t,n):t.set(this.path,n)},destroy:function(){this.observable&&(this.source.unbind(f,this._change),this.currentSource&&this.currentSource.unbind(f,this._change));this.unbind()}}),vt=h.extend({get:function(){for(var n=this.source,i=this.path,r=0,t=n.get(i);!t&&n;)n=this.parents[++r],n instanceof o&&(t=n.get(i));return c(t,n)}}),yt=h.extend({init:function(n,t,i){var r=this;h.fn.init.call(r,n,t);r.template=i},render:function(n){var t;return this.start(this.source),t=i.render(this.template,n),this.stop(this.source),t}}),r=d.extend({init:function(n,t,i){this.element=n;this.bindings=t;this.options=i},bind:function(n,t){var i=this;n=t?n[t]:n;n.bind(f,function(n){i.refresh(t||n)});i.refresh(t)},destroy:function(){}}),v=r.extend({dataType:function(){var n=this.element.getAttribute("data-type")||this.element.type||"text";return n.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(n,t){return t=="date"?n=i.parseDate(n,"yyyy-MM-dd"):t=="datetime-local"?n=i.parseDate(n,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):t=="number"?n=i.parseFloat(n):t=="boolean"&&(n=n.toLowerCase(),n=i.parseFloat(n)!==null?Boolean(i.parseFloat(n)):n.toLowerCase()==="true"),n}});u.attr=r.extend({refresh:function(n){this.element.setAttribute(n,this.bindings.attr[n].get())}});u.css=r.extend({init:function(n,t,i){r.fn.init.call(this,n,t,i);this.classes={}},refresh:function(t){var i=n(this.element),r=this.bindings.css[t],u=this.classes[t]=r.get();u?i.addClass(t):i.removeClass(t)}});u.style=r.extend({refresh:function(n){this.element.style[n]=this.bindings.style[n].get()||""}});u.enabled=r.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}});u.readonly=r.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}});u.disabled=r.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}});u.events=r.extend({init:function(n,t,i){r.fn.init.call(this,n,t,i);this.handlers={}},refresh:function(t){var r=n(this.element),u=this.bindings.events[t],i=this.handlers[t];i&&r.off(t,i);i=this.handlers[t]=u.get();r.on(t,u.source,i)},destroy:function(){var i=n(this.element),t;for(t in this.handlers)i.off(t,this.handlers[t])}});u.text=r.extend({refresh:function(){var t=this.bindings.text.get(),r=this.element.getAttribute("data-format")||"";t==null&&(t="");n(this.element).text(i.toString(t,r))}});u.visible=r.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}});u.invisible=r.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}});u.html=r.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});u.value=v.extend({init:function(t,i,r){v.fn.init.call(this,t,i,r);this._change=c(this.change,this);this.eventName=r.valueUpdate||f;n(this.element).on(this.eventName,this._change);this._initChange=!1},change:function(){this._initChange=this.eventName!=f;this.bindings[s].set(this.parsedValue());this._initChange=!1},refresh:function(){var n,t;this._initChange||(n=this.bindings[s].get(),n==null&&(n=""),t=this.dataType(),t=="date"?n=i.toString(n,"yyyy-MM-dd"):t=="datetime-local"&&(n=i.toString(n,"yyyy-MM-ddTHH:mm:ss")),this.element.value=n);this._initChange=!1},destroy:function(){n(this.element).off(this.eventName,this._change)}});u.source=r.extend({init:function(n,t,u){r.fn.init.call(this,n,t,u);var f=this.bindings.source.get();f instanceof i.data.DataSource&&u.autoBind!==!1&&f.fetch()},refresh:function(n){var t=this,r=t.bindings.source.get();r instanceof e||r instanceof i.data.DataSource?(n=n||{},n.action=="add"?t.add(n.index,n.items):n.action=="remove"?t.remove(n.index,n.items):n.action!="itemchange"&&t.render()):t.render()},container:function(){var n=this.element;return n.nodeName.toLowerCase()=="table"&&(n.tBodies[0]||n.appendChild(document.createElement("tbody")),n=n.tBodies[0]),n},template:function(){var n=this.options,t=n.template,r=this.container().nodeName.toLowerCase();return t||(t=r=="select"?n.valueField||n.textField?i.format('<option value="#:{0}#">#:{1}#<\/option>',n.valueField||n.textField,n.textField||n.valueField):"<option>#:data#<\/option>":r=="tbody"?"<tr><td>#:data#<\/td><\/tr>":r=="ul"||r=="ol"?"<li>#:data#<\/li>":"#:data#",t=i.template(t)),t},add:function(t,r){var f=this.container(),s,u,h,e,o=f.cloneNode(!1),c=f.children[t];if(n(o).html(i.render(this.template(),r)),o.children.length)for(s=this.bindings.source._parents(),u=0,h=r.length;u<h;u++)e=o.children[0],f.insertBefore(e,c||null),a(e,r[u],this.options.roles,[r[u]].concat(s))},remove:function(n,t){for(var u=this.container(),r,i=0;i<t.length;i++)r=u.children[n],p(r),u.removeChild(r)},render:function(){var t=this.bindings.source.get(),f,r,o,u=this.container(),s=this.template();if(t instanceof i.data.DataSource&&(t=t.view()),t instanceof e||k.call(t)==="[object Array]"||(t=[t]),this.bindings.template){if(lt(u),n(u).html(this.bindings.template.render(t)),u.children.length)for(f=this.bindings.source._parents(),r=0,o=t.length;r<o;r++)a(u.children[r],t[r],this.options.roles,[t[r]].concat(f))}else n(u).html(i.render(s,t))}});u.input={checked:v.extend({init:function(t,i,r){v.fn.init.call(this,t,i,r);this._change=c(this.change,this);n(this.element).change(this._change)},change:function(){var u=this.element,n=this.value(),t,r,i;if(u.type=="radio")n=this.parsedValue(),this.bindings[l].set(n);else if(u.type=="checkbox")if(t=this.bindings[l].get(),t instanceof e){if(n=this.parsedValue(),n instanceof Date){for(i=0;i<t.length;i++)if(t[i]instanceof Date&&+t[i]==+n){r=i;break}}else r=t.indexOf(n);r>-1?t.splice(r,1):t.push(n)}else this.bindings[l].set(n)},refresh:function(){var n=this.bindings[l].get(),t=n,o=this.dataType(),r=this.element,f,u;if(r.type=="checkbox")if(t instanceof e){if(f=-1,n=this.parsedValue(),n instanceof Date){for(u=0;u<t.length;u++)if(t[u]instanceof Date&&+t[u]==+n){f=u;break}}else f=t.indexOf(n);r.checked=f>=0}else r.checked=t;else r.type=="radio"&&n!=null&&(o=="date"?n=i.toString(n,"yyyy-MM-dd"):o=="datetime-local"&&(n=i.toString(n,"yyyy-MM-ddTHH:mm:ss")),r.value===n.toString()&&(r.checked=!0))},value:function(){var n=this.element,t=n.value;return n.type=="checkbox"&&(t=n.checked),t},destroy:function(){n(this.element).off(f,this._change)}})};u.select={source:u.source.extend({refresh:function(r){var u=this,f=u.bindings.source.get();f instanceof e||f instanceof i.data.DataSource?(r=r||{},r.action=="add"?u.add(r.index,r.items):r.action=="remove"?u.remove(r.index,r.items):(r.action=="itemchange"||r.action===t)&&(u.render(),u.bindings.value&&u.bindings.value&&(u.element.value=at(u.bindings.value.get(),n(u.element).data("valueField"))))):u.render()}}),value:v.extend({init:function(t,i,r){v.fn.init.call(this,t,i,r);this._change=c(this.change,this);n(this.element).change(this._change)},parsedValue:function(){for(var f=this.dataType(),r=[],n,t,i=0,u=this.element.options.length;i<u;i++)t=this.element.options[i],t.selected&&(n=t.attributes.value,n=n&&n.specified?t.value:t.text,r.push(this._parseValue(n,f)));return r},change:function(){for(var u=[],v=this.element,f,l=this.options.valueField||this.options.textField,w=this.options.valuePrimitive,h,c,n,y,p,r=0,a=v.options.length;r<a;r++)h=v.options[r],h.selected&&(n=h.attributes.value,n=n&&n.specified?h.value:h.text,u.push(this._parseValue(n,this.dataType())));if(l)for(f=this.bindings.source.get(),f instanceof i.data.DataSource&&(f=f.view()),c=0;c<u.length;c++)for(r=0,a=f.length;r<a;r++)if(y=this._parseValue(f[r].get(l),this.dataType()),p=String(y)===u[c],p){u[c]=f[r];break}n=this.bindings[s].get();n instanceof e?n.splice.apply(n,[0,n.length].concat(u)):!w&&(n instanceof o||n===null||n===t||!l)?this.bindings[s].set(u[0]):this.bindings[s].set(u[0].get(l))},refresh:function(){var t,c=this.element,f=c.options,y=this.options.valuePrimitive,n=this.bindings[s].get(),r=n,l=this.options.valueField||this.options.textField,v=!1,a=this.dataType(),h,u;for(r instanceof e||(r=new e([n])),c.selectedIndex=-1,u=0;u<r.length;u++)for(n=r[u],l&&n instanceof o&&(n=n.get(l)),a=="date"?n=i.toString(r[u],"yyyy-MM-dd"):a=="datetime-local"&&(n=i.toString(r[u],"yyyy-MM-ddTHH:mm:ss")),t=0;t<f.length;t++)h=f[t].value,h===""&&n!==""&&(h=f[t].text),n!=null&&h==n.toString()&&(f[t].selected=!0,v=!0)},destroy:function(){n(this.element).off(f,this._change)}})};u.widget={events:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n;this.handlers={}},refresh:function(n){var i=this.bindings.events[n],t=this.handlers[n];t&&this.widget.unbind(n,t);t=i.get();this.handlers[n]=function(n){n.data=i.source;t(n);n.data===i.source&&delete n.data};this.widget.bind(n,this.handlers[n])},destroy:function(){var n;for(n in this.handlers)this.widget.unbind(n,this.handlers[n])}}),checked:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n;this._change=c(this.change,this);this.widget.bind(f,this._change)},change:function(){this.bindings[l].set(this.value())},refresh:function(){this.widget.check(this.bindings[l].get()===!0)},value:function(){var t=this.element,n=t.value;return(n=="on"||n=="off")&&(n=t.checked),n},destroy:function(){this.widget.unbind(f,this._change)}}),visible:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n},refresh:function(){var n=this.bindings.visible.get();this.widget.wrapper[0].style.display=n?"":"none"}}),invisible:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n},refresh:function(){var n=this.bindings.invisible.get();this.widget.wrapper[0].style.display=n?"none":""}}),enabled:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:b("source","dataSource","setDataSource"),value:r.extend({init:function(t,i,u){r.fn.init.call(this,t.element[0],i,u);this.widget=t;this._change=n.proxy(this.change,this);this.widget.first(f,this._change);var s=this.bindings.value.get();this._valueIsObservableObject=!u.valuePrimitive&&(s==null||s instanceof o);this._valueIsObservableArray=s instanceof e;this._initChange=!1},change:function(){var n=this.widget.value(),f=this.options.dataValueField||this.options.dataTextField,c=k.call(n)==="[object Array]",h=this._valueIsObservableObject,u,l,t=[],e,o,s,a,r;if(this._initChange=!0,f)if(this.bindings.source&&(r=this.bindings.source.get()),n===""&&(h||this.options.valuePrimitive))n=null;else{for((!r||r instanceof i.data.DataSource)&&(r=this.widget.dataSource.flatView()),c&&(l=n.length,t=n.slice(0)),s=0,a=r.length;s<a;s++)if(e=r[s],o=e.get(f),c){for(u=0;u<l;u++)if(o==t[u]){t[u]=e;break}}else if(o==n){n=h?e:o;break}t[0]&&(n=this._valueIsObservableArray?t:h||!f?t[0]:t[0].get(f))}this.bindings.value.set(n);this._initChange=!1},refresh:function(){if(!this._initChange){var i=this.widget,r=i.options,h=r.dataTextField,f=r.dataValueField||h,n=this.bindings.value.get(),u=r.text||"",s=0,c,l=[];if(n===t&&(n=null),f)if(n instanceof e){for(c=n.length;s<c;s++)l[s]=n[s].get(f);n=l}else n instanceof o&&(u=n.get(h),n=n.get(f));r.autoBind!==!1||r.cascadeFrom||!i.listView||i.listView.isBound()?i.value(n):(h!==f||u||(u=n),!u&&(n||n===0)&&r.valuePrimitive?i.value(n):i._preselect(n,u))}this._initChange=!1},destroy:function(){this.widget.unbind(f,this._change)}}),gantt:{dependencies:b("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:r.extend({init:function(t,i,u){r.fn.init.call(this,t.element[0],i,u);this.widget=t;this._change=n.proxy(this.change,this);this.widget.first(f,this._change);this._initChange=!1},change:function(){var r=this,i=r.bindings[s].get(),v=r.options.valuePrimitive,n=v?r.widget.value():r.widget.dataItems(),y=this.options.dataValueField||this.options.dataTextField;if(n=n.slice(0),r._initChange=!0,i instanceof e){for(var c=[],p=n.length,h=0,f=0,u=i[h],l=!1,w,o,a;u!==t;){for(a=!1,f=0;f<p;f++)if(v?l=n[f]==u:(o=n[f],o=o.get?o.get(y):o,l=o==(u.get?u.get(y):u)),l){n.splice(f,1);p-=1;a=!0;break}a?h+=1:(c.push(u),rt(i,h,1),w=h);u=i[h]}rt(i,i.length,0,n);c.length&&i.trigger("change",{action:"remove",items:c,index:w});n.length&&i.trigger("change",{action:"add",items:n,index:i.length-1})}else r.bindings[s].set(n);r._initChange=!1},refresh:function(){if(!this._initChange){var i=this.options,f=this.widget,s=i.dataValueField||i.dataTextField,n=this.bindings.value.get(),l=n,r=0,h,c=[],u;if(n===t&&(n=null),s)if(n instanceof e){for(h=n.length;r<h;r++)u=n[r],c[r]=u.get?u.get(s):u;n=c}else n instanceof o&&(n=n.get(s));i.autoBind!==!1||i.valuePrimitive===!0||f.listView.isBound()?f.value(n):f._preselect(l,n)}},destroy:function(){this.widget.unbind(f,this._change)}})},scheduler:{source:b("source","dataSource","setDataSource").extend({dataBound:function(n){var t,r,u=this.widget,f=n.addedItems||u.items(),i,e;if(f.length)for(i=n.addedDataItems||u.dataItems(),e=this.bindings.source._parents(),t=0,r=i.length;t<r;t++)a(f[t],i[t],this._ns(n.ns),[i[t]].concat(e))}})}};var rt=function(n,t,i,r){r=r||[];i=i||0;var f=r.length,s=n.length,o=[].slice.call(n,t+i),e=o.length,u;if(f){for(f=t+f,u=0;t<f;t++)n[t]=r[u],u++;n.length=f}else if(i)for(n.length=t,i+=t;t<i;)delete n[--i];if(e){for(e=t+e,u=0;t<e;t++)n[t]=o[u],u++;n.length=e}for(t=n.length;t<s;)delete n[t],t++},ut=d.extend({init:function(n,t){this.target=n;this.options=t;this.toDestroy=[]},bind:function(n){var t,u,f,e,o,h,r=this instanceof ft,i=this.binders();for(t in n)t==s?u=!0:t==g?f=!0:t!=nt||r?t==l?o=!0:t==tt?h=!0:this.applyBinding(t,n,i):e=!0;f&&this.applyBinding(g,n,i);u&&this.applyBinding(s,n,i);o&&this.applyBinding(l,n,i);e&&!r&&this.applyBinding(nt,n,i);h&&!r&&this.applyBinding(tt,n,i)},binders:function(){return u[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(n,t,i){var r=i[n]||u[n],e=this.toDestroy,o,f=t[n];if(r)if(r=new r(this.target,t,this.options),e.push(r),f instanceof h)r.bind(f),e.push(f);else for(o in f)r.bind(f,o),e.push(f[o]);else if(n!=="template")throw new Error("The "+n+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element");},destroy:function(){for(var i=this.toDestroy,n=0,t=i.length;n<t;n++)i[n].destroy()}}),ft=ut.extend({binders:function(){return u.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(n,t,i){var r=i[n]||u.widget[n],e=this.toDestroy,o,f=t[n];if(r)if(r=new r(this.target,t,this.target.options),e.push(r),f instanceof h)r.bind(f),e.push(f);else for(o in f)r.bind(f,o),e.push(f[o]);else throw new Error("The "+n+" binding is not supported by the "+this.target.options.name+" widget");}});et=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g;ot=/\s/g;i.unbind=wt;i.bind=ht;i.data.binders=u;i.data.Binder=r;i.notify=bt;i.observable=function(n){return n instanceof o||(n=new o(n)),n};i.observableHierarchy=function(n){function r(n){for(var i,t=0;t<n.length;t++)n[t]._initChildren(),i=n[t].children,i.fetch(),n[t].items=i.data(),r(n[t].items)}var t=i.data.HierarchicalDataSource.create(n);return t.fetch(),r(t.data()),t._data._dataSource=t,t._data}}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.datepicker","./kendo.numerictextbox","./kendo.validator","./kendo.binder"],n)}(function(){return function(n,t){function a(t){return t=t!=null?t:"",t.type||n.type(t)||"string"}function w(t){t.find(":input:not(:button, ["+i.attr("role")+"=upload], ["+i.attr("skip")+"], [type=file]), select").each(function(){var r=i.attr("bind"),t=this.getAttribute(r)||"",u=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",f=this.name;t.indexOf(u)===-1&&f&&(t+=(t.length?",":"")+u+f,n(this).attr(r,t))})}function r(n){var e=(n.model.fields||n.model)[n.field],h=a(e),c=e?e.validation:{},t,v=i.attr("type"),y=i.attr("bind"),r,f={name:n.field};for(t in c)r=c[t],s(t,l)>=0?f[v]=t:o(r)||(f[t]=u(r)?r.value||t:r),f[i.attr(t+"-msg")]=r.message;return s(h,l)>=0&&(f[v]=h),f[y]=(h==="boolean"?"checked:":"value:")+n.field,f}function b(n){var i,u,t,f,e,r;if(n&&n.length)for(r=[],i=0,u=n.length;i<u;i++)t=n[i],e=t.text||t.value||t,f=t.value==null?t.text||t:t.value,r[i]={text:e,value:f};return r}function v(n,t){var f=n?n.validation||{}:{},r,i;for(r in f)i=f[r],u(i)&&i.value&&(i=i.value),o(i)&&(t[r]=i)}var i=window.kendo,e=i.ui,f=e.Widget,y=n.extend,p=i.support.browser.msie&&i.support.browser.version<9,o=i.isFunction,u=n.isPlainObject,s=n.inArray,h=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,c="change",l=["url","email","number","date","boolean"],k={number:function(t,u){var f=r(u);n('<input type="text"/>').attr(f).appendTo(t).kendoNumericTextBox({format:u.format});n("<span "+i.attr("for")+'="'+u.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},date:function(t,u){var e=r(u),f=u.format;f&&(f=i._extractFormat(f));e[i.attr("format")]=f;n('<input type="text"/>').attr(e).appendTo(t).kendoDatePicker({format:u.format});n("<span "+i.attr("for")+'="'+u.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},string:function(t,i){var u=r(i);n('<input type="text" class="k-input k-textbox"/>').attr(u).appendTo(t)},boolean:function(t,i){var u=r(i);n('<input type="checkbox" />').attr(u).appendTo(t)},values:function(t,u){var f=r(u);n("<select "+i.attr("text-field")+'="text"'+i.attr("value-field")+'="value"'+i.attr("source")+"='"+i.stringify(b(u.values)).replace(/\'/g,"&apos;")+"'"+i.attr("role")+'="dropdownlist"/>').attr(f).appendTo(t);n("<span "+i.attr("for")+'="'+u.field+'" class="k-invalid-msg"/>').hide().appendTo(t)}},d=f.extend({init:function(t,i){var r=this;i.target&&(i.$angular=i.target.options.$angular);f.fn.init.call(r,t,i);r._validateProxy=n.proxy(r._validate,r);r.refresh()},events:[c],options:{name:"Editable",editors:k,clearContainer:!0,errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> <\/span>#=message#<div class="k-callout k-callout-n"><\/div><\/div>'},editor:function(n,t){var f=this,s=f.options.editors,e=u(n),c=e?n.field:n,v=f.options.model||{},p=e&&n.values,w=p?"values":a(t),l=e&&n.editor,r=l?n.editor:s[w],o=f.element.find("["+i.attr("container-for")+"="+c.replace(h,"\\$1")+"]");r=r?r:s.string;l&&typeof n.editor=="string"&&(r=function(t){t.append(n.editor)});o=o.length?o:f.element;r(o,y(!0,{},e?n:{field:c},{model:v}))},_validate:function(t){var r=this,u,s=t.value,l=r._validationEventInProgress,f={},e=i.attr("bind"),o=t.field.replace(h,"\\$1"),a=new RegExp("(value|checked)\\s*:\\s*"+o+"\\s*(,|$)");f[t.field]=t.value;u=n(":input["+e+'*="'+o+'"]',r.element).filter("["+i.attr("validate")+"!='false']").filter(function(){return a.test(n(this).attr(e))});u.length>1&&(u=u.filter(function(){var t=n(this);return!t.is(":radio")||t.val()==s}));try{r._validationEventInProgress=!0;r.validatable.validateInput(u)&&(l||!r.trigger(c,{values:f}))||t.preventDefault()}finally{r._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var n=this;n.angular("cleanup",function(){return{elements:n.element}});f.fn.destroy.call(n);n.options.model.unbind("set",n._validateProxy);i.unbind(n.element);n.validatable&&n.validatable.destroy();i.destroy(n.element);n.element.removeData("kendoValidator")},refresh:function(){var r=this,h,l,f=r.options.fields||[],e=r.options.clearContainer?r.element.empty():r.element,o=r.options.model||{},a={},s,k,c,y,b,d;for(n.isArray(f)||(f=[f]),h=0,l=f.length;h<l;h++)s=f[h],k=u(s),c=k?s.field:s,y=(o.fields||o)[c],v(y,a),r.editor(s,y);if(r.options.target&&r.angular("compile",function(){return{elements:e,data:[{dataItem:o}]}}),!l){b=o.fields||o;for(c in b)v(b[c],a)}w(e);r.validatable&&r.validatable.destroy();i.bind(e,r.options.model);r.options.model.unbind("set",r._validateProxy);r.options.model.bind("set",r._validateProxy);r.validatable=new i.ui.Validator(e,{validateOnBlur:!1,errorTemplate:r.options.errorTemplate||t,rules:a});d=e.find(":kendoFocusable").eq(0).focus();p&&d.focus()}});e.plugin(d)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.userevents"],n)}(function(){return function(n,t){function ii(t,i){try{return n.contains(t,i)||t==i}catch(r){return!1}}function w(n,t){return parseInt(n.css(t),10)||0}function ht(n,t){return Math.min(Math.max(n,t.min),t.max)}function ct(n,t){var i=k(n),r=i.left+w(n,"borderLeftWidth")+w(n,"paddingLeft"),u=i.top+w(n,"borderTopWidth")+w(n,"paddingTop"),f=r+n.width()-t.outerWidth(!0),e=u+n.height()-t.outerHeight(!0);return{x:{min:r,max:f},y:{min:u,max:e}}}function ri(i,r,u){for(var o,e,f=0,s=r&&r.length,h=u&&u.length;i&&i.parentNode;){for(f=0;f<s;f++)if(o=r[f],o.element[0]===i)return{target:o,targetElement:i};for(f=0;f<h;f++)if(e=u[f],n.contains(e.element[0],i)&&b.matchesSelector.call(i,e.options.filter))return{target:e,targetElement:i};i=i.parentNode}return t}function yt(n,t){var u=t.options.group,i=n[u],r;if(s.fn.destroy.call(t),i.length>1){for(r=0;r<i.length;r++)if(i[r]==t){i.splice(r,1);break}}else i.length=0,delete n[u]}function bt(n){var i=f.body,t,r,u;return n[0]===i?(r=i.scrollTop,u=i.scrollLeft,{top:r,left:u,bottom:r+v.height(),right:u+v.width()}):(t=n.offset(),t.bottom=t.top+n.height(),t.right=t.left+n.width(),t)}function kt(n){return n===f.body||n===f.documentElement||n===f}function dt(t){if(!t||kt(t))return n(f.body);for(var r=n(t)[0];!i.isScrollable(r)&&!kt(r);)r=r.parentNode;return n(r)}function gt(n,t,i){var u={x:0,y:0},r=50;return n-i.left<r?u.x=-(r-(n-i.left)):i.right-n<r&&(u.x=r-(i.right-n)),t-i.top<r?u.y=-(r-(t-i.top)):i.bottom-t<r&&(u.y=r-(i.bottom-t)),u}var i=window.kendo,b=i.support,f=window.document,v=n(window),ni=i.Class,s=i.ui.Widget,o=i.Observable,ti=i.UserEvents,u=n.proxy,r=n.extend,k=i.getOffset,y={},h={},c={},e,d=i.elementUnderCursor,tt="keyup",l="change",it="dragstart",rt="hold",ut="drag",ft="dragend",et="dragcancel",ot="hintDestroyed",g="dragenter",p="dragleave",st="drop",ui=o.extend({init:function(t,r){var f=this,e=t[0];f.capture=!1;e.addEventListener?(n.each(i.eventMap.down.split(" "),function(){e.addEventListener(this,u(f._press,f),!0)}),n.each(i.eventMap.up.split(" "),function(){e.addEventListener(this,u(f._release,f),!0)})):(n.each(i.eventMap.down.split(" "),function(){e.attachEvent(this,u(f._press,f))}),n.each(i.eventMap.up.split(" "),function(){e.attachEvent(this,u(f._release,f))}));o.fn.init.call(f);f.bind(["press","release"],r||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(n){var t=this;t.trigger("press");t.capture&&n.preventDefault()},_release:function(n){var t=this;t.trigger("release");t.capture&&(n.preventDefault(),t.cancelCapture())}}),lt=o.extend({init:function(t){var i=this;o.fn.init.call(i);i.forcedEnabled=!1;n.extend(i,t);i.scale=1;i.horizontal?(i.measure="offsetWidth",i.scrollSize="scrollWidth",i.axis="x"):(i.measure="offsetHeight",i.scrollSize="scrollHeight",i.axis="y")},makeVirtual:function(){n.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(n,t){(this._virtualMin!==n||this._virtualMax!==t)&&(this._virtualMin=n,this._virtualMax=t,this.update())},outOfBounds:function(n){return n>this.max||n<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(n){this.scale=n},update:function(n){var t=this,u=t.virtual?t._virtualMax:t.getTotal(),r=u*t.scale,i=t.getSize();(u!==0||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=i,t.total=r,t.min=Math.min(t.max,i-r),t.minScale=i/u,t.centerOffset=(r-i)/2,t.enabled=t.forcedEnabled||r>i,n||t.trigger(l,t))}}),fi=o.extend({init:function(n){var t=this;o.fn.init.call(t);t.x=new lt(r({horizontal:!0},n));t.y=new lt(r({horizontal:!1},n));t.container=n.container;t.forcedMinScale=n.minScale;t.maxScale=n.maxScale||100;t.bind(l,n)},rescale:function(n){this.x.rescale(n);this.y.rescale(n);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var n=this;n.x.update();n.y.update();n.enabled=n.x.enabled||n.y.enabled;n.minScale=n.forcedMinScale||Math.min(n.x.minScale,n.y.minScale);n.fitScale=Math.max(n.x.minScale,n.y.minScale);n.trigger(l)}}),at=o.extend({init:function(n){var t=this;r(t,n);o.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(n){var t=this,i=t.dimension,r=t.axis,u=t.movable,f=u[r]+n;i.enabled&&((f<i.min&&n<0||f>i.max&&n>0)&&(n*=t.resistance),u.translateAxis(r,n),t.trigger(l,t))}}),ei=ni.extend({init:function(n){var t=this,u,f,e,i;r(t,{elastic:!0},n);e=t.elastic?.5:0;i=t.movable;t.x=u=new at({axis:"x",dimension:t.dimensions.x,resistance:e,movable:i});t.y=f=new at({axis:"y",dimension:t.dimensions.y,resistance:e,movable:i});t.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(n){t.gesture=n;t.offset=t.dimensions.container.offset()},gesturechange:function(n){var h=t.gesture,c=h.center,l=n.center,r=n.distance/h.distance,v=t.dimensions.minScale,a=t.dimensions.maxScale,e,o,s;i.scale<=v&&r<1&&(r+=(1-r)*.8);i.scale*r>=a&&(r=a/i.scale);o=i.x+t.offset.left;s=i.y+t.offset.top;e={x:(o-c.x)*r+l.x-o,y:(s-c.y)*r+l.y-s};i.scaleWith(r);u.dragMove(e.x);f.dragMove(e.y);t.dimensions.rescale(i.scale);t.gesture=n;n.preventDefault()},move:function(n){n.event.target.tagName.match(/textarea|input/i)||(u.dimension.enabled||f.dimension.enabled?(u.dragMove(n.x.delta),f.dragMove(n.y.delta),n.preventDefault()):n.touch.skip())},end:function(n){n.preventDefault()}})}}),oi=b.transitions.prefix+"Transform",nt,vt,a,pt,wt;nt=b.hasHW3D?function(n,t,i){return"translate3d("+n+"px,"+t+"px,0) scale("+i+")"}:function(n,t,i){return"translate("+n+"px,"+t+"px) scale("+i+")"};vt=o.extend({init:function(t){var i=this;o.fn.init.call(i);i.element=n(t);i.element[0].style.webkitTransformOrigin="left top";i.x=0;i.y=0;i.scale=1;i._saveCoordinates(nt(i.x,i.y,i.scale))},translateAxis:function(n,t){this[n]+=t;this.refresh()},scaleTo:function(n){this.scale=n;this.refresh()},scaleWith:function(n){this.scale*=n;this.refresh()},translate:function(n){this.x+=n.x;this.y+=n.y;this.refresh()},moveAxis:function(n,t){this[n]=t;this.refresh()},moveTo:function(n){r(this,n);this.refresh()},refresh:function(){var n=this,r=n.x,u=n.y,t;n.round&&(r=Math.round(r),u=Math.round(u));t=nt(r,u,n.scale);t!=n.coordinates&&(i.support.browser.msie&&i.support.browser.version<10?(n.element[0].style.position="absolute",n.element[0].style.left=n.x+"px",n.element[0].style.top=n.y+"px"):n.element[0].style[oi]=t,n._saveCoordinates(t),n.trigger(l))},_saveCoordinates:function(n){this.coordinates=n}});a=s.extend({init:function(n,t){var i=this,r;s.fn.init.call(i,n,t);r=i.options.group;r in h?h[r].push(i):h[r]=[i]},events:[g,p,st],options:{name:"DropTarget",group:"default"},destroy:function(){yt(h,this)},_trigger:function(n,t){var i=this,u=y[i.options.group];if(u)return i.trigger(n,r({},t.event,{draggable:u,dropTarget:t.dropTarget}))},_over:function(n){this._trigger(g,n)},_out:function(n){this._trigger(p,n)},_drop:function(n){var t=this,i=y[t.options.group];i&&(i.dropped=!t._trigger(st,n))}});a.destroyGroup=function(n){var t=h[n]||c[n],i;if(t){for(i=0;i<t.length;i++)s.fn.destroy.call(t[i]);t.length=0;delete h[n];delete c[n]}};a._cache=h;pt=a.extend({init:function(n,t){var i=this,r;s.fn.init.call(i,n,t);r=i.options.group;r in c?c[r].push(i):c[r]=[i]},destroy:function(){yt(c,this)},options:{name:"DropTargetArea",group:"default",filter:null}});wt=s.extend({init:function(n,t){var i=this;s.fn.init.call(i,n,t);i._activated=!1;i.userEvents=new ti(i.element,{global:!0,allowSelection:!0,filter:i.options.filter,threshold:i.options.distance,start:u(i._start,i),hold:u(i._hold,i),move:u(i._drag,i),end:u(i._end,i),cancel:u(i._cancel,i),select:u(i._select,i)});i._afterEndHandler=u(i._afterEnd,i);i._captureEscape=u(i._captureEscape,i)},events:[rt,it,ut,ft,et,ot],options:{name:"Draggable",distance:i.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(n){var t=this;n.keyCode===i.keys.ESC&&(t._trigger(et,{event:n}),t.userEvents.cancel())},_updateHint:function(t){var r=this,i,o=r.options,u=r.boundaries,e=o.axis,f=r.options.cursorOffset;f?i={left:t.x.location+f.left,top:t.y.location+f.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,i=n.extend({},r.hintOffset));u&&(i.top=ht(i.top,u.y),i.left=ht(i.left,u.x));e==="x"?delete i.top:e==="y"&&delete i.left;r.hint.css(i)},_shouldIgnoreTarget:function(t){var i=this.options.ignore;return i&&n(t).is(i)},_select:function(n){this._shouldIgnoreTarget(n.event.target)||n.preventDefault()},_start:function(t){var r=this,u=r.options,s=u.container,e=u.hint,o;if(this._shouldIgnoreTarget(t.touch.initialTouch)||u.holdToDrag&&!r._activated){r.userEvents.cancel();return}r.currentTarget=t.target;r.currentTargetOffset=k(r.currentTarget);e&&(r.hint&&r.hint.stop(!0,!0).remove(),r.hint=i.isFunction(e)?n(e.call(r,r.currentTarget)):e,o=k(r.currentTarget),r.hintOffset=o,r.hint.css({position:"absolute",zIndex:2e4,left:o.left,top:o.top}).appendTo(f.body),r.angular("compile",function(){r.hint.removeAttr("ng-repeat");for(var i=n(t.target);!i.data("$$kendoScope")&&i.length;)i=i.parent();return{elements:r.hint.get(),scopeFrom:i.data("$$kendoScope")}}));y[u.group]=r;r.dropped=!1;s&&(r.boundaries=ct(s,r.hint));n(f).on(tt,r._captureEscape);r._trigger(it,t)&&(r.userEvents.cancel(),r._afterEnd());r.userEvents.capture()},_hold:function(n){this.currentTarget=n.target;this._trigger(rt,n)?this.userEvents.cancel():this._activated=!0},_drag:function(t){var u=this,i,f;t.preventDefault();i=this._elementUnderCursor(t);u._withDropTarget(i,function(i,u){if(!i){e&&(e._trigger(p,r(t,{dropTarget:n(e.targetElement)})),e=null);return}if(e){if(u===e.targetElement)return;e._trigger(p,r(t,{dropTarget:n(e.targetElement)}))}i._trigger(g,r(t,{dropTarget:n(u)}));e=r(i,{targetElement:u})});u._trigger(ut,r(t,{dropTarget:e,elementUnderCursor:i}));this.options.autoScroll&&(this._cursorElement!==i&&(this._scrollableParent=dt(i),this._cursorElement=i),this._scrollableParent[0]&&(f=gt(t.x.location,t.y.location,bt(this._scrollableParent)),this._scrollCompenstation=n.extend({},this.hintOffset),this._scrollVelocity=f,f.y===0&&f.x===0?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(n.proxy(this,"_autoScroll"),50))));u.hint&&u._updateHint(t)},_autoScroll:function(){var n=this._scrollableParent[0],t=this._scrollVelocity,i=this._scrollCompenstation,r,u,e;if(n){e=n===f.body;e?(r=f.body.offsetHeight>v.height(),u=f.body.offsetWidth>v.width()):(r=n.offsetHeight<=n.scrollHeight,u=n.offsetWidth<=n.scrollWidth);var h=n.scrollTop+t.y,o=r&&h>0&&h<n.scrollHeight,c=n.scrollLeft+t.x,s=u&&c>0&&c<n.scrollWidth;o&&(n.scrollTop+=t.y);s&&(n.scrollLeft+=t.x);e&&(s||o)&&(o&&(i.top+=t.y),s&&(i.left+=t.x),this.hint.css(i))}},_end:function(t){this._withDropTarget(this._elementUnderCursor(t),function(i,u){i&&(i._drop(r({},t,{dropTarget:n(u)})),e=null)});this._trigger(ft,t);this._cancel(t.event)},_cancel:function(){var n=this;n._scrollableParent=null;clearInterval(this._scrollInterval);n._activated=!1;n.hint&&!n.dropped?setTimeout(function(){n.hint.stop(!0,!0).animate(n.currentTargetOffset,"fast",n._afterEndHandler)},0):n._afterEnd()},_trigger:function(n,t){var i=this;return i.trigger(n,r({},t.event,{x:t.x,y:t.y,currentTarget:i.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(n){var t=d(n),i=this.hint;return i&&ii(i[0],t)&&(i.hide(),t=d(n),t||(t=d(n)),i.show()),t},_withDropTarget:function(n,t){var i,f=this.options.group,r=h[f],u=c[f];(r&&r.length||u&&u.length)&&(i=ri(n,r,u),i?t(i.target,i.targetElement):t())},destroy:function(){var n=this;s.fn.destroy.call(n);n._afterEnd();n.userEvents.destroy();this._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);n.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove();delete y[t.options.group];t.trigger("destroy");t.trigger(ot);n(f).off(tt,t._captureEscape)}});i.ui.plugin(a);i.ui.plugin(pt);i.ui.plugin(wt);i.TapCapture=ui;i.containerBoundaries=ct;r(i.ui,{Pane:ei,PaneDimensions:fi,Movable:vt});i.ui.Draggable.utils={autoScrollVelocity:gt,scrollableViewPort:bt,findScrollableParent:dt}}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.draganddrop"],n)}(function(){return function(n,t){function rt(n){return typeof n!="undefined"}function s(n,t,i){return Math.max(Math.min(parseInt(n,10),i===Infinity?i:parseInt(i,10)),parseInt(t,10))}function ri(n,t){return function(){var i=this,r=i.wrapper,u=r[0].style,o=i.options;return o.isMaximized||o.isMinimized?i:(i.restoreOptions={width:u.width,height:u.height},r.children(c).hide().end().children(f).find(gt).parent().hide().eq(0).before(e.action({name:"Restore"})),t.call(i),n=="maximize"?i.wrapper.children(f).find(ot).parent().hide():i.wrapper.children(f).find(ot).parent().show(),i)}}function ci(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function fi(n){var t=this;t.owner=n;t._draggable=new st(n.wrapper,{filter:">"+c,group:n.wrapper.id+"-resizing",dragstart:r(t.dragstart,t),drag:r(t.drag,t),dragend:r(t.dragend,t)});t._draggable.userEvents.bind("press",r(t.addOverlay,t));t._draggable.userEvents.bind("release",r(t.removeOverlay,t))}function ei(n,t){var i=this;i.owner=n;i._draggable=new st(n.wrapper,{filter:t,group:n.wrapper.id+"-moving",dragstart:r(i.dragstart,i),drag:r(i.drag,i),dragend:r(i.dragend,i),dragcancel:r(i.dragcancel,i)});i._draggable.userEvents.stopPropagation=!1}var i=window.kendo,k=i.ui.Widget,st=i.ui.Draggable,ht=n.isPlainObject,oi=i._activeElement,r=n.proxy,d=n.extend,si=n.each,h=i.template,g="body",e,u=".kendoWindow",l=".k-window",ut=".k-window-title",f=ut+"bar",o=".k-window-content",c=".k-resize-handle",nt=".k-overlay",p="k-content-frame",ct="k-loading",lt="k-state-hover",at="k-state-focused",vt="k-window-maximized",a=":visible",tt="hidden",v="cursor",ft="open",et="activate",yt="deactivate",pt="close",it="refresh",wt="resizeEnd",bt="dragstart",kt="dragend",dt="error",y="overflow",w="zIndex",gt=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",ni=".k-i-pin",ti=".k-i-unpin",ot=ni+","+ti,b=".k-window-titlebar .k-window-action",ii=".k-window-titlebar .k-i-refresh",hi=i.isLocalUrl,ui=k.extend({init:function(e,s){var h=this,c,w={},g,nt,v,it=!1,y,d,ot=s&&s.actions&&!s.actions.length,p;k.fn.init.call(h,e,s);s=h.options;v=s.position;e=h.element;y=s.content;ot&&(s.actions=[]);h.appendTo=n(s.appendTo);h._animations();y&&!ht(y)&&(y=s.content={url:y});e.find("script").filter(ci).remove();e.parent().is(h.appendTo)||v.top!==t&&v.left!==t||(e.is(a)?(w=e.offset(),it=!0):(g=e.css("visibility"),nt=e.css("display"),e.css({visibility:tt,display:""}),w=e.offset(),e.css({visibility:g,display:nt})),v.top===t&&(v.top=w.top),v.left===t&&(v.left=w.left));rt(s.visible)&&s.visible!==null||(s.visible=e.is(a));c=h.wrapper=e.closest(l);e.is(".k-content")&&c[0]||(e.addClass("k-window-content k-content"),h._createWindow(e,s),c=h.wrapper=e.closest(l),h._dimensions());h._position();s.pinned&&h.pin(!0);y&&h.refresh(y);s.visible&&h.toFront();d=c.children(o);h._tabindex(d);s.visible&&s.modal&&h._overlay(c.is(a)).css({opacity:.5});c.on("mouseenter"+u,b,r(h._buttonEnter,h)).on("mouseleave"+u,b,r(h._buttonLeave,h)).on("click"+u,"> "+b,r(h._windowActionHandler,h));d.on("keydown"+u,r(h._keydown,h)).on("focus"+u,r(h._focus,h)).on("blur"+u,r(h._blur,h));this._resizable();this._draggable();p=e.attr("id");p&&(p=p+"_wnd_title",c.children(f).children(ut).attr("id",p),d.attr({role:"dialog","aria-labelledby":p}));c.add(c.children(".k-resize-handle,"+f)).on("mousedown"+u,r(h.toFront,h));h.touchScroller=i.touchScroller(e);h._resizeHandler=r(h._onDocumentResize,h);h._marker=i.guid().substring(0,8);n(window).on("resize"+u+h._marker,h._resizeHandler);s.visible&&(h.trigger(ft),h.trigger(et));i.notify(h)},_buttonEnter:function(t){n(t.currentTarget).addClass(lt)},_buttonLeave:function(t){n(t.currentTarget).removeClass(lt)},_focus:function(){this.wrapper.addClass(at)},_blur:function(){this.wrapper.removeClass(at)},_dimensions:function(){var t=this.wrapper,n=this.options,r=n.width,u=n.height,e=n.maxHeight,o=["minWidth","minHeight","maxWidth","maxHeight"],i,f;for(this.title(n.title),i=0;i<o.length;i++)f=n[o[i]],f&&f!=Infinity&&t.css(o[i],f);e&&e!=Infinity&&this.element.css("maxHeight",e);r&&(r.toString().indexOf("%")>0?t.width(r):t.width(s(r,n.minWidth,n.maxWidth)));u&&(u.toString().indexOf("%")>0?t.height(u):t.height(s(u,n.minHeight,n.maxHeight)));n.visible||t.hide()},_position:function(){var t=this.wrapper,n=this.options.position;n.top===0&&(n.top=n.top.toString());n.left===0&&(n.left=n.left.toString());t.css({top:n.top||"",left:n.left||""})},_animations:function(){var n=this.options;n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resize:function(){i.resize(this.element.children())},_resizable:function(){var i=this.options.resizable,t=this.wrapper;if(this.resizing&&(t.off("dblclick"+u).children(c).remove(),this.resizing.destroy(),this.resizing=null),i){t.on("dblclick"+u,f,r(function(t){n(t.target).closest(".k-window-action").length||this.toggleMaximization()},this));si("n e s w se sw ne nw".split(" "),function(n,i){t.append(e.resizeHandle(i))});this.resizing=new fi(this)}t=null},_draggable:function(){var n=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null);n&&(this.dragging=new ei(this,n.dragHandle||f))},_actions:function(){var t=this.options.actions,r=this.wrapper.children(f),u=r.find(".k-window-actions");t=n.map(t,function(n){return{name:n}});u.html(i.render(e.action,t))},setOptions:function(n){k.fn.setOptions.call(this,n);this.restore();this._animations();this._dimensions();this._position();this._resizable();this._draggable();this._actions()},events:[ft,et,yt,pt,it,"resize",wt,bt,kt,dt],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:!1,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return n.inArray("close",n.map(this.options.actions,function(n){return n.toLowerCase()}))>-1},_keydown:function(n){var u=this,h=u.options,f=i.keys,e=n.keyCode,t=u.wrapper,c,r,o=10,p=u.options.isMaximized,v,y,l,a;n.target!=n.currentTarget||u._closing||(e==f.ESC&&u._closable()&&u._close(!1),!h.draggable||n.ctrlKey||p||(c=i.getOffset(t),e==f.UP?r=t.css("top",c.top-o):e==f.DOWN?r=t.css("top",c.top+o):e==f.LEFT?r=t.css("left",c.left-o):e==f.RIGHT&&(r=t.css("left",c.left+o))),h.resizable&&n.ctrlKey&&!p&&(e==f.UP?(r=!0,y=t.height()-o):e==f.DOWN&&(r=!0,y=t.height()+o),e==f.LEFT?(r=!0,v=t.width()-o):e==f.RIGHT&&(r=!0,v=t.width()+o),r&&(l=s(v,h.minWidth,h.maxWidth),a=s(y,h.minHeight,h.maxHeight),isNaN(l)||(t.width(l),u.options.width=l+"px"),isNaN(a)||(t.height(a),u.options.height=a+"px"),u.resize())),r&&n.preventDefault())},_overlay:function(t){var i=this.appendTo.children(nt),r=this.wrapper;return i.length||(i=n("<div class='k-overlay' />")),i.insertBefore(r[0]).toggle(t).css(w,parseInt(r.css(w),10)-1),i},_actionForIcon:function(n){var t=/\bk-i-\w+\b/.exec(n[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[t]},_windowActionHandler:function(t){if(!this._closing){var r=n(t.target).closest(".k-window-action").find(".k-icon"),i=this._actionForIcon(r);if(i)return t.preventDefault(),this[i](),!1}},_modals:function(){var t=this,i=n(l).filter(function(){var r=n(this),u=t._object(r),i=u&&u.options;return i&&i.modal&&i.visible&&r.is(a)}).sort(function(t,i){return+n(t).css("zIndex")-+n(i).css("zIndex")});return t=null,i},_object:function(n){var u=n.children(o),r=i.widgetInstance(u);return r instanceof ui?r:t},center:function(){var t=this,e=t.options.position,i=t.wrapper,r=n(window),o=0,s=0,u,f;return t.options.isMaximized?t:(t.options.pinned||(o=r.scrollTop(),s=r.scrollLeft()),f=s+Math.max(0,(r.width()-i.width())/2),u=o+Math.max(0,(r.height()-i.height()-parseInt(i.css("paddingTop"),10))/2),i.css({left:f,top:u}),e.top=u,e.left=f,t)},title:function(n){var i=this,r=i.wrapper,s=i.options,t=r.children(f),o=t.children(ut),u;return arguments.length?(n===!1?(r.addClass("k-window-titleless"),t.remove()):(t.length?o.html(n):(r.prepend(e.titlebar(s)),i._actions(),t=r.children(f)),u=t.outerHeight(),r.css("padding-top",u),t.css("margin-top",-u)),i.options.title=n,i):o.text()},content:function(n,t){var r=this.wrapper.children(o),u=r.children(".km-scroll-container");return(r=u[0]?u:r,!rt(n))?r.html():(this.angular("cleanup",function(){return{elements:r.children()}}),i.destroy(this.element.children()),r.empty().html(n),this.angular("compile",function(){for(var n=[],i=r.length;--i>=0;)n.push({dataItem:t});return{elements:r.children(),data:n}}),this)},open:function(){var t=this,e=t.wrapper,u=t.options,s=u.animation.open,l=e.children(o),f,c=n(document),h;return t.trigger(ft)||(t._closing&&e.kendoStop(!0,!0),t._closing=!1,t.toFront(),u.autoFocus&&t.element.focus(),u.visible=!0,u.modal&&(f=t._overlay(!1),f.kendoStop(!0,!0),s.duration&&i.effects.Fade?(h=i.fx(f).fadeIn(),h.duration(s.duration||0),h.endValue(.5),h.play()):f.css("opacity",.5),f.show()),e.is(a)||(l.css(y,tt),e.show().kendoStop().kendoAnimate({effects:s.effects,duration:s.duration,complete:r(this._activate,this)}))),u.isMaximized&&(t._documentScrollTop=c.scrollTop(),t._documentScrollLeft=c.scrollLeft(),n("html, body").css(y,tt)),t},_activate:function(){this.options.autoFocus&&this.element.focus();this.trigger(et);this.wrapper.children(o).css(y,"")},_removeOverlay:function(r){var f=this._modals(),e=this.options,s=e.modal&&!f.length,h=e.modal?this._overlay(!0):n(t),o=e.animation.close,u;s?!r&&o.duration&&i.effects.Fade?(u=i.fx(h).fadeOut(),u.duration(o.duration||0),u.startValue(.5),u.play()):this._overlay(!1).remove():f.length&&this._object(f.last())._overlay(!0)},_close:function(t){var i=this,u=i.wrapper,f=i.options,h=f.animation.open,e=f.animation.close,s=n(document);if(u.is(a)&&!i.trigger(pt,{userTriggered:!t})){if(i._closing)return;i._closing=!0;f.visible=!1;n(l).each(function(t,i){var r=n(i).children(o);i!=u&&r.find("> ."+p).length>0&&r.children(nt).remove()});this._removeOverlay();u.kendoStop().kendoAnimate({effects:e.effects||h.effects,reverse:e.reverse===!0,duration:e.duration,complete:r(this._deactivate,this)})}i.options.isMaximized&&(n("html, body").css(y,""),i._documentScrollTop&&i._documentScrollTop>0&&s.scrollTop(i._documentScrollTop),i._documentScrollLeft&&i._documentScrollLeft>0&&s.scrollLeft(i._documentScrollLeft))},_deactivate:function(){var n=this,t;n.wrapper.hide().css("opacity","");n.trigger(yt);n.options.modal&&(t=n._object(n._modals().last()),t&&t.toFront())},close:function(){return this._close(!0),this},_actionable:function(t){return n(t).is(b+","+b+" .k-icon,:input,a")},_shouldFocus:function(t){var r=oi(),i=this.element;return this.options.autoFocus&&!n(r).is(i)&&!this._actionable(t)&&(!i.find(r).length||!i.find(t).length)},toFront:function(t){var r=this,i=r.wrapper,h=i[0],u=+i.css(w),c=u,a=t&&t.target||null,f,s;return n(l).each(function(t,i){var r=n(i),f=r.css(w),s=r.children(o);isNaN(f)||(u=Math.max(+f,u));i!=h&&s.find("> ."+p).length>0&&s.append(e.overlay)}),(!i[0].style.zIndex||c<u)&&i.css(w,u+2),r.element.find("> .k-overlay").remove(),r._shouldFocus(a)&&(r.element.focus(),f=n(window).scrollTop(),s=parseInt(i.position().top,10),s>0&&s<f&&(f>0?n(window).scrollTop(s):i.css("top",f))),i=null,r},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var t=this,i=t.options,u=i.minHeight,r=t.restoreOptions,f=n(document);return!i.isMaximized&&!i.isMinimized?t:(u&&u!=Infinity&&t.wrapper.css("min-height",u),t.wrapper.css({position:i.pinned?"fixed":"absolute",left:r.left,top:r.top,width:r.width,height:r.height}).removeClass(vt).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(gt).parent().show().end().end().find(ot).parent().show(),t.options.width=r.width,t.options.height=r.height,n("html, body").css(y,""),this._documentScrollTop&&this._documentScrollTop>0&&f.scrollTop(this._documentScrollTop),this._documentScrollLeft&&this._documentScrollLeft>0&&f.scrollLeft(this._documentScrollLeft),i.isMaximized=i.isMinimized=!1,t.resize(),t)},maximize:ri("maximize",function(){var t=this,i=t.wrapper,r=i.position(),u=n(document);d(t.restoreOptions,{left:r.left,top:r.top});i.css({left:0,top:0,position:"fixed"}).addClass(vt);this._documentScrollTop=u.scrollTop();this._documentScrollLeft=u.scrollLeft();n("html, body").css(y,tt);t.options.isMaximized=!0;t._onDocumentResize()}),minimize:ri("minimize",function(){var n=this;n.wrapper.css({height:"",minHeight:""});n.element.hide();n.options.isMinimized=!0}),pin:function(t){var i=this,u=n(window),r=i.wrapper,e=parseInt(r.css("top"),10),o=parseInt(r.css("left"),10);!t&&(i.options.pinned||i.options.isMaximized)||(r.css({position:"fixed",top:e-u.scrollTop(),left:o-u.scrollLeft()}),r.children(f).find(ni).addClass("k-i-unpin").removeClass("k-i-pin"),i.options.pinned=!0)},unpin:function(){var t=this,r=n(window),i=t.wrapper,u=parseInt(i.css("top"),10),e=parseInt(i.css("left"),10);t.options.pinned&&!t.options.isMaximized&&(i.css({position:"",top:u+r.scrollTop(),left:e+r.scrollLeft()}),i.children(f).find(ti).addClass("k-i-pin").removeClass("k-i-unpin"),t.options.pinned=!1)},_onDocumentResize:function(){var t=this,f=t.wrapper,e=n(window),o=i.support.zoomLevel(),r,u;t.options.isMaximized&&(r=e.width()/o,u=e.height()/o-parseInt(f.css("padding-top"),10),f.css({width:r,height:u}),t.options.width=r,t.options.height=u,t.resize())},refresh:function(t){var i=this,o=i.options,s=n(i.element),c,f,l;if(ht(t)||(t={url:t}),t=d({},o.content,t),f=rt(o.iframe)?o.iframe:t.iframe,l=t.url,l)if(rt(f)||(f=!hi(l)),f){c=s.find("."+p)[0];c?c.src=l||c.src:s.html(e.contentFrame(d({},o,{content:t})));s.find("."+p).unbind("load"+u).on("load"+u,r(this._triggerRefresh,this))}else i._ajaxRequest(t);else t.template&&i.content(h(t.template)({})),i.trigger(it);return s.toggleClass("k-window-iframecontent",!!f),i},_triggerRefresh:function(){this.trigger(it)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(ii).removeClass(ct)},_ajaxError:function(n,t){this.trigger(dt,{status:t,xhr:n})},_ajaxSuccess:function(n){return function(t){var i=t;n&&(i=h(n)(t||{}));this.content(i,t);this.element.prop("scrollTop",0);this.trigger(it)}},_showLoading:function(){this.wrapper.find(ii).addClass(ct)},_ajaxRequest:function(t){this._loadingIconTimeout=setTimeout(r(this._showLoading,this),100);n.ajax(d({type:"GET",dataType:"html",cache:!1,error:r(this._ajaxError,this),complete:r(this._ajaxComplete,this),success:r(this._ajaxSuccess(t.template),this)},t))},_destroy:function(){this.resizing&&this.resizing.destroy();this.dragging&&this.dragging.destroy();this.wrapper.off(u).children(o).off(u).end().find(".k-resize-handle,.k-window-titlebar").off(u);n(window).off("resize"+u+this._marker);clearTimeout(this._loadingIconTimeout);k.fn.destroy.call(this);this.unbind(t);i.destroy(this.wrapper);this._removeOverlay(!0)},destroy:function(){this._destroy();this.wrapper.empty().remove();this.wrapper=this.appendTo=this.element=n()},_createWindow:function(){var t=this.element,u=this.options,f,r,o=i.support.isRtl(t);u.scrollable===!1&&t.attr("style","overflow:hidden;");r=n(e.wrapper(u));f=t.find("iframe:not(.k-content)").map(function(){var n=this.getAttribute("src");return this.src="",n});r.toggleClass("k-rtl",o).appendTo(this.appendTo).append(t).find("iframe:not(.k-content)").each(function(n){this.src=f[n]});r.find(".k-window-title").css(o?"left":"right",r.find(".k-window-actions").outerWidth()+10);t.css("visibility","").show();t.find("[data-role=editor]").each(function(){var t=n(this).data("kendoEditor");t&&t.refresh()});r=t=null}});e={wrapper:h("<div class='k-widget k-window' />"),action:h("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #<\/span><\/a>"),titlebar:h("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #<\/span><div class='k-window-actions' /><\/div>"),overlay:"<div class='k-overlay' />",contentFrame:h("<iframe frameborder='0' title='#= title #' class='"+p+"' src='#= content.url #'>This page requires frames in order to show content<\/iframe>"),resizeHandle:h("<div class='k-resize-handle k-resize-#= data #'><\/div>")};fi.prototype={addOverlay:function(){this.owner.wrapper.append(e.overlay)},removeOverlay:function(){this.owner.wrapper.find(nt).remove()},dragstart:function(t){var r=this,f=r.owner,u=f.wrapper;r.elementPadding=parseInt(u.css("padding-top"),10);r.initialPosition=i.getOffset(u,"position");r.resizeDirection=t.currentTarget.prop("className").replace("k-resize-handle k-resize-","");r.initialSize={width:u.width(),height:u.height()};r.containerOffset=i.getOffset(f.appendTo,"position");u.children(c).not(t.currentTarget).hide();n(g).css(v,t.currentTarget.css(v))},drag:function(n){var u=this,f=u.owner,e=f.wrapper,t=f.options,o=u.resizeDirection,h=u.containerOffset,c=u.initialPosition,v=u.initialSize,i,r,l,a,y=Math.max(n.x.location,h.left),p=Math.max(n.y.location,h.top);o.indexOf("e")>=0?(i=y-c.left,e.width(s(i,t.minWidth,t.maxWidth))):o.indexOf("w")>=0&&(a=c.left+v.width,i=s(a-y,t.minWidth,t.maxWidth),e.css({left:a-i-h.left,width:i}));o.indexOf("s")>=0?(r=p-c.top-u.elementPadding,e.height(s(r,t.minHeight,t.maxHeight))):o.indexOf("n")>=0&&(l=c.top+v.height,r=s(l-p,t.minHeight,t.maxHeight),e.css({top:l-r-h.top,height:r}));i&&(f.options.width=i+"px");r&&(f.options.height=r+"px");f.resize()},dragend:function(t){var r=this,i=r.owner,u=i.wrapper;return u.children(c).not(t.currentTarget).show(),n(g).css(v,""),i.touchScroller&&i.touchScroller.reset(),t.keyCode==27&&u.css(r.initialPosition).css(r.initialSize),i.trigger(wt),!1},destroy:function(){this._draggable&&this._draggable.destroy();this._draggable=this.owner=null}};ei.prototype={dragstart:function(t){var r=this.owner,u=r.element,f=u.find(".k-window-actions"),o=i.getOffset(r.appendTo);r.trigger(bt);r.initialWindowPosition=i.getOffset(r.wrapper,"position");r.startPosition={left:t.x.client-r.initialWindowPosition.left,top:t.y.client-r.initialWindowPosition.top};r.minLeftPosition=f.length>0?f.outerWidth()+parseInt(f.css("right"),10)-u.outerWidth():20-u.outerWidth();r.minLeftPosition-=o.left;r.minTopPosition=-o.top;r.wrapper.append(e.overlay).children(c).hide();n(g).css(v,t.currentTarget.css(v))},drag:function(t){var i=this.owner,r=i.options.position,u=Math.max(t.y.client-i.startPosition.top,i.minTopPosition),f=Math.max(t.x.client-i.startPosition.left,i.minLeftPosition),e={left:f,top:u};n(i.wrapper).css(e);r.top=u;r.left=f},_finishDrag:function(){var t=this.owner;t.wrapper.children(c).toggle(!t.options.isMinimized).end().find(nt).remove();n(g).css(v,"")},dragcancel:function(n){this._finishDrag();n.currentTarget.closest(l).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(kt),!1},destroy:function(){this._draggable&&this._draggable.destroy();this._draggable=this.owner=null}};i.ui.plugin(ui)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.data","./kendo.popup"],n)}(function(){return function(n,t){function at(n,t){for(var e=t.length,f=[],u,r,i=0;i<n.length;i++)for(u=n[i],r=0;r<e;r++)u===t[r]&&f.push({index:i,item:u});return f}function k(t,i){var u,r=!1;return t.filters&&(u=n.grep(t.filters,function(n){return r=k(n,i),n.filters?n.filters.length:n.field!=i}),r||t.filters.length===u.length||(r=!0),t.filters=u),r}var i=window.kendo,c=i.ui,u=c.Widget,f=i.keys,e=i.support,et=i.htmlEncode,d=i._activeElement,ot=i.data.ObservableArray,l="id",o="change",g="k-state-focused",v="k-state-hover",nt="k-loading",y="open",tt="close",p="select",s="selected",it="requestStart",rt="requestEnd",ut="width",w=n.extend,r=n.proxy,st=n.isArray,b=e.browser,ht=b.msie&&b.version<9,ct=/"/g,lt={ComboBox:"DropDownList",DropDownList:"ComboBox"},a=i.ui.DataBoundWidget.extend({init:function(t,i){var f=this,o=f.ns,e;u.fn.init.call(f,t,i);t=f.element;i=f.options;f._isSelect=t.is(p);f._isSelect&&f.element[0].length&&(i.dataSource||(i.dataTextField=i.dataTextField||"text",i.dataValueField=i.dataValueField||"value"));f.ul=n('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0});f.list=n("<div class='k-list-container'/>").append(f.ul).on("mousedown"+o,r(f._listMousedown,f));e=t.attr(l);e&&(f.list.attr(l,e+"-list"),f.ul.attr(l,e+"_listbox"));f._header();f._accessors();f._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(n){u.fn.setOptions.call(this,n);n&&n.enable!==t&&(n.enabled=n.enable)},focus:function(){this._focused.focus()},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},_listOptions:function(n){var t=this.options;return n=n||{},n={height:n.height||t.height,dataValueField:n.dataValueField||t.dataValueField,dataTextField:n.dataTextField||t.dataTextField,groupTemplate:n.groupTemplate||t.groupTemplate,fixedGroupTemplate:n.fixedGroupTemplate||t.fixedGroupTemplate,template:n.template||t.template},n.template||(n.template="#:"+i.expr(n.dataTextField,"data")+"#"),n},_initList:function(){var u=this,o=u.options,s=o.virtual,c=!!s,f=o.value,h=r(u._listBound,u),e={autoBind:!1,selectable:!0,dataSource:u.dataSource,click:r(u._click,u),change:r(u._listChange,u),activate:r(u._activateItem,u),deactivate:r(u._deactivateItem,u),dataBinding:function(){u.trigger("dataBinding");u._angularItems("cleanup")},dataBound:h,listBound:h,selectedItemChange:r(u._listChange,u)};e=n.extend(u._listOptions(),e,typeof s=="object"?s:{});u.listView=c?new i.ui.VirtualList(u.ul,e):new i.ui.StaticList(u.ul,e);f!==t&&u.listView.value(f).done(function(){var n=o.text;!u.listView.filter()&&u.input&&(u.selectedIndex===-1?((n===t||n===null)&&(n=f),u._accessor(f),u.input.val(n),u._placeholder()):u._oldIndex===-1&&(u._oldIndex=u.selectedIndex))})},_listMousedown:function(n){this.filterInput&&this.filterInput[0]===n.target||n.preventDefault()},_filterSource:function(n,t){var r=this,f=r.options,u=r.dataSource,i=w({},u.filter()||{}),e=k(i,f.dataTextField);(n||e)&&r.trigger("filtering",{filter:n})||(n&&(i=i.filters||[],i.push(n)),t?u.read(i):u.filter(i))},_header:function(){var t=this,i=t.options.headerTemplate,r;n.isFunction(i)&&(i=i({}));i&&(t.list.prepend(i),r=t.ul.prev(),t.header=r[0]?r:null,t.header&&t.angular("compile",function(){return{elements:t.header}}))},_initValue:function(){var n=this,t=n.options.value;t!==null?n.element.val(t):(t=n._accessor(),n.options.value=t);n._old=t},_ignoreCase:function(){var t=this,i=t.dataSource.reader.model,n;i&&i.fields&&(n=i.fields[t.options.dataTextField],n&&n.type&&n.type!=="string"&&(t.options.ignoreCase=!1))},_focus:function(n){return this.listView.focus(n)},current:function(n){return this._focus(n)},items:function(){return this.ul[0].children},destroy:function(){var n=this,t=n.ns;u.fn.destroy.call(n);n._unbindDataSource();n.listView.destroy();n.list.off(t);n.popup.destroy();n._form&&n._form.off("reset",n._resetHandler)},dataItem:function(i){var r=this;return i===t?r.listView.selectedDataItems()[0]:(typeof i!="number"&&(i=n(r.items()).index(i)),r.dataSource.flatView()[i])},_activateItem:function(){var n=this.listView.focus();n&&this._focused.add(this.filterInput).attr("aria-activedescendant",n.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var t=this,r=t.element,n=t.options,u=i.getter,f=r.attr(i.attr("text-field")),e=r.attr(i.attr("value-field"));!n.dataTextField&&f&&(n.dataTextField=f);!n.dataValueField&&e&&(n.dataValueField=e);t._text=u(n.dataTextField);t._value=u(n.dataValueField)},_aria:function(n){var i=this,r=i.options,u=i._focused.add(i.filterInput);r.suggest!==t&&u.attr("aria-autocomplete",r.suggest?"both":"list");n=n?n+" "+i.ul[0].id:i.ul[0].id;u.attr("aria-owns",n);i.ul.attr("aria-live",!r.filter||r.filter==="none"?"off":"polite")},_blur:function(){var n=this;n._change();n.close()},_change:function(){var n=this,i=n.selectedIndex,f=n.options.value,r=n.value(),u;n._isSelect&&!n.listView.isBound()&&f&&(r=f);r!==n._old?u=!0:i!==t&&i!==n._oldIndex&&(u=!0);u&&(n._old=r,n._oldIndex=i,n._typing||n.element.trigger(o),n.trigger(o));n.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var n=this,i=n.options,r=n.element.is("[disabled]");i.enable!==t&&(i.enabled=i.enable);!i.enabled||r?n.enable(!1):n.readonly(n.element.is("[readonly]"))},_dataValue:function(n){var i=this._value(n);return i===t&&(i=this._text(n)),i},_offsetHeight:function(){var t=0,i=this.listView.content.prevAll(":visible");return i.each(function(){var i=n(this);t+=i.hasClass("k-list-filter")?i.children().outerHeight():i.outerHeight()}),t},_height:function(n){var i=this,f=i.list,t=i.options.height,e=i.popup.visible(),r,u;return n&&(u=f.add(f.parent(".k-animation-container")).show(),t=i.listView.content[0].scrollHeight>t?t:"auto",u.height(t),t!=="auto"&&(r=i._offsetHeight(),r&&(t-=r)),i.listView.content.height(t),e||u.hide()),t},_adjustListWidth:function(){var t=this.list,i=t[0].style.width,u=this.wrapper,n,r;if(t.data(ut)||!i)return n=window.getComputedStyle?window.getComputedStyle(u[0],null):0,r=n?parseFloat(n.width):u.outerWidth(),n&&b.msie&&(r+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)),i=t.css("box-sizing")!=="border-box"?r-(t.outerWidth()-t.width()):r,t.css({fontFamily:u.css("font-family"),width:i}).data(ut,i),!0},_openHandler:function(n){this._adjustListWidth();this.trigger(y)?n.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_closeHandler:function(n){this.trigger(tt)?n.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var i=this.listView,r=i.focus(),n=i.select();n=n[n.length-1];n===t&&this.options.highlightFirst&&!r&&(n=0);n!==t?i.focus(n):i.scrollToIndex(0)},_calculateGroupPadding:function(n){var u=this.ul.children(".k-first:first"),t=this.listView.content.prev(".k-group-header"),r=0;t[0]&&t[0].style.display!=="none"&&(n!=="auto"&&(r=i.support.scrollbar()),r+=parseFloat(u.css("border-right-width"),10)+parseFloat(u.children(".k-group").css("padding-right"),10),t.css("padding-right",r))},_firstOpen:function(){var n=this._height(this.dataSource.flatView().length);this._calculateGroupPadding(n)},_popup:function(){var n=this;if(n.popup=new c.Popup(n.list,w({},n.options.popup,{anchor:n.wrapper,open:r(n._openHandler,n),close:r(n._closeHandler,n),animation:n.options.animation,isRtl:e.isRtl(n.wrapper)})),!n.options.virtual)n.popup.one(y,r(n._firstOpen,n))},_makeUnselectable:function(){ht&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(t){n(t.currentTarget).toggleClass(v,t.type==="mouseenter")},_toggle:function(n,i){var r=this,u=e.mobileOS&&(e.touch||e.MSPointers||e.pointers);n=n!==t?n:!r.popup.visible();i||u||r._focused[0]===d()||(r._prevent=!0,r._focused.focus(),r._prevent=!1);r[n?y:tt]()},_triggerCascade:function(){var n=this;n._cascadeTriggered&&n._old===n.value()&&n._oldIndex===n.selectedIndex||(n._cascadeTriggered=!0,n.trigger("cascade",{userTriggered:n._userTriggered}))},_unbindDataSource:function(){var n=this;n.dataSource.unbind(it,n._requestStartHandler).unbind(rt,n._requestEndHandler).unbind("error",n._errorHandler)}}),h,ft;w(a,{inArray:function(n,t){var i,r,u=t.children;if(!n||n.parentNode!==t)return-1;for(i=0,r=u.length;i<r;i++)if(n===u[i])return i;return-1}});i.ui.List=a;c.Select=a.extend({init:function(n,t){a.fn.init.call(this,n,t);this._initial=this.element.val()},setDataSource:function(n){var t=this,i;t.options.dataSource=n;t._dataSource();t.listView.setDataSource(t.dataSource);t.options.autoBind&&t.dataSource.fetch();i=t._parentWidget();i&&t._cascadeSelect(i)},close:function(){this.popup.close()},select:function(n){var i=this;if(n===t)return i.selectedIndex;i._select(n);i._old=i._accessor();i._oldIndex=i.selectedIndex},search:function(n){n=typeof n=="string"?n:this.text();var t=this,r=n.length,i=t.options,u=i.ignoreCase,f=i.filter,e=i.dataTextField;clearTimeout(t._typingTimeout);(!r||r>=i.minLength)&&(t._state="filter",t.listView.filter(!0),f==="none"?t._filter(n):(t._open=!0,t._filterSource({value:u?n.toLowerCase():n,field:e,operator:f,ignoreCase:u})))},_accessor:function(n,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](n,t)},_accessorInput:function(n){var i=this.element[0];if(n===t)return i.value;n===null&&(n="");i.value=n},_accessorSelect:function(n,i){var r=this.element[0],f=r.selectedIndex,u;if(n===t)return f>-1&&(u=r.options[f]),u&&(n=u.value),n||"";f>-1&&r.options[f].removeAttribute(s);i===t&&(i=-1);n!==null&&n!==""&&i==-1?this._custom(n):(n?r.value=n:r.selectedIndex=i,r.selectedIndex>-1&&(u=r.options[r.selectedIndex]),u&&u.setAttribute(s,s))},_custom:function(t){var r=this,u=r.element,i=r._customOption;i||(i=n("<option/>"),r._customOption=i,u.append(i));i.text(t);i[0].setAttribute(s,s);i[0].selected=!0},_hideBusy:function(){var n=this;clearTimeout(n._busy);n._arrow.removeClass(nt);n._focused.attr("aria-busy",!1);n._busy=null},_showBusy:function(){var n=this;(n._request=!0,n._busy)||(n._busy=setTimeout(function(){n._arrow&&(n._focused.attr("aria-busy",!0),n._arrow.addClass(nt))},100))},_requestEnd:function(){this._request=!1;this._hideBusy()},_dataSource:function(){var t=this,o=t.element,f=t.options,u=f.dataSource||{},e;u=n.isArray(u)?{data:u}:u;t._isSelect&&(e=o[0].selectedIndex,e>-1&&(f.index=e),u.select=o,u.fields=[{field:f.dataTextField},{field:f.dataValueField}]);t.dataSource?t._unbindDataSource():(t._requestStartHandler=r(t._showBusy,t),t._requestEndHandler=r(t._requestEnd,t),t._errorHandler=r(t._hideBusy,t));t.dataSource=i.data.DataSource.create(u).bind(it,t._requestStartHandler).bind(rt,t._requestEndHandler).bind("error",t._errorHandler)},_firstItem:function(){this.listView.first()},_lastItem:function(){this.listView.last()},_nextItem:function(){this.listView.next()},_prevItem:function(){this.listView.prev()},_move:function(n){var t=this,r=n.keyCode,c=t.ul[0],e=r===f.DOWN,s,u,i,h;if(r===f.UP||e){if(n.altKey)t.toggle(e);else{if(!t.listView.isBound()){if(!t._fetch){t.dataSource.one(o,function(){t._fetch=!1;t._move(n)});t._fetch=!0;t._filterSource()}return n.preventDefault(),!0}if(i=t._focus(),t._fetch||i&&!i.hasClass("k-state-selected")||(e?(t._nextItem(),t._focus()||t._lastItem()):(t._prevItem(),t._focus()||t._firstItem())),t.trigger(p,{item:t.listView.focus()})){t._focus(i);return}t._select(t._focus(),!0);t.popup.visible()||t._blur()}n.preventDefault();u=!0}else if(r===f.ENTER||r===f.TAB){if(t.popup.visible()&&n.preventDefault(),i=t._focus(),s=t.dataItem(),t.popup.visible()||s&&t.text()===t._text(s)||(i=null),h=t.filterInput&&t.filterInput[0]===d(),i){if(t.trigger(p,{item:i}))return;t._select(i)}else t.input&&(t._accessor(t.input.val()),t.listView.value(t.input.val()));t._focusElement&&t._focusElement(t.wrapper);h&&r===f.TAB?t.wrapper.focusout():t._blur();t.close();u=!0}else r===f.ESC&&(t.popup.visible()&&n.preventDefault(),t.close(),u=!0);return u},_fetchData:function(){var n=this,t=!!n.dataSource.view().length;n._request||n.options.cascadeFrom||n.listView.isBound()||n._fetch||t||(n._fetch=!0,n.dataSource.fetch().done(function(){n._fetch=!1}))},_options:function(n,i,r){var o=this,e=o.element,a=n.length,s="",f,h,c,u,l=0;for(i&&(s=i);l<a;l++)f="<option",h=n[l],c=o._text(h),u=o._value(h),u!==t&&(u+="",u.indexOf('"')!==-1&&(u=u.replace(ct,"&quot;")),f+=' value="'+u+'"'),f+=">",c!==t&&(f+=et(c)),f+="<\/option>",s+=f;e.html(s);r!==t&&(e[0].value=r,e[0].value&&!r&&(e[0].selectedIndex=-1))},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=u.on("reset",t._resetHandler))},_parentWidget:function(){var i=this.options.name,r=n("#"+this.options.cascadeFrom),t=r.data("kendo"+i);return t||(t=r.data("kendo"+lt[i])),t},_cascade:function(){var n=this,i=n.options,r=i.cascadeFrom,t;if(r){if(t=n._parentWidget(),!t)return;i.autoBind=!1;t.first("cascade",function(i){n._userTriggered=i.userTriggered;n.listView.isBound()&&n._clearSelection(t,!0);n._cascadeSelect(t)});t.listView.isBound()?n._cascadeSelect(t):t.value()||n.enable(!1)}},_cascadeChange:function(n){var t=this,i=t._accessor();t._userTriggered?t._clearSelection(n,!0):i?(i!==t.listView.value()[0]&&t.value(i),t.dataSource.view()[0]&&t.selectedIndex!==-1||t._clearSelection(n,!0)):t.dataSource.flatView().length&&t.select(t.options.index);t.enable();t._triggerCascade();t._userTriggered=!1},_cascadeSelect:function(n){var t=this,e=n.dataItem(),i=e?n._value(e):null,o=t.options.cascadeFromField||n.options.dataValueField,r,u,f;i||i===0?(r=t.dataSource.filter()||{},k(r,o),u=r.filters||[],u.push({field:o,operator:"eq",value:i}),f=function(){t.unbind("dataBound",f);t._cascadeChange(n)},t.first("dataBound",f),t.dataSource.filter(u)):(t.enable(!1),t._clearSelection(n),t._triggerCascade(),t._userTriggered=!1)}});h=".StaticList";ft=i.ui.DataBoundWidget.extend({init:function(t,f){u.fn.init.call(this,t,f);this.element.attr("role","listbox").on("click"+h,"li",r(this._click,this)).on("mouseenter"+h,"li",function(){n(this).addClass(v)}).on("mouseleave"+h,"li",function(){n(this).removeClass(v)});this.content=this.element.wrap("<div unselectable='on'><\/div>").parent().css({overflow:"auto",position:"relative"});this.header=this.content.before('<div class="k-group-header" style="display:none"><\/div>').prev();this._bound=!1;this._optionID=i.guid();this._selectedIndices=[];this._view=[];this._dataItems=[];this._values=[];var e=this.options.value;e&&(this._values=n.isArray(e)?e.slice(0):[e]);this._getter();this._templates();this.setDataSource(this.options.dataSource);this._onScroll=r(function(){var n=this;clearTimeout(n._scrollId);n._scrollId=setTimeout(function(){n._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click","change","activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(t){var u=this,f=t||{},e;f=n.isArray(f)?{data:f}:f;f=i.data.DataSource.create(f);u.dataSource?(u.dataSource.unbind(o,u._refreshHandler),e=u.value(),u.value([]),u._bound=!1,u.value(e)):u._refreshHandler=r(u.refresh,u);u.dataSource=f.bind(o,u._refreshHandler);u._fixedHeader()},setOptions:function(n){u.fn.setOptions.call(this,n);this._getter();this._templates();this._render()},destroy:function(){this.element.off(h);this._refreshHandler&&this.dataSource.unbind(o,this._refreshHandler);u.fn.destroy.call(this)},scrollToIndex:function(n){var t=this.element[0].children[n];t&&this.scroll(t)},scroll:function(n){if(n){n[0]&&(n=n[0]);var i=this.content[0],r=n.offsetTop,e=n.offsetHeight,t=i.scrollTop,u=i.clientHeight,f=r+e;t>r?t=r:f>t+u&&(t=f-u);i.scrollTop=t}},selectedDataItems:function(i){var r=this._valueGetter;if(i===t)return this._dataItems.slice();this._dataItems=i;this._values=n.map(i,function(n){return r(n)})},next:function(){var n=this.focus();n=n?n.next():0;this.focus(n)},prev:function(){var n=this.focus();n=n?n.prev():this.element[0].children.length-1;this.focus(n)},first:function(){this.focus(this.element[0].children[0])},last:function(){this.focus(this.element[0].children[this.element[0].children.length-1])},focus:function(i){var r=this,f=r._optionID,u;if(i===t)return r._current;i=r._get(i);i=i[i.length-1];i=n(this.element[0].children[i]);r._current&&(r._current.removeClass(g).removeAttr("aria-selected").removeAttr(l),r.trigger("deactivate"));u=!!i[0];u&&(i.addClass(g),r.scroll(i),i.attr("id",f));r._current=u?i:null;r.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():t},filter:function(n){if(n===t)return this._filtered;this._filtered=n},skipUpdate:function(n){this._skipUpdate=n},select:function(i){var r=this,h=r.options.selectable,u=h!=="multiple"&&h!==!1,f=r._selectedIndices,e=[],o=[],s;if(i===t)return f.slice();if(i=r._get(i),i.length===1&&i[0]===-1&&(i=[]),!r._filtered||u||!r._deselectFiltered(i)){if(u&&!r._filtered&&n.inArray(i[i.length-1],f)!==-1){r._dataItems.length&&r._view.length&&(r._dataItems=[r._view[f[0]].item]);return}s=r._deselect(i);o=s.removed;i=s.indices;i.length&&(u&&(i=[i[i.length-1]]),e=r._select(i));(e.length||o.length)&&(r._valueComparer=null,r.trigger("change",{added:e,removed:o}))}},removeAt:function(n){return this._selectedIndices.splice(n,1),this._values.splice(n,1),this._valueComparer=null,{position:n,dataItem:this._dataItems.splice(n,1)[0]}},setValue:function(t){t=n.isArray(t)||t instanceof ot?t.slice(0):[t];this._values=t;this._valueComparer=null},value:function(i){var r=this,u=r._valueDeferred,f;return i===t?r._values.slice():(r.setValue(i),u&&u.state()!=="resolved"||(r._valueDeferred=u=n.Deferred()),r.isBound()&&(f=r._valueIndices(r._values),r.options.selectable==="multiple"&&r.select(-1),r.select(f),u.resolve()),r._skipUpdate=!1,u)},_click:function(t){t.isDefaultPrevented()||this.trigger("click",{item:n(t.currentTarget)})},_valueExpr:function(n,i){var u=this,r,f=0,o,s,e=[];if(!u._valueComparer||u._valueType!==n){for(u._valueType=n;f<i.length;f++)r=i[f],r!==t&&r!==""&&r!==null&&(n==="boolean"?r=Boolean(r):n==="number"?r=Number(r):n==="string"&&(r=r.toString())),e.push(r);o="for (var idx = 0; idx < "+e.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;";s=new Function(["current","values"],o);u._valueComparer=function(n){return s(n,e)}}return u._valueComparer},_dataItemPosition:function(n,t){var i=this._valueGetter(n),r=this._valueExpr(typeof i,t);return r(i)},_getter:function(){this._valueGetter=i.getter(this.options.dataValueField)},_deselect:function(t){var u=this,e=u.element[0].children,c=u.options.selectable,f=u._selectedIndices,l=u._dataItems,v=u._values,o=[],i=0,r,s,h,a=0;if(t=t.slice(),c!==!0&&t.length){if(c==="multiple")for(;i<t.length;i++)if(s=t[i],n(e[s]).hasClass("k-state-selected"))for(r=0;r<f.length;r++)if(h=f[r],h===s){n(e[h]).removeClass("k-state-selected");o.push({position:r+a,dataItem:l.splice(r,1)[0]});f.splice(r,1);t.splice(i,1);v.splice(r,1);a+=1;i-=1;r-=1;break}}else{for(;i<f.length;i++)n(e[f[i]]).removeClass("k-state-selected"),o.push({position:i,dataItem:l[i]});u._values=[];u._dataItems=[];u._selectedIndices=[]}return{indices:t,removed:o}},_deselectFiltered:function(t){for(var o=this.element[0].children,e,i,r,u=[],f=0;f<t.length;f++)i=t[f],e=this._view[i].item,r=this._dataItemPosition(e,this._values),r>-1&&(u.push(this.removeAt(r)),n(o[i]).removeClass("k-state-selected"));return u.length?(this.trigger("change",{added:[],removed:u}),!0):!1},_select:function(t){var i=this,o=i.element[0].children,s=i._view,r,u,e=[],f=0;for(t[t.length-1]!==-1&&i.focus(t);f<t.length;f++)(u=t[f],r=s[u],u!==-1&&r)&&(r=r.item,i._selectedIndices.push(u),i._dataItems.push(r),i._values.push(i._valueGetter(r)),n(o[u]).addClass("k-state-selected").attr("aria-selected",!0),e.push({dataItem:r}));return e},_get:function(i){return typeof i=="number"?i=[i]:st(i)||(i=n(i).data("offset-index"),i===t&&(i=-1),i=[i]),i},_template:function(){var r=this,t=r.options,n=t.template;return n?(n=i.template(n),n=function(t){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+n(t)+"<\/li>"}):n=i.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+i.expr(t.dataTextField,"data")+"}<\/li>",{useWithBlock:!1}),n},_templates:function(){var n,t={template:this.options.template,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate},r;for(r in t)n=t[r],n&&typeof n!="function"&&(t[r]=i.template(n));this.templates=t},_normalizeIndices:function(n){for(var r=[],i=0;i<n.length;i++)n[i]!==t&&r.push(n[i]);return r},_valueIndices:function(n,t){var u=this._view,i=0,r;if(t=t?t.slice():[],!n.length)return[];for(;i<u.length;i++)r=this._dataItemPosition(u[i].item,n),r!==-1&&(t[r]=i);return this._normalizeIndices(t)},_firstVisibleItem:function(){for(var r=this.element[0],f=this.content[0],i=f.scrollTop,u=n(r.children[0]).height(),e=Math.floor(i/u)||0,t=r.children[e]||r.lastChild,o=t.offsetTop<i;t;)if(o){if(t.offsetTop+u>i||!t.nextSibling)break;t=t.nextSibling}else{if(t.offsetTop<=i||!t.previousSibling)break;t=t.previousSibling}return this._view[n(t).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var t=this.templates.fixedGroupTemplate,n;t&&(n=this._firstVisibleItem(),n&&this.header.html(t(n.group)))},_renderItem:function(n){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',u=n.item,i=n.index!==0,r=n.selected;return i&&n.newGroup&&(t+=" k-first"),r&&(t+=" k-state-selected"),t+='"'+(r?' aria-selected="true"':"")+' data-offset-index="'+n.index+'">',t+=this.templates.template(u),i&&n.newGroup&&(t+='<div class="k-group">'+this.templates.groupTemplate(n.group)+"<\/div>"),t+"<\/li>"},_render:function(){var e="",n=0,o=0,t,f=[],i=this.dataSource.view(),h=this.value(),r,s,u,c=this.isGrouped();if(c)for(n=0;n<i.length;n++)for(r=i[n],s=!0,u=0;u<r.items.length;u++)t={selected:this._selected(r.items[u],h),item:r.items[u],group:r.value,newGroup:s,index:o},f[o]=t,o+=1,e+=this._renderItem(t),s=!1;else for(n=0;n<i.length;n++)t={selected:this._selected(i[n],h),item:i[n],index:n},f[n]=t,e+=this._renderItem(t);this._view=f;this.element[0].innerHTML=e;c&&f.length&&this._renderHeader()},_selected:function(n,t){var i=!this._filtered||this.options.selectable==="multiple";return i&&this._dataItemPosition(n,t)!==-1},refresh:function(n){var t=this,i,r=n&&n.action;t.trigger("dataBinding");t._fixedHeader();t._render();t._bound=!0;r==="itemchange"?(i=at(t._dataItems,n.items),i.length&&t.trigger("selectedItemChange",{items:i})):t._filtered||t._skipUpdate?(t.focus(0),t._skipUpdate&&(t._skipUpdate=!1,t._selectedIndices=t._valueIndices(t._values,t._selectedIndices))):r&&r!=="add"||t.value(t._values);t._valueDeferred&&t._valueDeferred.resolve();t.trigger("dataBound")},isBound:function(){return this._bound},isGrouped:function(){return(this.dataSource.group()||[]).length}});c.plugin(ft)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.list","./kendo.mobile.scroller"],n)}(function(){return function(n,t){function it(n,t,i){for(var u=0,f=t.length-1,r;u<f;++u)r=t[u],r in n||(n[r]={}),n=n[r];n[t[f]]=i}var r=window.kendo,p=r.ui,o=p.Select,e=r.support,w=r._activeElement,h=r.data.ObservableObject,f=r.keys,i=".kendoDropDownList",b="disabled",k="readonly",c="change",d="k-state-focused",l="k-state-default",a="k-state-disabled",g="aria-disabled",nt="aria-readonly",v="mouseenter"+i+" mouseleave"+i,s="tabindex",y="filter",tt="accept",u=n.proxy,rt=o.extend({init:function(f,e){var h=this,a=e&&e.index,l,c,v;h.ns=i;e=n.isArray(e)?{dataSource:e}:e;o.fn.init.call(h,f,e);e=h.options;f=h.element.on("focus"+i,u(h._focusHandler,h));h._focusInputHandler=n.proxy(h._focusInput,h);h._inputTemplate();h._reset();h._prev="";h._word="";h.optionLabel=n();h._wrapper();h._tabindex();h.wrapper.data(s,h.wrapper.attr(s));h._span();h._popup();h._mobile();h._dataSource();h._ignoreCase();h._filterHeader();h._aria();h._enable();h._oldIndex=h.selectedIndex=-1;a!==t&&(e.index=a);h._initialIndex=e.index;h._optionLabel();h._initList();h._cascade();e.autoBind?h.dataSource.fetch():h.selectedIndex===-1&&(c=e.text||"",c||(l=e.optionLabel,l&&e.index===0?c=l:h._isSelect&&(c=f.children(":selected").text())),h._textAccessor(c));v=n(h.element).parents("fieldset").is(":disabled");v&&h.enable(!1);r.notify(h)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",c,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(n){o.fn.setOptions.call(this,n);this.listView.setOptions(this._listOptions(n));this._optionLabel();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria();!this.value()&&this.optionLabel[0]&&this.select(0)},destroy:function(){var n=this;n.wrapper.off(i);n.element.off(i);n._inputWrapper.off(i);n._arrow.off();n._arrow=null;n.optionLabel.off();o.fn.destroy.call(n)},open:function(){var n=this;if(!n.popup.visible())if(n.listView.isBound()&&n._state!==tt){if(n._allowOpening()){n.popup.one("activate",n._focusInputHandler);n.popup.open();n._focusItem()}}else n._open=!0,n._state="rebind",n.filterInput&&(n.filterInput.val(""),n._prev=""),n._filterSource()},_focusInput:function(){this._focusElement(this.filterInput)},_allowOpening:function(){return this.optionLabel[0]||this.filterInput||this.dataSource.view().length},toggle:function(n){this._toggle(n,!0)},current:function(n){var i;if(n===t)return(i=this.listView.focus(),!i&&this.selectedIndex===0&&this.optionLabel[0])?this.optionLabel:i;this._focus(n)},dataItem:function(i){var r=this,u=null,f=!!r.optionLabel[0],e=r.options.optionLabel;return i===t?u=r.listView.selectedDataItems()[0]:(typeof i!="number"?i=i.hasClass("k-list-optionlabel")?-1:n(r.items()).index(i):f&&(i-=1),u=r.dataSource.flatView()[i]),!u&&f&&(u=n.isPlainObject(e)?new h(e):r._assignInstance(r._optionLabelText(),"")),u},refresh:function(){this.listView.refresh()},text:function(n){var i=this,r,u,f=i.options.ignoreCase;if(n=n===null?"":n,n!==t)typeof n=="string"&&(u=f?n.toLowerCase():n,i._select(function(n){return n=i._text(n),f&&(n=(n+"").toLowerCase()),n===u}),r=i.dataItem(),r&&(n=r)),i._textAccessor(n);else return i._textAccessor()},value:function(n){var i=this,r=i.dataSource;if(n===t)return n=i._accessor()||i.listView.value()[0],n===t||n===null?"":n;if(n&&(i._initialIndex=null),i._request&&i.options.cascadeFrom&&i.listView.isBound()){i._valueSetter&&r.unbind(c,i._valueSetter);i._valueSetter=u(function(){i.value(n)},i);r.one(c,i._valueSetter);return}i.listView.value(n).done(function(){i.selectedIndex===-1&&i.text()&&(i.text(""),i._accessor("",-1));i._old=i._accessor();i._oldIndex=i.selectedIndex});i._fetchData()},_optionLabel:function(){var t=this,f=t.options,e=f.optionLabel,i=f.optionLabelTemplate;if(!e){t.optionLabel.off().remove();t.optionLabel=n();return}i||(i="#:",i+=typeof e=="string"?"data":r.expr(f.dataTextField,"data"),i+="#");typeof i!="function"&&(i=r.template(i));t.optionLabelTemplate=i;t.optionLabel[0]||(t.optionLabel=n('<div class="k-list-optionlabel"><\/div>').prependTo(t.list));t.optionLabel.html(i(e)).off().click(u(t._click,t)).on(v,t._toggleHover);t.angular("compile",function(){return{elements:t.optionLabel}})},_optionLabelText:function(){var n=this.options.optionLabel;return typeof n=="string"?n:this._text(n)},_listBound:function(){var n=this,f=n._initialIndex,t=n.options.optionLabel,e=n._state===y,h=n.element[0],o=n.dataSource.flatView(),i=o.length,r,s,u;n._angularItems("compile");n._presetValue=!1;n.options.virtual||(s=n._height(e?i||1:i),n._calculateGroupPadding(s));n.popup.position();n._isSelect&&(u=n.value(),i?t&&(t=n._option("",n._optionLabelText())):u&&(t=n._option(u,n.text())),n._options(o,t,u));n._makeUnselectable();e||(n._open&&n.toggle(n._allowOpening()),n._open=!1,n._fetch||(i?(!n.listView.value().length&&f>-1&&f!==null&&n.select(f),n._initialIndex=null,r=n.listView.selectedDataItems()[0],r&&n.text()!==n._text(r)&&n._selectValue(r)):n._textAccessor()!==n._optionLabelText()&&(n.listView.value(""),n._selectValue(null),n._oldIndex=n.selectedIndex)));n._hideBusy();n.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);(this._presetValue||this._old&&this._oldIndex===-1)&&(this._oldIndex=this.selectedIndex)},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(d);this._prevent=!1},_focusoutHandler:function(){var n=this,i=n._state===y,r=window.self!==window.top,t=n._focus();n._prevent||(clearTimeout(n._typingTimeout),i&&t&&!n.trigger("select",{item:t})&&n._select(t,!n.dataSource.view().length),e.mobileOS.ios&&r?n._change():n._blur(),n._inputWrapper.removeClass(d),n._prevent=!0,n._open=!1,n.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(n){n.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._toggle()},_editable:function(n){var t=this,h=t.element,f=n.disable,e=n.readonly,r=t.wrapper.add(t.filterInput).off(i),o=t._inputWrapper.off(v);if(e||f)if(f)r.removeAttr(s),o.addClass(a).removeClass(l);else{o.addClass(l).removeClass(a);r.on("focusin"+i,u(t._focusinHandler,t)).on("focusout"+i,u(t._focusoutHandler,t))}else{h.removeAttr(b).removeAttr(k);o.addClass(l).removeClass(a).on(v,t._toggleHover);r.attr(s,r.data(s)).attr(g,!1).attr(nt,!1).on("keydown"+i,u(t._keydown,t)).on("focusin"+i,u(t._focusinHandler,t)).on("focusout"+i,u(t._focusoutHandler,t)).on("mousedown"+i,u(t._wrapperMousedown,t));t.wrapper.on("click"+i,u(t._wrapperClick,t));if(!t.filterInput)r.on("keypress"+i,u(t._keypress,t))}h.attr(b,f).attr(k,e);r.attr(g,f).attr(nt,e)},_option:function(n,t){return'<option value="'+n+'">'+t+"<\/option>"},_keydown:function(n){var t=this,i=n.keyCode,u=n.altKey,s=t.ul[0],e,r,o=t.popup.visible();if(t.filterInput&&(e=t.filterInput[0]===w()),i===f.LEFT?(i=f.UP,r=!0):i===f.RIGHT&&(i=f.DOWN,r=!0),!r||!e){if(n.keyCode=i,u&&i===f.UP&&t._focusElement(t.wrapper),i===f.ENTER&&t._typingTimeout&&t.filterInput&&o){n.preventDefault();return}(r=t._move(n),r)||(o&&t.filterInput||(i===f.HOME?(r=!0,t._firstItem()):i===f.END&&(r=!0,t._lastItem()),r&&(t._select(t._focus()),n.preventDefault())),u||r||!t.filterInput||t._search())}},_matchText:function(n,t){var i=this,u=i.options.ignoreCase,r=!1;return n=n+"",u&&(n=n.toLowerCase()),n.indexOf(i._word)===0&&(i.optionLabel[0]&&(t+=1),i._select(t),i.popup.visible()||i._change(),r=!0),r},_selectNext:function(n){for(var t=this,r=n,u=t.dataSource.flatView(),f=u.length,i;n<f;n++)if(i=t._text(u[n]),i&&t._matchText(i,n)&&!(t._word.length===1&&r===t.selectedIndex))return!0;if(r>0&&r<f)for(n=0;n<=r;n++)if(i=t._text(u[n]),i&&t._matchText(i,n))return!0;return!1},_keypress:function(n){var t=this;if(n.which!==0&&n.keyCode!==r.keys.ENTER){var i=String.fromCharCode(n.charCode||n.keyCode),f=t.selectedIndex,u=t._word.length;(t.options.ignoreCase&&(i=i.toLowerCase()),i===" "&&n.preventDefault(),u||(t._word=i),t._last===i&&u<=1&&f>-1&&t._selectNext(f))||(u&&(t._word+=i),t._last=i,t._search())}},_popupOpen:function(){var n=this.popup;n.wrapper=r.wrap(n.element);n.element.closest(".km-root")[0]&&(n.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){o.fn._popup.call(this);this.popup.one("open",u(this._popupOpen,this))},_click:function(t){var i=t.item||n(t.currentTarget);if(this.trigger("select",{item:i})){this.close();return}this._userTriggered=!0;this._select(i);this._focusElement(this.wrapper);this._blur()},_focusElement:function(n){var i=w(),r=this.wrapper,t=this.filterInput,u=n===t?r:t,f=e.mobileOS&&(e.touch||e.MSPointers||e.pointers);t&&t[0]===n[0]&&f||t&&u[0]===i&&(this._prevent=!0,this._focused=n.focus())},_filter:function(n){if(n){var i=this,r=i.options.ignoreCase;r&&(n=n.toLowerCase());i._select(function(u){var f=i._text(u);if(f!==t)return f=f+"",r&&(f=f.toLowerCase()),f.indexOf(n)===0})}},_search:function(){var n=this,i=n.dataSource,t=n.selectedIndex;if(clearTimeout(n._typingTimeout),n.options.filter!=="none")n._typingTimeout=setTimeout(function(){var t=n.filterInput.val();n._prev!==t&&(n._prev=t,n.search(t));n._typingTimeout=null},n.options.delay);else{if(n._typingTimeout=setTimeout(function(){n._word=""},n.options.delay),t===-1&&(t=0),!n.ul[0].firstChild){i.fetch().done(function(){i.data()[0]&&t>-1&&n._selectNext(t)});return}n._selectNext(t)}},_get:function(t){var r,u,i,f=typeof t=="function",e=f?n():n(t);if(this.optionLabel[0]&&(typeof t=="number"?t>-1&&(t-=1):e.hasClass("k-list-optionlabel")&&(t=-1)),f){for(r=this.dataSource.flatView(),i=0;i<r.length;i++)if(t(r[i])){t=i;u=!0;break}u||(t=-1)}return t},_firstItem:function(){this.optionLabel[0]?this._focus(this.optionLabel):this.listView.first()},_lastItem:function(){this.optionLabel.removeClass("k-state-focused");this.listView.last()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this.optionLabel.removeClass("k-state-focused"),this.listView.first()):this.listView.next()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.prev(),this.listView.focus()||this.optionLabel.addClass("k-state-focused"))},_focusItem:function(){var i=this.listView,r=i.focus(),n=i.select();n=n[n.length-1];n===t&&this.options.highlightFirst&&!r&&(n=0);n!==t?i.focus(n):this.options.optionLabel?(this._focus(this.optionLabel),this._select(this.optionLabel)):i.scrollToIndex(0)},_focus:function(n){var r=this.listView,i=this.optionLabel;if(n===t)return n=r.focus(),!n&&i.hasClass("k-state-focused")&&(n=i),n;i.removeClass("k-state-focused");n=this._get(n);r.focus(n);n===-1&&i.addClass("k-state-focused")},_select:function(n,t){var i=this,r=i.optionLabel;n=i._get(n);i.listView.select(n);t||i._state!==y||(i.listView.filter(!1),i._state=tt);n===-1&&i._selectValue(null)},_selectValue:function(n){var i=this,f=i.options.optionLabel,o=i.optionLabel,r=i.listView.select(),u="",e="";r=r[r.length-1];r===t&&(r=-1);o.removeClass("k-state-focused k-state-selected");n?(e=n,u=i._dataValue(n),f&&(r+=1)):f&&(i._focus(o.addClass("k-state-selected")),e=i._optionLabelText(),u=typeof f=="string"?"":i._value(f),r=0);i.selectedIndex=r;u===null&&(u="");i._textAccessor(e);i._accessor(u,r);i._triggerCascade()},_mobile:function(){var i=this,t=i.popup,n=e.mobileOS,r=t.element.parents(".km-root").eq(0);r.length&&n&&(t.options.animation.open.effects=n.android||n.meego?"fadeIn":n.ios||n.wp?"slideIn:up":t.options.animation.open.effects)},_filterHeader:function(){var t,r=this.options,u=r.filter!=="none";this.filterInput&&(this.filterInput.off(i).parent().remove(),this.filterInput=null);u&&(t='<span unselectable="on" class="k-icon k-i-search">select<\/span>',this.filterInput=n('<input class="k-textbox"/>').attr({role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(n('<span class="k-list-filter" />').append(this.filterInput.add(t))))},_span:function(){var t=this,i=t.wrapper,u="span.k-input",r;r=i.find(u);r[0]||(i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;<\/span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select<\/span><\/span><\/span>').append(t.element),r=i.find(u));t.span=r;t._inputWrapper=n(i[0].firstChild);t._arrow=i.find(".k-icon")},_wrapper:function(){var i=this,t=i.element,r=t[0],n;n=t.parent();n.is("span.k-widget")||(n=t.wrap("<span />").parent(),n[0].style.cssText=r.style.cssText,n[0].title=r.title);t.hide();i._focused=i.wrapper=n.addClass("k-widget k-dropdown k-header").addClass(r.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(n){this.select(n.value()?0:-1)},_inputTemplate:function(){var i=this,t=i.options.valueTemplate;t=t?r.template(t):n.proxy(r.template("#:this._text(data)#",{useWithBlock:!1}),i);i.valueTemplate=t},_textAccessor:function(i){var r=null,e=this.valueTemplate,s=this.options,o=s.optionLabel,u=this.span,f;if(i!==t)n.isPlainObject(i)||i instanceof h?r=i:o&&this._optionLabelText()===i&&(r=o,e=this.optionLabelTemplate),r||(r=this._assignInstance(i,this._accessor())),f=function(){return{elements:u.get(),data:[{dataItem:r}]}},this.angular("cleanup",f),u.html(e(r)),this.angular("compile",f);else return u.text()},_preselect:function(n,t){n||t||(t=this._optionLabelText());this._accessor(n);this._textAccessor(t);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(n);this._initialIndex=null;this._presetValue=!0},_assignInstance:function(n,t){var r=this.options.dataTextField,i={};return r?(it(i,r.split("."),n),it(i,this.options.dataValueField.split("."),t),i=new h(i)):i=n,i}});p.plugin(rt)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.datepicker","./kendo.numerictextbox","./kendo.dropdownlist","./kendo.binder"],n)}(function(){return function(n,t){function b(t,i){t.filters&&(t.filters=n.grep(t.filters,function(n){return b(n,i),n.filters?n.filters.length:n.field!=i}))}function k(n){var i,u,t,f,e,r;if(n&&n.length)for(r=[],i=0,u=n.length;i<u;i++)t=n[i],e=t.text||t.value||t,f=t.value==null?t.text||t:t.value,r[i]={text:e,value:f};return r}function st(t,i){return n.grep(t,function(t){return t.filters?(t.filters=n.grep(t.filters,function(n){return n.field!=i}),t.filters.length):t.field!=i})}function d(t,i){t.filters&&(t.filters=n.grep(t.filters,function(n){return d(n,i),n.filters?n.filters.length:n.field==i&&n.operator=="eq"}))}function g(i){return i.logic=="and"&&i.filters.length>1?[]:i.filters?n.map(i.filters,function(n){return g(n)}):i.value!==null&&i.value!==t?[i.value]:[]}function y(n,r){for(var h=i.getter(r,!0),e=[],o=0,s={},f,u;o<n.length;)f=n[o++],u=h(f),u===t||u===null||s.hasOwnProperty(u)||(e.push(f),s[u]=!0);return e}function ht(n,t){return function(i){var r=n(i);return y(r,t)}}var i=window.kendo,c=i.ui,r=n.proxy,s="kendoPopup",l="init",w="refresh",u="change",f=".kendoFilterMenu",a="Is equal to",v="Is not equal to",tt={number:"numerictextbox",date:"datepicker"},it={string:"text",number:"number",date:"date"},rt=i.isFunction,h=c.Widget,ut='<div><div class="k-filter-help-text">#=messages.info#<\/div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#<\/label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#<\/label><div><button type="submit" class="k-button k-primary">#=messages.filter#<\/button><button type="reset" class="k-button">#=messages.clear#<\/button><\/div><\/div>',ft='<div><div class="k-filter-help-text">#=messages.info#<\/div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#<\/option>#}#<\/select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"><\/select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#<\/option><option value="or">#=messages.or#<\/option><\/select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#<\/option>#}#<\/select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"><\/select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#<\/button><button type="reset" class="k-button">#=messages.clear#<\/button><\/div><\/div>',et='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#<\/button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#<\/button><\/div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#<\/span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#<\/option>#}#<\/select><\/label><\/li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#<\/option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#<\/option>#}#<\/select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#<\/label><\/li>#if(extra){#<\/ul><ul class="k-filter-help-text"><li><span class="k-link"><\/span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#<\/label><\/li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#<\/label><\/li><\/ul><ul class="k-filter-help-text"><li><span class="k-link"><\/span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#<\/option>#}#<\/select><\/label><\/li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#<\/option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#<\/option>#}#<\/select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#<\/label><\/li>#}#<\/ul><\/li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#<\/button><\/li><\/ul><\/div><\/form><\/div>',ot='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#<\/button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#<\/button><\/div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#<\/span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#<\/label><\/li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#<\/label><\/li><\/ul><\/li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#<\/button><\/li><\/ul><\/form><\/div>',o=h.extend({init:function(t,e){var o=this,c="string",a,v,l,s;if(h.fn.init.call(o,t,e),a=o.operators=e.operators||{},t=o.element,e=o.options,!e.appendToElement){l=t.addClass("k-with-icon k-filterable").find(".k-grid-filter");l[0]||(l=t.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/><\/a>').find(".k-grid-filter"));l.attr("tabindex",-1).on("click"+f,r(o._click,o))}o.link=l||n();o.dataSource=e.dataSource;o.field=e.field||t.attr(i.attr("field"));o.model=o.dataSource.reader.model;o._parse=function(n){return n+""};o.model&&o.model.fields&&(s=o.model.fields[o.field],s&&(c=s.type||"string",s.parse&&(o._parse=r(s.parse,s))));e.values&&(c="enums");o.type=c;a=a[c]||e.operators[c];for(v in a)break;o._defaultFilter=function(){return{field:o.field,operator:v||"eq",value:""}};o._refreshHandler=r(o.refresh,o);o.dataSource.bind(u,o._refreshHandler);e.appendToElement?o._init():o.refresh()},_init:function(){var t=this,u=t.options.ui,o=rt(u),e;t.pane=t.options.pane;t.pane&&(t._isMobile=!0);o||(e=u||tt[t.type]);t._isMobile?t._createMobileForm(e):t._createForm(e);t.form.on("submit"+f,r(t._submit,t)).on("reset"+f,r(t._reset,t));o&&t.form.find(".k-textbox").removeClass("k-textbox").each(function(){u(n(this))});t.form.find("["+i.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+i.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+i.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+i.attr("role")+"=datepicker]").removeClass("k-textbox");t.refresh();t.trigger(l,{field:t.field,container:t.form});i.cycleForm(t.form)},_createForm:function(t){var u=this,e=u.options,h=u.operators||{},o=u.type;h=h[o]||e.operators[o];u.form=n('<form class="k-filter-menu"/>').html(i.template(o==="boolean"?ut:ft)({field:u.field,format:e.format,ns:i.ns,messages:e.messages,extra:e.extra,operators:h,type:o,role:t,values:k(e.values)}));e.appendToElement?(u.element.append(u.form),u.popup=u.element.closest(".k-popup").data(s)):u.popup=u.form[s]({anchor:u.link,open:r(u._open,u),activate:r(u._activate,u),close:function(){u.options.closeCallback&&u.options.closeCallback(u.element)}}).data(s);u.form.on("keydown"+f,r(u._keydown,u))},_createMobileForm:function(t){var r=this,f=r.options,e=r.operators||{},u=r.type;e=e[u]||f.operators[u];r.form=n("<div />").html(i.template(u==="boolean"?ot:et)({field:r.field,title:f.title||r.field,format:f.format,ns:i.ns,messages:f.messages,extra:f.extra,operators:e,type:u,role:t,useRole:!i.support.input.date&&u==="date"||u==="number",inputType:it[u],values:k(f.values)}));r.view=r.pane.append(r.form.html());r.form=r.view.element.find("form");r.view.element.on("click",".k-submit",function(n){r.form.submit();n.preventDefault()}).on("click",".k-cancel",function(n){r._closeForm();n.preventDefault()})},refresh:function(){var n=this,t=n.dataSource.filter()||{filters:[],logic:"and"};n.filterModel=i.observable({logic:"and",filters:[n._defaultFilter(),n._defaultFilter()]});n.form&&i.bind(n.form.children().first(),n.filterModel);n._bind(t)?n.link.addClass("k-state-active"):n.link.removeClass("k-state-active")},destroy:function(){var n=this;h.fn.destroy.call(n);n.form&&(i.unbind(n.form),i.destroy(n.form),n.form.unbind(f),n.popup&&(n.popup.destroy(),n.popup=null),n.form=null);n.view&&(n.view.purge(),n.view=null);n.link.unbind(f);n._refreshHandler&&(n.dataSource.unbind(u,n._refreshHandler),n.dataSource=null);n.element=n.link=n._refreshHandler=n.filterModel=null},_bind:function(n){for(var i=this,s=n.filters,f=!1,o=0,e=i.filterModel,r,t,u=0,h=s.length;u<h;u++)t=s[u],t.field==i.field?(e.set("logic",n.logic),r=e.filters[o],r||(e.filters.push({field:i.field}),r=e.filters[o]),r.set("value",i._parse(t.value)),r.set("operator",t.operator),o++,f=!0):t.filters&&(f=f||i._bind(t));return f},_stripFilters:function(t){return n.grep(t,function(n){return n.value!==""&&n.value!=null})},_merge:function(n){var u=this,o=n.logic||"and",i=this._stripFilters(n.filters),f,t=u.dataSource.filter()||{filters:[],logic:"and"},r,e;for(b(t,u.field),r=0,e=i.length;r<e;r++)f=i[r],f.value=u._parse(f.value);return i.length&&(t.filters.length?(n.filters=i,t.logic!=="and"&&(t.filters=[{logic:t.logic,filters:t.filters}],t.logic="and"),i.length>1?t.filters.push(n):t.filters.push(i[0])):(t.filters=i,t.logic=o)),t},filter:function(n){n=this._merge(n);n.filters.length&&this.dataSource.filter(n)},clear:function(){var i=this,t=i.dataSource.filter()||{filters:[]};t.filters=n.grep(t.filters,function(n){return n.filters?(n.filters=st(n.filters,i.field),n.filters.length):n.field!=i.field});t.filters.length||(t=null);i.dataSource.filter(t)},_submit:function(n){n.preventDefault();n.stopPropagation();this.filter(this.filterModel.toJSON());this._closeForm()},_reset:function(){this.clear();this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(n){n.preventDefault();n.stopPropagation();this.popup||this.pane||this._init();this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var t;n(".k-filter-menu").not(this.form).each(function(){t=n(this).data(s);t&&t.close()})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(n){n.keyCode==i.keys.ESC&&this.popup.close()},events:[l],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:a,neq:v,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:a,neq:v,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:a,neq:v,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:a,neq:v}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}}),e=".kendoFilterMultiCheck",p=i.data.DataSource,nt=h.extend({init:function(t,f){h.fn.init.call(this,t,f);f=this.options;this.element=n(t);var e=this.field=this.options.field||this.element.attr(i.attr("field")),o=f.checkSource;this._foreignKeyValues()?(this.checkSource=p.create(f.values),this.checkSource.fetch()):f.forceUnique?(o=f.dataSource.options,delete o.pageSize,this.checkSource=p.create(o),this.checkSource.reader.data=ht(this.checkSource.reader.data,this.field)):this.checkSource=p.create(o);this.dataSource=f.dataSource;this.model=this.dataSource.reader.model;this._parse=function(n){return n+""};this.model&&this.model.fields&&(e=this.model.fields[this.field],e&&(e.parse&&(this._parse=r(e.parse,e)),this.type=e.type||"string"));f.appendToElement?this._init():this._createLink();this._refreshHandler=r(this.refresh,this);this.dataSource.bind(u,this._refreshHandler)},_createLink:function(){var t=this.element,n=t.addClass("k-with-icon k-filterable").find(".k-grid-filter");n[0]||(n=t.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/><\/a>').find(".k-grid-filter"));this._link=n.attr("tabindex",-1).on("click"+f,r(this._click,this))},_init:function(){var n=this,t=this.options.forceUnique,i=this.options;this.pane=i.pane;this.pane&&(this._isMobile=!0);this._createForm();this._foreignKeyValues()?this.refresh():t&&!this.checkSource.options.serverPaging&&this.dataSource.data().length?(this.checkSource.data(y(this.dataSource.data(),this.field)),this.refresh()):(this._attachProgress(),this.checkSource.fetch(function(){n.refresh.call(n)}));this.options.forceUnique||(this.checkChangeHandler=function(){n.container.empty();n.refresh()},this.checkSource.bind(u,this.checkChangeHandler));this.form.on("keydown"+e,r(this._keydown,this)).on("submit"+e,r(this._filter,this)).on("reset"+e,r(this._reset,this));this.trigger(l,{field:this.field,container:this.form})},_attachProgress:function(){var n=this;this._progressHandler=function(){c.progress(n.container,!0)};this._progressHideHandler=function(){c.progress(n.container,!1)};this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_createForm:function(){var i=this.options,u="<ul class='k-reset k-multicheck-wrap'><\/ul><button type='submit' class='k-button k-primary'>"+i.messages.filter+"<\/button>",t,r;if(u+="<button type='reset' class='k-button'>"+i.messages.clear+"<\/button>",this.form=n('<form class="k-filter-menu"/>').html(u),this.container=this.form.find(".k-multicheck-wrap"),this._isMobile){this.view=this.pane.append(this.form.addClass("k-mobile-list").wrap("<div/>").parent().html());t=this.view.element;this.form=t.find("form");this.container=t.find(".k-multicheck-wrap");r=this;t.on("click",".k-primary",function(n){r.form.submit();n.preventDefault()}).on("click","[type=reset]",function(n){r._reset();n.preventDefault()})}else i.appendToElement?(this.popup=this.element.closest(".k-popup").data(s),this.element.append(this.form)):this.popup=this.form.kendoPopup({anchor:this._link}).data(s)},createCheckAllItem:function(){var t=this.options,o=i.template(t.itemTemplate({field:"all",mobile:this._isMobile})),f=n(o({all:t.messages.checkAll}));this.container.prepend(f);this.checkBoxAll=f.find(":checkbox").eq(0).addClass("k-check-all");this.checkAllHandler=r(this.checkAll,this);this.checkBoxAll.on(u+e,this.checkAllHandler)},updateCheckAllState:function(){if(this.checkBoxAll){var n=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",n)}},refresh:function(n){var r=this.options.forceUnique,t=this.dataSource,i=this.getFilterArray();this._link&&this._link.toggleClass("k-state-active",i.length!==0);this.form&&(n&&r&&n.sender===t&&!t.options.serverPaging&&(n.action=="itemchange"||n.action=="add"||n.action=="remove")&&!this._foreignKeyValues()&&(this.checkSource.data(y(this.dataSource.data(),this.field)),this.container.empty()),this.container.is(":empty")&&this.createCheckBoxes(),this.checkValues(i),this.trigger(w))},getFilterArray:function(){var t=n.extend(!0,{},{filters:[],logic:"and"},this.dataSource.filter());return d(t,this.field),g(t)},createCheckBoxes:function(){var t=this.options,n,f={field:this.field,format:t.format,mobile:this._isMobile,type:this.type},o,s;if(this.options.forceUnique?this._foreignKeyValues()?(n=this.checkSource.data(),f.valueField="value",f.field="text"):n=this.checkSource.data():n=this.checkSource.view(),o=i.template(t.itemTemplate(f)),s=i.render(o,n),t.checkAll){this.createCheckAllItem();this.container.on(u+e,":checkbox",r(this.updateCheckAllState,this))}this.container.append(s)},checkAll:function(){var n=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",n)},checkValues:function(t){var i=this;n(n.grep(this.container.find(":checkbox").prop("checked",!1),function(r){var f=!1,e,u;if(!n(r).is(".k-check-all"))for(e=i._parse(n(r).val()),u=0;u<t.length;u++)if(f=i.type=="date"?t[u].getTime()==e.getTime():t[u]==e,f)return f})).prop("checked",!0);this.updateCheckAllState()},_filter:function(t){t.preventDefault();t.stopPropagation();var i={logic:"or"},r=this;i.filters=n.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(t){return{value:n(t).val(),operator:"eq",field:r.field}});i=this._merge(i);i.filters.length&&this.dataSource.filter(i);this._closeForm()},_stripFilters:function(t){return n.grep(t,function(n){return n.value!=null})},_foreignKeyValues:function(){var n=this.options;return n.values&&!n.checkSource},destroy:function(){var n=this;h.fn.destroy.call(n);n.form&&(i.unbind(n.form),i.destroy(n.form),n.form.unbind(e),n.popup&&(n.popup.destroy(),n.popup=null),n.form=null,n.container&&(n.container.unbind(e),n.container=null),n.checkBoxAll&&n.checkBoxAll.unbind(e));n.view&&(n.view.purge(),n.view=null);n._link&&n._link.unbind(f);n._refreshHandler&&(n.dataSource.unbind(u,n._refreshHandler),n.dataSource=null);n.checkChangeHandler&&n.checkSource.unbind(u,n.checkChangeHandler);n._progressHandler&&n.checkSource.unbind("progress",n._progressHandler);n._progressHideHandler&&n.checkSource.unbind("change",n._progressHideHandler);n.element=n.checkSource=n.container=n.checkBoxAll=n._link=n._refreshHandler=n.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(n){var r=n.field,u=n.format,i=n.valueField,e=n.mobile,f="";return i===t&&(i=r),n.type=="date"&&(f=":yyyy-MM-ddTHH:mm:sszzz"),"<li class='k-item'><label class='k-label'><input type='checkbox' class='"+(e?"k-check":"")+"'  value='#:kendo.format('{0"+f+"}',"+i+")#'/>#:kendo.format('"+(u?u:"{0}")+"', "+r+")#<\/label><\/li>"},checkAll:!0,appendToElement:!1,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter"},forceUnique:!0,animations:{left:"slide",right:"slide:right"}},events:[l,w]});n.extend(nt.fn,{_click:o.fn._click,_keydown:o.fn._keydown,_reset:o.fn._reset,_closeForm:o.fn._closeForm,clear:o.fn.clear,_merge:o.fn._merge});c.plugin(o);c.plugin(nt)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.popup"],n)}(function(){return function(n,t){function gi(n,t){return n=n.split(" ")[!t+0]||n,n.replace("top","up").replace("bottom","down")}function nr(n,t,r){n=n.split(" ")[!t+0]||n;var u={origin:["bottom",r?"right":"left"],position:["top",r?"right":"left"]},f=/left|right/.test(n);return f?(u.origin=["top",n],u.position[1]=i.directions[n].reverse):(u.origin[0]=n,u.position[0]=i.directions[n].reverse),u.origin=u.origin.join(" "),u.position=u.position.join(" "),u}function o(t,i){try{return n.contains(t,i)}catch(r){return!1}}function li(t){t=n(t);t.addClass("k-item").children(gt).addClass(ii);t.children("a").addClass(rt).children(gt).addClass(ii);t.filter(":not([disabled])").addClass(fi);t.filter(".k-separator:empty").append("&nbsp;");t.filter("li[disabled]").addClass(g).removeAttr("disabled").attr("aria-disabled",!0);t.filter("[role]").length||t.attr("role","menuitem");t.children("."+rt).length||t.contents().filter(function(){return!this.nodeName.match(yi)&&!(this.nodeType==3&&!n.trim(this.nodeValue))}).wrapAll("<span class='"+rt+"'/>");tt(t);y(t)}function tt(t){t=n(t);t.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove();t.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var t=n(this),i=t.parent().parent();t.append("<span class='k-icon "+(i.hasClass(v+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function y(t){t=n(t);t.filter(".k-first:not(:first-child)").removeClass(ti);t.filter(".k-last:not(:last-child)").removeClass(ni);t.filter(":first-child").addClass(ti);t.filter(":last-child").addClass(ni)}var i=window.kendo,ct=i.ui,vi=i._activeElement,ft=i.support.touch&&i.support.mobileOS,lt="mousedown",at="click",e=n.extend,u=n.proxy,vt=n.each,h=i.template,s=i.keys,et=ct.Widget,yi=/^(ul|a|div)$/i,r=".kendoMenu",gt="img",it="open",v="k-menu",rt="k-link",ni="k-last",p="close",ot="timer",ti="k-first",ii="k-image",w="select",b="zIndex",yt="activate",pt="deactivate",ri="touchstart"+r+" MSPointerDown"+r+" pointerdown"+r,k=i.support.pointers,d=i.support.msPointers,pi=d||k,wt=k?"pointerover":d?"MSPointerOver":"mouseenter",ui=k?"pointerout":d?"MSPointerOut":"mouseleave",wi=ft||pi,st=n(document.documentElement),ht="kendoPopup",fi="k-state-default",bt="k-state-hover",c="k-state-focused",g="k-state-disabled",ei=".k-menu",kt=".k-menu-group",oi=kt+",.k-animation-container",l=":not(.k-list) > .k-item",bi=".k-item.k-state-disabled",ut=".k-item:not(.k-state-disabled)",ki=".k-item:not(.k-state-disabled) > .k-link",si=":not(.k-item.k-separator)",nt=si+":eq(0)",hi=si+":last",di="> div:not(.k-animation-container,.k-list-container)",ci={"2":1,touch:1},a={content:h("<div class='k-content #= groupCssClass() #' tabindex='-1'>#= content(item) #<\/div>"),group:h("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #<\/ul>"),itemWrapper:h("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #<\/#= tag(item) #>"),item:h("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #<\/li>"),image:h("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:h("<span class='#= arrowClass(item, group) #'><\/span>"),sprite:h("<span class='k-sprite #= spriteCssClass #'><\/span>"),empty:h("")},dt={wrapperCssClass:function(n,t){var i="k-item",r=t.index;return i+=t.enabled===!1?" k-state-disabled":" k-state-default",n.firstLevel&&r===0&&(i+=" k-first"),r==n.length-1&&(i+=" k-last"),t.cssClass&&(i+=" "+t.cssClass),i},textClass:function(){return rt},textAttributes:function(n){return n.url?" href='"+n.url+"'":""},arrowClass:function(n,t){return"k-icon"+(t.horizontal?" k-i-arrow-s":" k-i-arrow-e")},text:function(n){return n.encoded===!1?n.text:i.htmlEncode(n.text)},tag:function(n){return n.url?"a":"span"},groupAttributes:function(n){return n.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(n){return n.content?n.content:"&nbsp;"}},f=et.extend({init:function(t,f){var e=this;et.fn.init.call(e,t,f);t=e.wrapper=e.element;f=e.options;e._initData(f);e._updateClasses();e._animations(f);e.nextItemZIndex=100;e._tabindex();e._focusProxy=u(e._focusHandler,e);t.on(ri,ut,e._focusProxy).on(at+r,bi,!1).on(at+r,ut,u(e._click,e)).on("keydown"+r,u(e._keydown,e)).on("focus"+r,u(e._focus,e)).on("focus"+r,".k-content",u(e._focus,e)).on(ri+" "+lt+r,".k-content",u(e._preventClose,e)).on("blur"+r,u(e._removeHoverItem,e)).on("blur"+r,"[tabindex]",u(e._checkActiveElement,e)).on(wt+r,ut,u(e._mouseenter,e)).on(ui+r,ut,u(e._mouseleave,e)).on(wt+r+" "+ui+r+" "+lt+r+" "+at+r,ki,u(e._toggleHover,e));f.openOnClick&&(e.clicked=!1,e._documentClickHandler=u(e._documentClick,e),n(document).click(e._documentClickHandler));t.attr("role","menubar");t[0].id&&(e._ariaId=i.format("{0}_mn_active",t[0].id));i.notify(e)},events:[it,p,yt,pt,w],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,popupCollision:t},_initData:function(n){var t=this;n.dataSource&&(t.angular("cleanup",function(){return{elements:t.element.children()}}),t.element.empty(),t.append(n.dataSource,t.element),t.angular("compile",function(){return{elements:t.element.children()}}))},setOptions:function(n){var t=this.options.animation;this._animations(n);n.animation=e(!0,t,n.animation);"dataSource"in n&&this._initData(n);this._updateClasses();et.fn.setOptions.call(this,n)},destroy:function(){var t=this;et.fn.destroy.call(t);t.element.off(r);t._documentClickHandler&&n(document).unbind("click",t._documentClickHandler);i.destroy(t.element)},enable:function(n,t){return this._toggleDisabled(n,t!==!1),this},disable:function(n){return this._toggleDisabled(n,!1),this},append:function(n,t){t=this.element.find(t);var i=this._insert(n,t,t.length?t.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return vt(i.items,function(){i.group.append(this);tt(this)}),tt(t),y(i.group.find(".k-first, .k-last").add(i.items)),this},insertBefore:function(n,t){t=this.element.find(t);var i=this._insert(n,t,t.parent());return vt(i.items,function(){t.before(this);tt(this);y(this)}),y(t),this},insertAfter:function(n,t){t=this.element.find(t);var i=this._insert(n,t,t.parent());return vt(i.items,function(){t.after(this);tt(this);y(this)}),y(t),this},_insert:function(t,i,r){var h=this,u,c,o,s;return i&&i.length||(r=h.element),o=n.isPlainObject(t),s={firstLevel:r.hasClass(v),horizontal:r.hasClass(v+"-horizontal"),expanded:!0,length:r.children().length},i&&!r.length&&(r=n(f.renderGroup({group:s})).appendTo(i)),o||n.isArray(t)?u=n(n.map(o?[t]:t,function(t,i){return typeof t=="string"?n(t).get():n(f.renderItem({group:s,item:e(t,{index:i})})).get()})):(u=typeof t=="string"&&t.charAt(0)!="<"?h.element.find(t):n(t),c=u.find("> ul").addClass("k-menu-group").attr("role","menu"),u=u.filter("li"),u.add(c.find("> li")).each(function(){li(this)})),{items:u,group:r}},remove:function(n){var r;n=this.element.find(n);var u=this,t=n.parentsUntil(u.element,l),i=n.parent("ul:not(.k-menu)");return n.remove(),i&&!i.children(l).length&&(r=i.parent(".k-animation-container"),r.length?r.remove():i.remove()),t.length&&(t=t.eq(0),tt(t),y(t)),u},open:function(r){var u=this,f=u.options,s=f.orientation=="horizontal",o=f.direction,h=i.support.isRtl(u.wrapper);return r=u.element.find(r),/^(top|bottom|default)$/.test(o)&&(o=h?s?(o+" left").replace("default","bottom"):"left":s?(o+" right").replace("default","bottom"):"right"),r.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var t=n(this).data("kendoPopup");t&&t.close()}),r.each(function(){var r=n(this);clearTimeout(r.data(ot));r.data(ot,setTimeout(function(){var c=r.find(".k-menu-group:first:hidden"),l,k,y;if(c[0]&&u._triggerEvent({item:r[0],type:it})===!1){!c.find(".k-menu-group")[0]&&c.children(".k-item").length>1?(k=n(window).height(),y=function(){c.css({maxHeight:k-(c.outerHeight()-c.height())-i.getShadows(c).bottom,overflow:"auto"})},i.support.browser.msie&&i.support.browser.version<=7?setTimeout(y,0):y()):c.css({maxHeight:"",overflow:""});r.data(b,r.css(b));r.css(b,u.nextItemZIndex++);l=c.data(ht);var w=r.parent().hasClass(v),nt=w&&s,a=nr(o,w,h),d=f.animation.open.effects,g=d!==t?d:"slideIn:"+gi(o,w);l?(l=c.data(ht),l.options.origin=a.origin,l.options.position=a.position,l.options.animation.open.effects=g):l=c.kendoPopup({activate:function(){u._triggerEvent({item:this.wrapper.parent(),type:yt})},deactivate:function(n){n.sender.element.removeData("targetTransform").css({opacity:""});u._triggerEvent({item:this.wrapper.parent(),type:pt})},origin:a.origin,position:a.position,collision:f.popupCollision!==t?f.popupCollision:nt?"fit":"fit flip",anchor:r,appendTo:r,animation:{open:e(!0,{effects:g},f.animation.open),close:f.animation.close},close:function(n){var t=n.sender.wrapper.parent();u._triggerEvent({item:t[0],type:p})?n.preventDefault():(t.css(b,t.data(b)),t.removeData(b),ft&&(t.removeClass(bt),u._removeHoverItem()))}}).data(ht);c.removeAttr("aria-hidden");l.open()}},u.options.hoverDelay))}),u},close:function(t,i){var r=this,u=r.element;return t=u.find(t),t.length||(t=u.find(">.k-item")),t.each(function(){var t=n(this);!i&&r._isRootItem(t)&&(r.clicked=!1);clearTimeout(t.data(ot));t.data(ot,setTimeout(function(){var n=t.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(ht);n&&(n.close(),n.element.attr("aria-hidden",!0))},r.options.hoverDelay))}),r},_toggleDisabled:function(t,i){this.element.find(t).each(function(){n(this).toggleClass(fi,i).toggleClass(g,!i).attr("aria-disabled",!i)})},_toggleHover:function(t){var r=n(i.eventTarget(t)||t.target).closest(l),u=t.type==wt||lt.indexOf(t.type)!==-1;r.parents("li."+g).length||r.toggleClass(bt,u||t.type=="mousedown"||t.type=="click");this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(t){var u=this,f=n(t?t.currentTarget:this._hoverItem()),r=u._findRootParent(f)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(o(r,i._activeElement())||!t||o(r,t.currentTarget))||u.close(r)},0);this._closurePrevented=!1},_removeHoverItem:function(){var n=this._hoverItem();n&&n.hasClass(c)&&(n.removeClass(c),this._oldHoverItem=null)},_updateClasses:function(){var n=this.element,r=".k-menu-init div ul",t;n.removeClass("k-menu-horizontal k-menu-vertical");n.addClass("k-widget k-reset k-header k-menu-init "+v).addClass(v+"-"+this.options.orientation);n.find("li > ul").filter(function(){return!i.support.matchesSelector.call(this,r)}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",n.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1");t=n.find("> li,.k-menu-group > li");n.removeClass("k-menu-init");t.each(function(){li(this)})},_mouseenter:function(t){var i=this,r=n(t.currentTarget),f=r.children(".k-animation-container").length||r.children(kt).length;t.delegateTarget==r.parents(ei)[0]&&(i.options.openOnClick&&!i.clicked||ft||(k||d)&&t.originalEvent.pointerType in ci&&i._isRootItem(r.closest(l))||!o(t.currentTarget,t.relatedTarget)&&f&&i.open(r),(i.options.openOnClick&&i.clicked||wi)&&r.siblings().each(u(function(n,t){i.close(t,!0)},i)))},_mouseleave:function(t){var u=this,r=n(t.currentTarget),f=r.children(".k-animation-container").length||r.children(kt).length;if(r.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]){t.stopImmediatePropagation();return}u.options.openOnClick||ft||(k||d)&&t.originalEvent.pointerType in ci||o(t.currentTarget,t.relatedTarget||t.target)||!f||o(t.currentTarget,i._activeElement())||u.close(r)},_click:function(t){var r=this,c,e=r.options,f=n(i.eventTarget(t)),o=f[0]?f[0].nodeName.toUpperCase():"",y=o=="INPUT"||o=="SELECT"||o=="BUTTON"||o=="LABEL",a=f.closest("."+rt),u=f.closest(l),v=a.attr("href"),s,b,nt=f.attr("href"),tt=n("<a href='#' />").attr("href"),h=!!v&&v!==tt,ut=h&&!!v.match(/^#/),ft=!!nt&&nt!==tt,et=e.openOnClick&&b&&r._isRootItem(u);if(!f.closest(di,u[0]).length){if(u.hasClass(g)){t.preventDefault();return}if(t.handled||!r._triggerEvent({item:u[0],type:w})||y||t.preventDefault(),t.handled=!0,s=u.children(oi),b=s.is(":visible"),e.closeOnClick&&(!h||ut)&&(!s.length||et)){u.removeClass(bt).css("height");r._oldHoverItem=r._findRootParent(u);r.close(a.parentsUntil(r.element,l));r.clicked=!1;"MSPointerUp".indexOf(t.type)!=-1&&t.preventDefault();return}(h&&t.enterKey&&a[0].click(),r._isRootItem(u)&&e.openOnClick||i.support.touch||(k||d)&&r._isRootItem(u.closest(l)))&&(h||y||ft||t.preventDefault(),r.clicked=!0,c=s.is(":visible")?p:it,e.closeOnClick||c!=p)&&r[c](u)}},_documentClick:function(n){o(this.element[0],n.target)||(this.clicked=!1)},_focus:function(t){var i=this,r=t.target,u=i._hoverItem(),f=vi();if(r!=i.wrapper[0]&&!n(r).is(":kendoFocusable")){t.stopPropagation();n(r).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(c);i.wrapper.focus();return}f===t.currentTarget&&(u.length?i._moveHover([],u):i._oldHoverItem||i._moveHover([],i.wrapper.children().first()))},_keydown:function(n){var t=this,f=n.keyCode,r=t._oldHoverItem,u,e,o,h=i.support.isRtl(t.wrapper);if(n.target==n.currentTarget||f==s.ESC){if(r||(r=t._oldHoverItem=t._hoverItem()),e=t._itemBelongsToVertival(r),o=t._itemHasChildren(r),f==s.RIGHT)u=t[h?"_itemLeft":"_itemRight"](r,e,o);else if(f==s.LEFT)u=t[h?"_itemRight":"_itemLeft"](r,e,o);else if(f==s.DOWN)u=t._itemDown(r,e,o);else if(f==s.UP)u=t._itemUp(r,e,o);else if(f==s.ESC)u=t._itemEsc(r,e);else if(f==s.ENTER||f==s.SPACEBAR)u=r.children(".k-link"),u.length>0&&(t._click({target:u[0],preventDefault:function(){},enterKey:!0}),t._moveHover(r,t._findRootParent(r)));else if(f==s.TAB){u=t._findRootParent(r);t._moveHover(r,u);t._checkActiveElement();return}u&&u[0]&&(n.preventDefault(),n.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(n){var t=this.wrapper.hasClass("k-menu-vertical");return n.length?n.parent().hasClass("k-menu-group")||t:t},_itemHasChildren:function(n){return n.length?n.children("ul.k-menu-group, div.k-animation-container").length>0:!1},_moveHover:function(t,i){var u=this,r=u._ariaId;t.length&&i.length&&t.removeClass(c);i.length&&(i[0].id&&(r=i[0].id),i.addClass(c),u._oldHoverItem=i,r&&(u.element.removeAttr("aria-activedescendant"),n("#"+r).removeAttr("id"),i.attr("id",r),u.element.attr("aria-activedescendant",r)))},_findRootParent:function(n){return this._isRootItem(n)?n:n.parentsUntil(ei,"li.k-item").last()},_isRootItem:function(n){return n.parent().hasClass(v)},_itemRight:function(n,t,i){var u=this,r,f;if(!n.hasClass(g))return t?i?(u.open(n),r=n.find(".k-menu-group").children().first()):u.options.orientation=="horizontal"&&(f=u._findRootParent(n),u.close(f),r=f.nextAll(nt)):(r=n.nextAll(nt),r.length||(r=n.prevAll(hi))),r&&!r.length?r=u.wrapper.children(".k-item").first():r||(r=[]),u._moveHover(n,r),r},_itemLeft:function(n,t){var r=this,i;return t?(i=n.parent().closest(".k-item"),r.close(i),r._isRootItem(i)&&r.options.orientation=="horizontal"&&(i=i.prevAll(nt))):(i=n.prevAll(nt),i.length||(i=n.nextAll(hi))),i.length||(i=r.wrapper.children(".k-item").last()),r._moveHover(n,i),i},_itemDown:function(n,t,i){var u=this,r;if(t)r=n.nextAll(nt);else{if(!i||n.hasClass(g))return;u.open(n);r=n.find(".k-menu-group").children().first()}return!r.length&&n.length?r=n.parent().children().first():n.length||(r=u.wrapper.children(".k-item").first()),u._moveHover(n,r),r},_itemUp:function(n,t){var r=this,i;if(t)i=n.prevAll(nt);else return;return!i.length&&n.length?i=n.parent().children().last():n.length||(i=r.wrapper.children(".k-item").last()),r._moveHover(n,i),i},_itemEsc:function(n,t){var r=this,i;if(t)i=n.parent().closest(".k-item"),r.close(i),r._moveHover(n,i);else return n;return i},_triggerEvent:function(n){var t=this;return t.trigger(n.type,{type:n.type,item:n.item})},_focusHandler:function(t){var u=this,r=n(i.eventTarget(t)).closest(l);setTimeout(function(){u._moveHover([],r);r.children(".k-content")[0]&&r.parent().closest(".k-item").removeClass(c)},200)},_animations:function(n){n&&"animation"in n&&!n.animation&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}}),ai;e(f,{renderItem:function(n){n=e({menu:{},group:{}},n);var i=a.empty,t=n.item;return a.item(e(n,{image:t.imageUrl?a.image:i,sprite:t.spriteCssClass?a.sprite:i,itemWrapper:a.itemWrapper,renderContent:f.renderContent,arrow:t.items||t.content?a.arrow:i,subGroup:f.renderGroup},dt))},renderGroup:function(n){return a.group(e({renderItems:function(n){for(var r="",t=0,i=n.items,u=i?i.length:0,o=e({length:u},n.group);t<u;t++)r+=f.renderItem(e(n,{group:o,item:e({index:t},i[t])}));return r}},n,dt))},renderContent:function(n){return a.content(e(n,dt))}});ai=f.extend({init:function(t,i){var r=this;f.fn.init.call(r,t,i);r.target=n(r.options.target);r._popup();r._wire()},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,target:"body"},events:[it,p,yt,pt,w],setOptions:function(t){var i=this;f.fn.setOptions.call(i,t);i.target.off(i.showOn+r,i._showProxy);i.userEvents&&i.userEvents.destroy();i.target=n(i.options.target);t.orientation&&i.popup.wrapper[0]&&i.popup.element.unwrap();i._wire();f.fn.setOptions.call(this,t)},destroy:function(){var n=this;n.target.off(n.options.showOn+r);st.off(i.support.mousedown+r,n._closeProxy);n.userEvents&&n.userEvents.destroy();f.fn.destroy.call(n)},open:function(u,e){var s=this;if(u=n(u)[0],o(s.element[0],n(u)[0]))f.fn.open.call(s,u);else if(s._triggerEvent({item:s.element,type:it})===!1){s.popup.visible()&&s.options.filter&&s.popup.close(!0);e!==t?(s.popup.wrapper.hide(),s.popup.open(u,e)):(s.popup.options.anchor=(u?u:s.popup.anchor)||s.target,s.popup.open());st.off(s.popup.downEvent,s.popup._mousedownProxy);st.on(i.support.mousedown+r,s._closeProxy)}return s},close:function(){var t=this;o(t.element[0],n(arguments[0])[0])?f.fn.close.call(t,arguments[0]):t.popup.visible()&&t._triggerEvent({item:t.element,type:p})===!1&&(t.popup.close(),st.off(i.support.mousedown+r,t._closeProxy),t.unbind(w,t._closeTimeoutProxy))},_showHandler:function(n){var t=n,f,r=this,u=r.options;(n.event&&(t=n.event,t.pageX=n.x.location,t.pageY=n.y.location),o(r.element[0],n.relatedTarget||n.target))||(r._eventOrigin=t,t.preventDefault(),t.stopImmediatePropagation(),r.element.find("."+c).removeClass(c),(u.filter&&i.support.matchesSelector.call(t.currentTarget,u.filter)||!u.filter)&&(u.alignToAnchor?r.open(t.currentTarget):(r.popup.options.anchor=t.currentTarget,r._targetChild?(f=r.target.offset(),r.open(t.pageX-f.left,t.pageY-f.top)):r.open(t.pageX,t.pageY))))},_closeHandler:function(t){var i=this,h=i.options,r=n(t.relatedTarget||t.target),f=r.closest(i.target.selector)[0]==i.target[0],s=r.closest(ut).children(oi),u=o(i.element[0],r[0]),e;i._eventOrigin=t;e=t.which!==3;i.popup.visible()&&(e&&f||!f)&&(i.options.closeOnClick&&!s[0]&&u||!u)&&(u?(this.unbind(w,this._closeTimeoutProxy),i.bind(w,i._closeTimeoutProxy)):i.close())},_wire:function(){var n=this,t=n.options,f=n.target;if(n._showProxy=u(n._showHandler,n),n._closeProxy=u(n._closeHandler,n),n._closeTimeoutProxy=u(n.close,n),f[0])if(i.support.mobileOS&&t.showOn=="contextmenu"){n.userEvents=new i.UserEvents(f,{filter:t.filter,allowSelection:!1});f.on(t.showOn+r,!1);n.userEvents.bind("hold",n._showProxy)}else if(t.filter)f.on(t.showOn+r,t.filter,n._showProxy);else f.on(t.showOn+r,n._showProxy)},_triggerEvent:function(i){var r=this,f=n(r.popup.options.anchor)[0],u=r._eventOrigin;return r._eventOrigin=t,r.trigger(i.type,e({type:i.type,item:i.item||this.element[0],target:f},u?{event:u}:{}))},_popup:function(){var n=this;n._triggerProxy=u(n._triggerEvent,n);n.popup=n.element.addClass("k-context-menu").kendoPopup({anchor:n.target||"body",copyAnchorStyles:n.options.copyAnchorStyles,collision:n.options.popupCollision||"fit",animation:n.options.animation,activate:n._triggerProxy,deactivate:n._triggerProxy}).data("kendoPopup");n._targetChild=o(n.target[0],n.popup.element[0])}});ct.plugin(f);ct.plugin(ai)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.popup","./kendo.filtermenu","./kendo.menu"],n)}(function(){return function(n,t){function nt(t){return n.trim(t).replace(/&nbsp;/gi,"")}function tt(n,t){for(var u={},r,i=0,f=n.length;i<f;i++)r=n[i],u[r[t]]=r;return u}function a(n){for(var i=[],t=0;t<n.length;t++){if(!n[t].columns){i.push(n[t]);continue}i=i.concat(a(n[t].columns))}return i}var i=window.kendo,v=i.ui,f=n.proxy,d=n.extend,r=n.grep,h=n.map,y=n.inArray,e="k-state-selected",c="asc",p="desc",w="change",b="init",o="select",l="kendoPopup",g="kendoFilterMenu",k="kendoMenu",u=".kendoColumnMenu",s=v.Widget,it=s.extend({init:function(t,r){var e=this,o;s.fn.init.call(e,t,r);t=e.element;r=e.options;e.owner=r.owner;e.dataSource=r.dataSource;e.field=t.attr(i.attr("field"));e.title=t.attr(i.attr("title"));o=t.find(".k-header-column-menu");o[0]||(o=t.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/><\/a>').find(".k-header-column-menu"));e.link=o.attr("tabindex",-1).on("click"+u,f(e._click,e));e.wrapper=n('<div class="k-column-menu"/>');e._refreshHandler=f(e.refresh,e);e.dataSource.bind(w,e._refreshHandler)},_init:function(){var n=this;n.pane=n.options.pane;n.pane&&(n._isMobile=!0);n._isMobile?n._createMobileMenu():n._createMenu();n._angularItems("compile");n._sort();n._columns();n._filter();n._lockColumns();n.trigger(b,{field:n.field,container:n.wrapper})},events:[b],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"}},_createMenu:function(){var n=this,t=n.options;n.wrapper.html(i.template(rt)({ns:i.ns,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:n._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns}));n.popup=n.wrapper[l]({anchor:n.link,open:f(n._open,n),activate:f(n._activate,n),close:function(){n.options.closeCallback&&n.options.closeCallback(n.element)}}).data(l);n.menu=n.wrapper.children()[k]({orientation:"vertical",closeOnClick:!1}).data(k)},_createMobileMenu:function(){var n=this,t=n.options,r=i.template(ut)({ns:i.ns,field:n.field,title:n.title||n.field,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:n._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns});n.view=n.pane.append(r);n.wrapper=n.view.element.find(".k-column-menu");n.menu=new ft(n.wrapper.children(),{pane:n.pane});n.view.element.on("click",".k-done",function(t){n.close();t.preventDefault()});n.options.lockedColumns&&n.view.bind("show",function(){n._updateLockedColumns()})},_angularItems:function(t){var r=this;r.angular(t,function(){var t=r.wrapper.find(".k-columns-item input["+i.attr("field")+"]").map(function(){return n(this).closest("li")}),u=h(r._ownerColumns(),function(n){return{column:n._originalObject}});return{elements:t,data:u}})},destroy:function(){var n=this;n._angularItems("cleanup");s.fn.destroy.call(n);n.filterMenu&&n.filterMenu.destroy();n._refreshHandler&&n.dataSource.unbind(w,n._refreshHandler);n.options.columns&&n.owner&&(n._updateColumnsMenuHandler&&(n.owner.unbind("columnShow",n._updateColumnsMenuHandler),n.owner.unbind("columnHide",n._updateColumnsMenuHandler)),n._updateColumnsLockedStateHandler&&(n.owner.unbind("columnLock",n._updateColumnsLockedStateHandler),n.owner.unbind("columnUnlock",n._updateColumnsLockedStateHandler)));n.menu&&(n.menu.element.off(u),n.menu.destroy());n.wrapper.off(u);n.popup&&n.popup.destroy();n.view&&n.view.purge();n.link.off(u);n.owner=null;n.wrapper=null;n.element=null},close:function(){this.menu.close();this.popup&&(this.popup.close(),this.popup.element.off("keydown"+u))},_click:function(n){n.preventDefault();n.stopPropagation();var t=this.options;t.filter&&this.element.is(!t.filter)||(this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle())},_open:function(){var t=this;n(".k-column-menu").not(t.wrapper).each(function(){n(this).data(l).close()});t.popup.element.on("keydown"+u,function(n){n.keyCode==i.keys.ESC&&t.close()});t.options.lockedColumns&&t._updateLockedColumns()},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var n=a(this.owner.columns),t=r(n,function(n){var t=!0,i=nt(n.title||"");return n.menu!==!1&&(n.field||i.length)||(t=!1),t});return h(t,function(t){return{originalField:t.field,field:t.field||t.title,title:t.title||t.field,hidden:t.hidden,index:y(t,n),locked:!!t.locked,_originalObject:t}})},_sort:function(){var t=this;t.options.sortable&&(t.refresh(),t.menu.bind(o,function(i){var u=n(i.item),r;(u.hasClass("k-sort-asc")?r=c:u.hasClass("k-sort-desc")&&(r=p),r)&&(u.parent().find(".k-sort-"+(r==c?p:c)).removeClass(e),t._sortDataSource(u,r),t.close())}))},_sortDataSource:function(n,i){var u=this,f=u.options.sortable,s=f.compare===null?t:f.compare,h=u.dataSource,o,c,r=h.sort()||[];if(n.hasClass(e)&&f&&f.allowUnsort!==!1?(n.removeClass(e),i=t):n.addClass(e),f.mode==="multiple"){for(o=0,c=r.length;o<c;o++)if(r[o].field===u.field){r.splice(o,1);break}r.push({field:u.field,dir:i,compare:s})}else r=[{field:u.field,dir:i,compare:s}];h.sort(r)},_columns:function(){var t=this;t.options.columns&&(t._updateColumnsMenu(),t._updateColumnsMenuHandler=f(t._updateColumnsMenu,t),t.owner.bind(["columnHide","columnShow"],t._updateColumnsMenuHandler),t._updateColumnsLockedStateHandler=f(t._updateColumnsLockedState,t),t.owner.bind(["columnUnlock","columnLock"],t._updateColumnsLockedStateHandler),t.menu.bind(o,function(u){var s=n(u.item),e,f,h=a(t.owner.columns),o;(t._isMobile&&u.preventDefault(),s.parent().closest("li.k-columns-item")[0])&&((e=s.find(":checkbox"),e.attr("disabled"))||(o=e.attr(i.attr("field")),f=r(h,function(n){return n.field==o||n.title==o})[0],f.hidden===!0?t.owner.showColumn(f):t.owner.hideColumn(f)))}))},_updateColumnsMenu:function(){var t,s,n,u,e,c=i.attr("field"),a=i.attr("locked"),f=r(this._ownerColumns(),function(n){return!n.hidden}),l=r(f,function(n){return n.originalField}),v=r(l,function(n){return n.locked===!0}).length,p=r(l,function(n){return n.locked!==!0}).length,o;for(f=h(f,function(n){return n.field}),o=this.wrapper.find(".k-columns-item input["+c+"]").prop("disabled",!1).prop("checked",!1),t=0,s=o.length;t<s;t++)n=o.eq(t),e=n.attr(a)==="true",u=!1,y(n.attr(c),f)>-1&&(u=!0,n.prop("checked",u)),u&&(v==1&&e&&n.prop("disabled",!0),p!=1||e||n.prop("disabled",!0))},_updateColumnsLockedState:function(){for(var t,r,e=i.attr("field"),o=i.attr("locked"),s=tt(this._ownerColumns(),"field"),f=this.wrapper.find(".k-columns-item input[type=checkbox]"),n=0,u=f.length;n<u;n++)t=f.eq(n),r=s[t.attr(e)],r&&t.attr(o,r.locked);this._updateColumnsMenu()},_filter:function(){var t=this,r=g,i=t.options;i.filterable!==!1&&(i.filterable.multi&&(r="kendoFilterMultiCheck",i.filterable.dataSource&&(i.filterable.checkSource=i.filterable.dataSource,delete i.filterable.dataSource)),t.filterMenu=t.wrapper.find(".k-filterable")[r](d(!0,{},{appendToElement:!0,dataSource:i.dataSource,values:i.values,field:t.field,title:t.title},i.filterable)).data(r),t._isMobile&&t.menu.bind(o,function(i){var r=n(i.item);r.hasClass("k-filter-item")&&t.pane.navigate(t.filterMenu.view,t.options.animations.left)}))},_lockColumns:function(){var t=this;t.menu.bind(o,function(i){var r=n(i.item);r.hasClass("k-lock")?(t.owner.lockColumn(t.field),t.close()):r.hasClass("k-unlock")&&(t.owner.unlockColumn(t.field),t.close())})},_updateLockedColumns:function(){var t=this.field,i=this.owner.columns,u=r(i,function(n){return n.field==t||n.title==t})[0];if(u){var n=u.locked===!0,f=r(i,function(t){return!t.hidden&&(t.locked&&n||!t.locked&&!n)}).length,e=this.wrapper.find(".k-lock").removeClass("k-state-disabled"),o=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");(n||f==1)&&e.addClass("k-state-disabled");n&&f!=1||o.addClass("k-state-disabled");this._updateColumnsLockedState()}},refresh:function(){var n=this,r=n.options.dataSource.sort()||[],i,f=n.field,t,u;for(n.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(e),t=0,u=r.length;t<u;t++)i=r[t],f==i.field&&n.wrapper.find(".k-sort-"+i.dir).addClass(e);n.link[n._filterExist(n.dataSource.filter())?"addClass":"removeClass"]("k-state-active")},_filterExist:function(n){var t=!1,i,r,u;if(n){for(n=n.filters,r=0,u=n.length;r<u;r++)i=n[r],i.field==this.field?t=!0:i.filters&&(t=t||this._filterExist(i));return t}}}),rt='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"><\/span>${messages.sortAscending}<\/span><\/li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"><\/span>${messages.sortDescending}<\/span><\/li>#if(showColumns || filterable){#<li class="k-separator"><\/li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"><\/span>${messages.columns}<\/span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#<\/li>#}#<\/ul><\/li>#if(filterable || lockedColumns){#<li class="k-separator"><\/li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"><\/span>${messages.filter}<\/span><ul><li><div class="k-filterable"><\/div><\/li><\/ul><\/li>#if(lockedColumns){#<li class="k-separator"><\/li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"><\/span>${messages.lock}<\/span><\/li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"><\/span>${messages.unlock}<\/span><\/li>#}#<\/ul>',ut='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#<\/button><\/div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}<\/span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"><\/span>${messages.sortAscending}<\/span><\/li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"><\/span>${messages.sortDescending}<\/span><\/li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"><\/span>${messages.lock}<\/span><\/li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"><\/span>${messages.unlock}<\/span><\/li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"><\/span>${messages.filter}<\/span><\/li>#}#<\/ul><\/li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}<\/span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#<\/label><\/li>#}#<\/ul><\/li>#}#<\/ul><\/div><\/div>',ft=s.extend({init:function(n,t){s.fn.init.call(this,n,t);this.element.on("click"+u,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click")},events:[o],_click:function(t){n(t.target).is("[type=checkbox]")||t.preventDefault();this.trigger(o,{item:t.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){s.fn.destroy.call(this);this.element.off(u)}});v.plugin(it)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.draganddrop"],n)}(function(){return function(n){function s(n){return n.position().top+3}var t=window.kendo,f=t.ui.Widget,u=n.proxy,i=!1,e=".kendoGroupable",h="change",c=t.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})<\/span>${data.title ? data.title: data.field}<\/a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"><\/span><\/a><\/div>',{useWithBlock:!1}),o=function(i){return n('<div class="k-header k-drag-clue" />').css({width:i.width(),paddingLeft:i.css("paddingLeft"),paddingRight:i.css("paddingRight"),lineHeight:i.height()+"px",paddingTop:i.css("paddingTop"),paddingBottom:i.css("paddingBottom")}).html(i.attr(t.attr("title"))||i.attr(t.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},r=n('<div class="k-grouping-dropclue"/>'),l=f.extend({init:function(c,l){var a=this,b=t.guid(),p=u(a._intializePositions,a),v,w,y=a._dropCuePositions=[];f.fn.init.call(a,c,l);i=t.support.isRtl(c);w=i?"right":"left";a.draggable=v=a.options.draggable||new t.ui.Draggable(a.element,{filter:a.options.draggableElements,hint:o,group:b});a.groupContainer=n(a.options.groupContainer,a.element).kendoDropTarget({group:v.options.group,dragenter:function(n){a._canDrag(n.draggable.currentTarget)&&(n.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),r.css("top",s(a.groupContainer)).css(w,0).appendTo(a.groupContainer))},dragleave:function(n){n.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied");r.remove()},drop:function(u){var e=u.draggable.currentTarget,o=e.attr(t.attr("field")),s=e.attr(t.attr("title")),h=a.indicator(o),l=a._dropCuePositions,c=l[l.length-1],f;(e.hasClass("k-group-indicator")||a._canDrag(e))&&(c?(f=a._dropCuePosition(t.getOffset(r).left+parseInt(c.element.css("marginLeft"),10)*(i?-1:1)+parseInt(c.element.css("marginRight"),10)),f&&a._canDrop(n(h),f.element,f.left)&&(f.before?f.element.before(h||a.buildIndicator(o,s)):f.element.after(h||a.buildIndicator(o,s)),a._change())):(a.groupContainer.append(a.buildIndicator(o,s)),a._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:o,group:v.options.group,dragcancel:u(a._dragCancel,a),dragstart:function(n){var t=n.currentTarget,f=parseInt(t.css("marginLeft"),10),u=t.position(),e=i?u.left-f:u.left+t.outerWidth();p();r.css({top:s(a.groupContainer),left:e}).appendTo(a.groupContainer);this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){a._dragEnd(this)},drag:u(a._drag,a)}).on("click"+e,".k-button",function(t){t.preventDefault();a._removeIndicator(n(this).parent())}).on("click"+e,".k-link",function(i){var r=n(this).parent(),u=a.buildIndicator(r.attr(t.attr("field")),r.attr(t.attr("title")),r.attr(t.attr("dir"))=="asc"?"desc":"asc");r.before(u).remove();a._change();i.preventDefault()});v.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){a._dragEnd(this)},dragcancel:u(a._dragCancel,a),dragstart:function(n){var t,i,r;if(!a.options.allowDrag&&!a._canDrag(n.currentTarget)){n.preventDefault();return}p();y.length?(t=y[y.length-1].element,i=parseInt(t.css("marginRight"),10),r=t.position().left+t.outerWidth()+i):r=0},drag:u(a._drag,a)});a.dataSource=a.options.dataSource;a.dataSource&&a._refreshHandler?a.dataSource.unbind(h,a._refreshHandler):a._refreshHandler=u(a.refresh,a);a.dataSource&&(a.dataSource.bind("change",a._refreshHandler),a.refresh())},refresh:function(){var i=this,r=i.dataSource;i.groupContainer&&i.groupContainer.empty().append(n.map(r.group()||[],function(r){var u=r.field,f=t.attr("field"),e=i.element.find(i.options.filter).filter(function(){return n(this).attr(f)===u});return i.buildIndicator(r.field,e.attr(t.attr("title")),r.dir)}).join(""));i._invalidateGroupContainer()},destroy:function(){var n=this;f.fn.destroy.call(n);n.groupContainer.off(e);n.groupContainer.data("kendoDropTarget")&&n.groupContainer.data("kendoDropTarget").destroy();n.groupContainer.data("kendoDraggable")&&n.groupContainer.data("kendoDraggable").destroy();n.options.draggable||n.draggable.destroy();n.dataSource&&n._refreshHandler&&(n.dataSource.unbind("change",n._refreshHandler),n._refreshHandler=null);n.groupContainer=n.element=n.draggable=null},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(i){var r=n(".k-group-indicator",this.groupContainer);return n.grep(r,function(r){return n(r).attr(t.attr("field"))===i})[0]},buildIndicator:function(n,i,r){return c({field:n.replace(/"/g,"'"),dir:r,title:i,ns:t.ns})},descriptors:function(){var r=this,s=n(".k-group-indicator",r.groupContainer),f,u,e,i,o;return f=r.element.find(r.options.filter).map(function(){var f=n(this),r=f.attr(t.attr("aggregates")),e=f.attr(t.attr("field"));if(r&&r!=="")for(u=r.split(","),r=[],i=0,o=u.length;i<o;i++)r.push({field:e,aggregate:u[i]});return r}).toArray(),n.map(s,function(i){return i=n(i),e=i.attr(t.attr("field")),{field:e,dir:i.attr(t.attr("dir")),aggregates:f||[]}})},_removeIndicator:function(n){var t=this;n.remove();t._invalidateGroupContainer();t._change()},_change:function(){var n=this;n.dataSource&&n.dataSource.group(n.descriptors())},_dropCuePosition:function(t){var f=this._dropCuePositions;if(r.is(":visible")&&f.length!==0){t=Math.ceil(t);var u=f[f.length-1],s=u.left,h=u.right,e=parseInt(u.element.css("marginLeft"),10),o=parseInt(u.element.css("marginRight"),10);return t>=h&&!i||t<s&&i?t={left:u.element.position().left+(i?-e:u.element.outerWidth()+o),element:u.element,before:!1}:(t=n.grep(f,function(n){return n.left<=t&&t<=n.right||i&&t>n.right})[0],t&&(t={left:i?t.element.position().left+t.element.outerWidth()+o:t.element.position().left-e,element:t.element,before:!0})),t}},_drag:function(n){var t=this._dropCuePosition(n.x.location);t&&r.css({left:t.left,right:"auto"})},_canDrag:function(n){var i=n.attr(t.attr("field"));return n.attr(t.attr("groupable"))!="false"&&i&&(n.hasClass("k-group-indicator")||!this.indicator(i))},_canDrop:function(n,t,r){var u=n.next();return n[0]!==t[0]&&(!u[0]||t[0]!==u[0]||!i&&r>u.position().left||i&&r<u.position().left)},_dragEnd:function(i){var r=this,f=i.currentTarget.attr(t.attr("field")),u=r.indicator(f);i!==r.options.draggable&&!i.dropped&&u&&r._removeIndicator(n(u));r._dragCancel()},_dragCancel:function(){r.remove();this._dropCuePositions=[]},_intializePositions:function(){var r=this,u=n(".k-group-indicator",r.groupContainer),i;r._dropCuePositions=n.map(u,function(r){return r=n(r),i=t.getOffset(r).left,{left:parseInt(i,10),right:parseInt(i+r.outerWidth(),10),element:r}})},_invalidateGroupContainer:function(){var n=this.groupContainer;n&&n.is(":empty")&&n.html(this.options.messages.empty)}});t.ui.plugin(l)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.list","./kendo.mobile.scroller"],n)}(function(){return function(n,t){function c(n,t,i){return i?t.substring(0,n).split(i).length-1:0}function rt(n,t,i){return t.split(i)[c(n,t,i)]}function ut(n,t,i,r){var u=t.split(r);return u.splice(c(n,t,r),1,i),r&&u[u.length-1]!==""&&u.push(""),u.join(r)}var r=window.kendo,d=r.support,f=r.caret,l=r._activeElement,a=d.placeholder,v=r.ui,o=v.List,u=r.keys,g=r.data.DataSource,y="aria-disabled",p="aria-readonly",s="k-state-default",w="disabled",b="readonly",k="k-state-focused",nt="k-state-selected",h="k-state-disabled",tt="k-state-hover",i=".kendoAutoComplete",it="mouseenter"+i+" mouseleave"+i,e=n.proxy,ft=o.extend({init:function(t,u){var f=this,s,h;f.ns=i;u=n.isArray(u)?{dataSource:u}:u;o.fn.init.call(f,t,u);t=f.element;u=f.options;u.placeholder=u.placeholder||t.attr("placeholder");a&&t.attr("placeholder",u.placeholder);f._wrapper();f._loader();f._dataSource();f._ignoreCase();t[0].type="text";s=f.wrapper;f._popup();t.addClass("k-input").on("keydown"+i,e(f._keydown,f)).on("paste"+i,e(f._search,f)).on("focus"+i,function(){f._active=!0;f._prev=f._accessor();f._placeholder(!1);s.addClass(k)}).on("focusout"+i,function(){f._change();f._placeholder();f._active=!1;s.removeClass(k)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0});f._enable();f._old=f._accessor();t[0].id&&t.attr("aria-owns",f.ul[0].id);f._aria();f._placeholder();f._initList();h=n(f.element).parents("fieldset").is(":disabled");h&&f.enable(!1);r.notify(f)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var n=this;n.dataSource&&n._refreshHandler?n._unbindDataSource():n._progressHandler=e(n._showBusy,n);n.dataSource=g.create(n.options.dataSource).bind("progress",n._progressHandler)},setDataSource:function(n){this.options.dataSource=n;this._dataSource();this.listView.setDataSource(this.dataSource)},events:["open","close","change","select","filtering","dataBinding","dataBound"],setOptions:function(n){var t=this._listOptions(n);o.fn.setOptions.call(this,n);t.dataValueField=t.dataTextField;this.listView.setOptions(t);this._accessors();this._aria()},_editable:function(n){var r=this,f=r.element,e=r.wrapper.off(i),u=n.readonly,t=n.disable;if(u||t)e.addClass(t?h:s).removeClass(t?s:h),f.attr(w,t).attr(b,u).attr(y,t).attr(p,u);else{e.addClass(s).removeClass(h).on(it,r._toggleHover);f.removeAttr(w).removeAttr(b).attr(y,!1).attr(p,!1)}},close:function(){var n=this,t=n.listView.focus();t&&t.removeClass(nt);n.popup.close()},destroy:function(){var n=this;n.element.off(i);n.wrapper.off(i);o.fn.destroy.call(n)},refresh:function(){this.listView.refresh()},select:function(n){this._select(n)},search:function(n){var t=this,i=t.options,u=i.ignoreCase,e=i.separator,r;n=n||t._accessor();clearTimeout(t._typingTimeout);e&&(n=rt(f(t.element)[0],n,e));r=n.length;(!r||r>=i.minLength)&&(t._open=!0,t.listView.filter(!0),t._filterSource({value:u?n.toLowerCase():n,operator:i.filter,field:i.dataTextField,ignoreCase:u}))},suggest:function(n){var i=this,y=i._last,r=i._accessor(),v=i.element[0],e=f(v)[0],h=i.options.separator,a=r.split(h),p=c(e,r,h),w=e,s;if(y==u.BACKSPACE||y==u.DELETE){i._last=t;return}n=n||"";typeof n!="string"&&(n[0]&&(n=i.dataSource.view()[o.inArray(n[0],i.ul[0])]),n=n?i._text(n):"");e<=0&&(e=r.toLowerCase().indexOf(n.toLowerCase())+1);s=r.substring(0,e).lastIndexOf(h);s=s>-1?e-(s+h.length):e;r=a[p].substring(0,s);n&&(n=n.toString(),s=n.toLowerCase().indexOf(r.toLowerCase()),s>-1&&(n=n.substring(s+r.length),w=e+n.length,r+=n),h&&a[a.length-1]!==""&&a.push(""));a[p]=r;i._accessor(a.join(h||""));v===l()&&f(v,e,w)},value:function(n){if(n!==t)this.listView.value(n),this._accessor(n),this._old=this._accessor();else return this._accessor()},_click:function(n){var t=n.item,i=this.element;if(this._active=!0,this.trigger("select",{item:t})){this.close();return}this._select(t);this._blur();f(i,i.val().length)},_initList:function(){var t=this,u=t.options.virtual,o=!!u,f=e(t._listBound,t),i={autoBind:!1,selectable:!0,dataSource:t.dataSource,click:n.proxy(t._click,this),change:n.proxy(t._listChange,this),activate:e(t._activateItem,t),deactivate:e(t._deactivateItem,t),dataBinding:function(){t.trigger("dataBinding");t._angularItems("cleanup")},dataBound:f,listBound:f};i=n.extend(t._listOptions(),i,typeof u=="object"?u:{});i.dataValueField=i.dataTextField;t.listView=o?new r.ui.VirtualList(t.ul,i):new r.ui.StaticList(t.ul,i);t.listView.value(t.options.value)},_listBound:function(){var n=this,u=n.popup,f=n.options,e=n.dataSource.flatView(),i=e.length,o=n.element[0]===l(),r,s;n._angularItems("compile");n._open&&(n.listView.value([]),n.listView.focus(-1));n.listView.filter(!1);n._calculateGroupPadding(n._height(i));u.position();i&&(s=this.listView.focus(),f.highlightFirst&&!s&&n.listView.first(),f.suggest&&o&&n.suggest(e[0]));n._open&&(n._open=!1,r=i?"open":"close",n._typingTimeout&&!o&&(r="close"),u[r](),n._typingTimeout=t);n._touchScroller&&n._touchScroller.reset();n._hideBusy();n._makeUnselectable();n.trigger("dataBound")},_listChange:function(){!this.listView.filter()&&this._active&&this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(n){var i=this.options.separator,t="";n&&(t=this._text(n));t===null&&(t="");i&&(t=ut(f(this.element)[0],this._accessor(),t,i));this._prev=t;this._accessor(t);this._placeholder()},_accessor:function(n){var i=this,r=i.element[0];if(n!==t)r.value=n===null?"":n,i._placeholder();else return(n=r.value,r.className.indexOf("k-readonly")>-1)?n===i.options.placeholder?"":n:n},_keydown:function(n){var i=this,t=n.keyCode,r=i.popup.visible(),f=this.listView.focus();if(i._last=t,t===u.DOWN)r&&this._move(f?"next":"first"),n.preventDefault();else if(t===u.UP)r&&this._move(f?"prev":"last"),n.preventDefault();else if(t===u.ENTER||t===u.TAB){if(t===u.ENTER&&r&&n.preventDefault(),r&&f){if(i.trigger("select",{item:f}))return;this._select(f)}this._blur()}else t===u.ESC?(r&&n.preventDefault(),i.close()):(i._search(),i._typing=!0)},_move:function(n){this.listView[n]();this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){var n=this;clearTimeout(n._busy);n._loading.hide();n.element.attr("aria-busy",!1);n._busy=null},_showBusy:function(){var n=this;n._busy||(n._busy=setTimeout(function(){n.element.attr("aria-busy",!0);n._loading.show()},100))},_placeholder:function(n){if(!a){var e=this,u=e.element,i=e.options.placeholder,r;if(i){if(r=u.val(),n===t&&(n=!r),n||(i=r!==i?r:""),r===e._old&&!n)return;u.toggleClass("k-readonly",n).val(i);i||u[0]!==document.activeElement||f(u[0],0,0)}}},_search:function(){var n=this;clearTimeout(n._typingTimeout);n._typingTimeout=setTimeout(function(){n._prev!==n._accessor()&&(n._prev=n._accessor(),n.search())},n.options.delay)},_select:function(n){this.listView.select(n)},_loader:function(){this._loading=n('<span class="k-icon k-loading" style="display:none"><\/span>').insertAfter(this.element)},_toggleHover:function(t){n(t.currentTarget).toggleClass(tt,t.type==="mouseenter")},_wrapper:function(){var t=this,i=t.element,r=i[0],n;n=i.parent();n.is("span.k-widget")||(n=i.wrap("<span />").parent());n.attr("tabindex",-1);n.attr("role","presentation");n[0].style.cssText=r.style.cssText;i.css({width:"100%",height:r.style.height});t._focused=t.element;t.wrapper=n.addClass("k-widget k-autocomplete k-header").addClass(r.className)}});v.plugin(ft)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.autocomplete","./kendo.datepicker","./kendo.numerictextbox","./kendo.combobox","./kendo.dropdownlist"],n)}(function(){return function(n,t){function v(t,i){var r=[],u,f;if(n.isPlainObject(t))if(t.hasOwnProperty("filters"))r=t.filters;else if(t.field==i)return t;for(n.isArray(t)&&(r=t),u=0;u<r.length;u++)if(f=v(r[u],i),f)return f}function y(t,i){t.filters&&(t.filters=n.grep(t.filters,function(n){return y(n,i),n.filters?n.filters.length:n.field!=i}))}function p(n,t){var r=i.getter(t,!0);return function(t){for(var f=n(t),e=[],o=0,s={},i,u;o<f.length;)i=f[o++],u=r(i),s.hasOwnProperty(u)||(e.push(i),s[u]=!0);return e}}var i=window.kendo,a=i.ui,o=i.data.DataSource,s=a.Widget,h="change",c="boolean",l="enums",r="string",u="Is equal to",f="Is not equal to",e=n.proxy,w=s.extend({init:function(u,f){var g,p,v;u=n(u).addClass("k-filtercell");var k=this.wrapper=n("<span/>").appendTo(u),o=this,w,b,nt=f,d,a,y=o.operators=f.operators||{},tt=o.input=n("<input/>").attr(i.attr("bind"),"value: value").appendTo(k);if(s.fn.init.call(o,u[0],f),f=o.options,w=o.dataSource=f.dataSource,o.model=w.reader.model,a=f.type=r,g=i.getter("reader.model.fields",!0)(w)||{},p=g[f.field],p&&p.type&&(a=f.type=p.type),f.values&&(f.type=a=l),y=y[a]||f.operators[a],!nt.operator)for(d in y){f.operator=d;break}o._parse=function(n){return n+""};o.model&&o.model.fields&&(v=o.model.fields[f.field],v&&v.parse&&(o._parse=e(v.parse,v)));o.viewModel=b=i.observable({operator:f.operator,value:null,operatorVisible:function(){var n=this.get("value");return n!==null&&n!==t&&n!="undefined"}});b.bind(h,e(o.updateDsFilter,o));a==r&&o.initSuggestDataSource(f);f.inputWidth!==null&&tt.width(f.inputWidth);o._setInputType(f,a);a!=c&&f.showOperators!==!1?o._createOperatorDropDown(y):k.addClass("k-operator-hidden");o._createClearIcon();i.bind(this.wrapper,b);a==r&&(f.template||o.setAutoCompleteSource());a==l&&o.setComboBoxSource(o.options.values);o._refreshUI();o._refreshHandler=e(o._refreshUI,o);o.dataSource.bind(h,o._refreshHandler)},_setInputType:function(t,u){var f=this,e=f.input,s;if(typeof t.template=="function")t.template.call(f.viewModel,{element:f.input,dataSource:f.suggestDataSource});else if(u==r)e.attr(i.attr("role"),"autocomplete").attr(i.attr("text-field"),t.dataTextField||t.field).attr(i.attr("filter"),t.suggestionOperator).attr(i.attr("delay"),t.delay).attr(i.attr("min-length"),t.minLength).attr(i.attr("value-primitive"),!0);else if(u=="date")e.attr(i.attr("role"),"datepicker");else if(u==c){e.remove();var o=n("<input type='radio'/>"),a=f.wrapper,v=i.guid(),h=n("<label/>").text(t.messages.isTrue).append(o);o.attr(i.attr("bind"),"checked:value").attr("name",v).val("true");s=h.clone().text(t.messages.isFalse);o.clone().val("false").appendTo(s);a.append([h,s])}else u=="number"?e.attr(i.attr("role"),"numerictextbox"):u==l&&e.attr(i.attr("role"),"combobox").attr(i.attr("text-field"),"text").attr(i.attr("suggest"),!0).attr(i.attr("filter"),"contains").attr(i.attr("value-field"),"value").attr(i.attr("value-primitive"),!0)},_createOperatorDropDown:function(t){var u=[],r,f;for(r in t)u.push({text:t[r],value:r});f=n('<input class="k-dropdown-operator" '+i.attr("bind")+'="value: operator"/>').appendTo(this.wrapper);this.operatorDropDown=f.kendoDropDownList({dataSource:u,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:!0}).data("kendoDropDownList");this.operatorDropDown.wrapper.find(".k-i-arrow-s").removeClass("k-i-arrow-s").addClass("k-filter")},initSuggestDataSource:function(n){var i=n.suggestDataSource;i instanceof o||(!n.customDataSource&&i&&(i.group=t),i=this.suggestDataSource=o.create(i));n.customDataSource||(i._pageSize=t,i.reader.data=p(i.reader.data,this.options.field));this.suggestDataSource=i},setAutoCompleteSource:function(){var n=this.input.data("kendoAutoComplete");n&&n.setDataSource(this.suggestDataSource)},setComboBoxSource:function(n){var i=o.create({data:n}),t=this.input.data("kendoComboBox");t&&t.setDataSource(i)},_refreshUI:function(){var t=this,i=v(t.dataSource.filter(),this.options.field)||{},r=t.viewModel;t.manuallyUpdatingVM=!0;i=n.extend(!0,{},i);t.options.type==c&&r.value!==i.value&&t.wrapper.find(":radio").prop("checked",!1);i.operator&&r.set("operator",i.operator);r.set("value",i.value);t.manuallyUpdatingVM=!1},updateDsFilter:function(i){var r=this,o=r.viewModel,u,f,e;r.manuallyUpdatingVM||i.field=="operator"&&o.value===t||(u=n.extend({},r.viewModel.toJSON(),{field:r.options.field}),f={logic:"and",filters:[]},u.value!==t&&u.value!==null&&f.filters.push(u),e=r._merge(f),e.filters.length?r.dataSource.filter(e):r.dataSource.filter({}))},_merge:function(t){var f=this,s=t.logic||"and",r=t.filters,e,i=f.dataSource.filter()||{filters:[],logic:"and"},u,o;for(y(i,f.options.field),u=0,o=r.length;u<o;u++)e=r[u],e.value=f._parse(e.value);return r=n.grep(r,function(n){return n.value!==""&&n.value!==null}),r.length&&(i.filters.length?(t.filters=r,i.logic!=="and"&&(i.filters=[{logic:i.logic,filters:i.filters}],i.logic="and"),r.length>1?i.filters.push(t):i.filters.push(r[0])):(i.filters=r,i.logic=s)),i},_createClearIcon:function(){var t=this;n("<button type='button' class='k-button k-button-icon'/>").attr(i.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-close'/>").click(e(t.clearFilter,t)).appendTo(t.wrapper)},clearFilter:function(){this.viewModel.set("value",null)},destroy:function(){var n=this;n.filterModel=null;s.fn.destroy.call(n);i.destroy(n.element)},events:[h],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:t,customDataSource:!1,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:!0,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:u,neq:f,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:u,neq:f,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:u,neq:f,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:u,neq:f}}}});a.plugin(w)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.data"],n)}(function(){return function(n,t){function y(n,t,r,u,f){return n({idx:t,text:r,ns:i.ns,numeric:u,title:f||""})}function e(n,t,i){return tt({className:n.substring(1),text:t,wrapClassName:i||""})}function o(n,t,r,u){n.find(t).parent().attr(i.attr("page"),r).attr("tabindex",-1).toggleClass("k-state-disabled",u)}function w(n,t){o(n,h,1,t<=1)}function b(n,t){o(n,l,Math.max(1,t-1),t<=1)}function k(n,t,i){o(n,a,Math.min(i,t+1),t>=i)}function d(n,t,i){o(n,c,i,t>=i)}var i=window.kendo,p=i.ui,s=p.Widget,u=n.proxy,h=".k-i-seek-w",c=".k-i-seek-e",l=".k-i-arrow-w",a=".k-i-arrow-e",r="change",f=".kendoPager",v="click",g="keydown",nt="disabled",tt=i.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#<\/span><\/a>'),it=s.extend({init:function(t,o){var y=this,nt,p,tt,it;if(s.fn.init.call(y,t,o),o=y.options,y.dataSource=i.data.DataSource.create(o.dataSource),y.linkTemplate=i.template(y.options.linkTemplate),y.selectTemplate=i.template(y.options.selectTemplate),y.currentPageTemplate=i.template(y.options.currentPageTemplate),nt=y.page(),p=y.totalPages(),y._refreshHandler=u(y.refresh,y),y.dataSource.bind(r,y._refreshHandler),o.previousNext&&(y.element.find(h).length||(y.element.append(e(h,o.messages.first,"k-pager-first")),w(y.element,nt,p)),y.element.find(l).length||(y.element.append(e(l,o.messages.previous)),b(y.element,nt,p))),o.numeric&&(y.list=y.element.find(".k-pager-numbers"),y.list.length||(y.list=n('<ul class="k-pager-numbers k-reset" />').appendTo(y.element))),o.input){y.element.find(".k-pager-input").length||y.element.append('<span class="k-pager-input k-label">'+o.messages.page+'<input class="k-textbox">'+i.format(o.messages.of,p)+"<\/span>");y.element.on(g+f,".k-pager-input input",u(y._keydown,y))}if(o.previousNext&&(y.element.find(a).length||(y.element.append(e(a,o.messages.next)),k(y.element,nt,p)),y.element.find(c).length||(y.element.append(e(c,o.messages.last,"k-pager-last")),d(y.element,nt,p))),o.pageSizes){y.element.find(".k-pager-sizes").length||(tt=o.pageSizes.length?o.pageSizes:["all",5,10,20],it=n.map(tt,function(n){return n.toLowerCase&&n.toLowerCase()==="all"?"<option value='all'>"+o.messages.allPages+"<\/option>":"<option>"+n+"<\/option>"}),n('<span class="k-pager-sizes k-label"><select/>'+o.messages.itemsPerPage+"<\/span>").appendTo(y.element).find("select").html(it.join("")).end().appendTo(y.element));y.element.find(".k-pager-sizes select").val(y.pageSize());i.ui.DropDownList&&y.element.find(".k-pager-sizes select").show().kendoDropDownList();y.element.on(r+f,".k-pager-sizes select",u(y._change,y))}if(o.refresh){y.element.find(".k-pager-refresh").length||y.element.append('<a href="#" class="k-pager-refresh k-link" title="'+o.messages.refresh+'"><span class="k-icon k-i-refresh">'+o.messages.refresh+"<\/span><\/a>");y.element.on(v+f,".k-pager-refresh",u(y._refreshClick,y))}o.info&&(y.element.find(".k-pager-info").length||y.element.append('<span class="k-pager-info k-label" />'));y.element.on(v+f,"a",u(y._click,y)).addClass("k-pager-wrap k-widget k-floatwrap");y.element.on(v+f,".k-current-page",u(y._toggleActive,y));o.autoBind&&y.refresh();i.notify(y)},destroy:function(){var n=this;s.fn.destroy.call(n);n.element.off(f);n.dataSource.unbind(r,n._refreshHandler);n._refreshHandler=null;i.destroy(n.element);n.element=n.list=null},events:[r],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#<\/span><\/li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#<\/span><\/li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#<\/a><\/li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(n){var t=this;t.dataSource.unbind(r,t._refreshHandler);t.dataSource=t.options.dataSource=n;n.bind(r,t._refreshHandler);t.options.autoBind&&n.fetch()},refresh:function(n){var t=this,e,a,h=1,v,r=t.page(),f="",u=t.options,o=t.pageSize(),c=t.dataSource.total(),s=t.totalPages(),p=t.linkTemplate,l=u.buttonCount;if(!n||n.action!="itemchange"){if(u.numeric){for(r>l&&(v=r%l,h=v===0?r-l+1:r-v+1),a=Math.min(h+l-1,s),h>1&&(f+=y(p,h-1,"...",!1,u.messages.morePages)),e=h;e<=a;e++)f+=y(e==r?t.selectTemplate:p,e,e,!0);a<s&&(f+=y(p,e,"...",!1,u.messages.morePages));f===""&&(f=t.selectTemplate({text:0}));f=this.currentPageTemplate({text:r})+f;t.list.removeClass("k-state-expanded").html(f)}if(u.info&&(f=c>0?i.format(u.messages.display,(r-1)*o+1,Math.min(r*o,c),c):u.messages.empty,t.element.find(".k-pager-info").html(f)),u.input&&t.element.find(".k-pager-input").html(t.options.messages.page+'<input class="k-textbox">'+i.format(u.messages.of,s)).find("input").val(r).attr(nt,c<1).toggleClass("k-state-disabled",c<1),u.previousNext&&(w(t.element,r,s),b(t.element,r,s),k(t.element,r,s),d(t.element,r,s)),u.pageSizes){var tt=t.element.find(".k-pager-sizes option[value='all']").length>0,it=tt&&o===this.dataSource.total(),g=o;it&&(o="all",g=u.messages.allPages);t.element.find(".k-pager-sizes select").val(o).filter("["+i.attr("role")+"=dropdownlist]").kendoDropDownList("value",o).kendoDropDownList("text",g)}}},_keydown:function(n){if(n.keyCode===i.keys.ENTER){var r=this.element.find(".k-pager-input").find("input"),t=parseInt(r.val(),10);(isNaN(t)||t<1||t>this.totalPages())&&(t=this.page());r.val(t);this.page(t)}},_refreshClick:function(n){n.preventDefault();this.dataSource.read()},_change:function(n){var i=n.currentTarget.value,r=parseInt(i,10),t=this.dataSource;isNaN(r)?(i+"").toLowerCase()=="all"&&t.pageSize(t.total()):t.pageSize(r)},_toggleActive:function(){this.list.toggleClass("k-state-expanded")},_click:function(t){var r=n(t.currentTarget);t.preventDefault();r.is(".k-state-disabled")||this.page(r.attr(i.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(n){if(n!==t)this.dataSource.page(n),this.trigger(r,{index:n});else return this.dataSource.total()>0?this.dataSource.page():0}});p.plugin(it)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.userevents"],n)}(function(){return function(n){function w(n,t){if(!n.is(":visible"))return!1;var i=r.getOffset(n),u=t.left+t.width,f=t.top+t.height;return i.right=i.left+n.outerWidth(),i.bottom=i.top+n.outerHeight(),!(i.left>u||i.right<t.left||i.top>f||i.bottom<t.top)}var r=window.kendo,s=r.ui.Widget,u=n.proxy,c=Math.abs,b=Array.prototype.shift,l="aria-selected",t="k-state-selected",f="k-state-selecting",e="k-selectable",o="change",p=".kendoSelectable",i="k-state-unselecting",a="input,a,textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse",v=r.support.browser.msie,y=!1,h;(function(n){(function(){n('<div class="parent"><span /><\/div>').on("click",">*",function(){y=!0}).find("span").click().end().off()})()})(n);h=s.extend({init:function(t,i){var f=this,o;s.fn.init.call(f,t,i);f._marquee=n("<div class='k-marquee'><div class='k-marquee-color'><\/div><\/div>");f._lastActive=null;f.element.addClass(e);f.relatedTarget=f.options.relatedTarget;o=f.options.multiple;this.options.aria&&o&&f.element.attr("aria-multiselectable",!0);f.userEvents=new r.UserEvents(f.element,{global:!0,allowSelection:!0,filter:(y?"":"."+e+" ")+f.options.filter,tap:u(f._tap,f)});o&&f.userEvents.bind("start",u(f._start,f)).bind("move",u(f._move,f)).bind("end",u(f._end,f)).bind("select",u(f._select,f))},events:[o],options:{name:"Selectable",filter:">*",multiple:!1,relatedTarget:n.noop},_isElement:function(n){var i=this.element,t,u=i.length,r=!1;for(n=n[0],t=0;t<u;t++)if(i[t]===n){r=!0;break}return r},_tap:function(i){var u=n(i.target),r=this,f=i.event.ctrlKey||i.event.metaKey,s=r.options.multiple,a=s&&i.event.shiftKey,h,c=i.event.which,l=i.event.button;!r._isElement(u.closest("."+e))||c&&c==3||l&&l==2||this._allowSelection(i.event.target)&&(h=u.hasClass(t),s&&f||r.clear(),u=u.add(r.relatedTarget(u)),a?r.selectRange(r._firstSelectee(),u):(h&&f?(r._unselect(u),r._notify(o)):r.value(u),r._lastActive=r._downTarget=u))},_start:function(r){var u=this,f=n(r.target),h=f.hasClass(t),o,s=r.event.ctrlKey||r.event.metaKey;if(this._allowSelection(r.event.target)){if(u._downTarget=f,!u._isElement(f.closest("."+e))){u.userEvents.cancel();return}u.options.useAllItems?u._items=u.element.find(u.options.filter):(o=f.closest(u.element),u._items=o.find(u.options.filter));r.sender.capture();u._marquee.appendTo(document.body).css({left:r.x.client+1,top:r.y.client+1,width:0,height:0});s||u.clear();f=f.add(u.relatedTarget(f));h&&(u._selectElement(f,!0),s&&f.addClass(i))}},_move:function(n){var t=this,i={left:n.x.startLocation>n.x.location?n.x.location:n.x.startLocation,top:n.y.startLocation>n.y.location?n.y.location:n.y.startLocation,width:c(n.x.initialDelta),height:c(n.y.initialDelta)};t._marquee.css(i);t._invalidateSelectables(i,n.event.ctrlKey||n.event.metaKey);n.preventDefault()},_end:function(){var n=this,t;n._marquee.remove();n._unselect(n.element.find(n.options.filter+"."+i)).removeClass(i);t=n.element.find(n.options.filter+"."+f);t=t.add(n.relatedTarget(t));n.value(t);n._lastActive=n._downTarget;n._items=null},_invalidateSelectables:function(n,r){for(var c=this._downTarget[0],h=this._items,e,u,o=0,s=h.length;o<s;o++)u=h.eq(o),e=u.add(this.relatedTarget(u)),w(u,n)?u.hasClass(t)?r&&c!==u[0]&&e.removeClass(t).addClass(i):u.hasClass(f)||u.hasClass(i)||e.addClass(f):u.hasClass(f)?e.removeClass(f):r&&u.hasClass(i)&&e.removeClass(i).addClass(t)},value:function(n){var i=this,r=u(i._selectElement,i);if(n){n.each(function(){r(this)});i._notify(o);return}return i.element.find(i.options.filter+"."+t)},_firstSelectee:function(){var n=this,t;return n._lastActive!==null?n._lastActive:(t=n.value(),t.length>0?t[0]:n.element.find(n.options.filter)[0])},_selectElement:function(i,r){var u=n(i),e=!r&&this._notify("select",{element:i});u.removeClass(f);e||(u.addClass(t),this.options.aria&&u.attr(l,!0))},_notify:function(n,t){return t=t||{},this.trigger(n,t)},_unselect:function(n){return n.removeClass(t),this.options.aria&&n.attr(l,!1),n},_select:function(t){this._allowSelection(t.event.target)&&(v&&(!v||n(r._activeElement()).is(a))||t.preventDefault())},_allowSelection:function(t){return n(t).is(a)?(this.userEvents.cancel(),this._downTarget=null,!1):!0},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var n=this.element.find(this.options.filter+"."+t);this._unselect(n)},selectRange:function(t,i){var r=this,f,e,u;for(r.clear(),r.element.length>1&&(u=r.options.continuousItems()),u&&u.length||(u=r.element.find(r.options.filter)),t=n.inArray(n(t)[0],u),i=n.inArray(n(i)[0],u),t>i&&(e=t,t=i,i=e),r.options.useAllItems||(i+=r.element.length-1),f=t;f<=i;f++)r._selectElement(u[f]);r._notify(o)},destroy:function(){var n=this;s.fn.destroy.call(n);n.element.off(p);n.userEvents.destroy();n._marquee=n._lastActive=n.element=n.userEvents=null}});h.parseOptions=function(n){var t=typeof n=="string"&&n.toLowerCase();return{multiple:t&&t.indexOf("multiple")>-1,cell:t&&t.indexOf("cell")>-1}};r.ui.plugin(h)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.draganddrop"],n)}(function(){return function(n){function f(t,i){t=n(t);i?t.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):t.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var t=window.kendo,i=t.getOffset,r=t.ui.Widget,u="change",e="k-reorderable",o=r.extend({init:function(o,s){var h=this,c,l=t.guid()+"-reorderable";r.fn.init.call(h,o,s);o=h.element.addClass(e);s=h.options;h.draggable=c=s.draggable||new t.ui.Draggable(o,{group:l,filter:s.filter,hint:s.hint});h.reorderDropCue=n('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"><\/div><div class="k-icon k-i-arrow-n"><\/div><\/div>');o.find(c.options.filter).kendoDropTarget({group:c.options.group,dragenter:function(n){var t,r,u,e;h._draggable&&(t=this.element,u=!h._dropTargetAllowed(t)||h._isLastDraggable(),f(n.draggable.hint,u),u||(r=i(t),e=r.left,s.inSameContainer&&!s.inSameContainer({source:t,target:h._draggable,sourceIndex:h._index(t),targetIndex:h._index(h._draggable)})?h._dropTarget=t:h._index(t)>h._index(h._draggable)&&(e+=t.outerWidth()),h.reorderDropCue.css({height:t.outerHeight(),top:r.top,left:e}).appendTo(document.body)))},dragleave:function(n){f(n.draggable.hint,!0);h.reorderDropCue.remove();h._dropTarget=null},drop:function(){if(h._dropTarget=null,h._draggable){var n=this.element,t=h._draggable;h._dropTargetAllowed(n)&&!h._isLastDraggable()&&h.trigger(u,{element:h._draggable,target:n,oldIndex:h._index(t),newIndex:h._index(n),position:i(h.reorderDropCue).left>i(n).left?"after":"before"})}}});c.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){h.reorderDropCue.remove();h._draggable=null;h._elements=null},dragend:function(){h.reorderDropCue.remove();h._draggable=null;h._elements=null},dragstart:function(n){h._draggable=n.currentTarget;h._elements=h.element.find(h.draggable.options.filter)},drag:function(n){if(h._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-denied")){var t=i(h._dropTarget).left,r=h._dropTarget.outerWidth();n.pageX>t+r/2?h.reorderDropCue.css({left:t+r}):h.reorderDropCue.css({left:t})}}})},options:{name:"Reorderable",filter:"*"},events:[u],_isLastDraggable:function(){var r=this.options.inSameContainer,t=this._draggable[0],u=this._elements.get(),i=!1,n;if(!r)return!1;while(!i&&u.length>0)n=u.pop(),i=t!==n&&r({source:t,target:n,sourceIndex:this._index(t),targetIndex:this._index(n)});return!i},_dropTargetAllowed:function(n){var i=this.options.inSameContainer,r=this.options.dragOverContainers,t=this._draggable;return t[0]===n[0]?!1:!i||!r?!0:i({source:t,target:n,sourceIndex:this._index(t),targetIndex:this._index(n)})?!0:r(this._index(t),this._index(n))},_index:function(n){return this._elements.index(n)},destroy:function(){var t=this;r.fn.destroy.call(t);t.element.find(t.draggable.options.filter).each(function(){var t=n(this);t.data("kendoDropTarget")&&t.data("kendoDropTarget").destroy()});t.draggable&&(t.draggable.destroy(),t.draggable.element=t.draggable=null);t.elements=t.reorderDropCue=t._elements=t._draggable=null}});t.ui.plugin(o)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.draganddrop"],n)}(function(){return function(n,t){var u=window.kendo,o=u.ui,f=o.Widget,r=n.proxy,e=u.isFunction,s=n.extend,i="horizontal",h="vertical",c="start",l="resize",a="resizeend",v=f.extend({init:function(n,t){var u=this;f.fn.init.call(u,n,t);u.orientation=u.options.orientation.toLowerCase()!=h?i:h;u._positionMouse=u.orientation==i?"x":"y";u._position=u.orientation==i?"left":"top";u._sizingDom=u.orientation==i?"outerWidth":"outerHeight";u.draggable=new o.Draggable(n,{distance:1,filter:t.handle,drag:r(u._resize,u),dragcancel:r(u._cancel,u),dragstart:r(u._start,u),dragend:r(u._stop,u)});u.userEvents=u.draggable.userEvents},events:[l,a,c],options:{name:"Resizable",orientation:i},resize:function(){},_max:function(n){var i=this,u=i.hint?i.hint[i._sizingDom]():0,r=i.options.max;return e(r)?r(n):r!==t?i._initialElementPosition+r-u:r},_min:function(n){var r=this,i=r.options.min;return e(i)?i(n):i!==t?r._initialElementPosition+i:i},_start:function(t){var i=this,r=i.options.hint,u=n(t.currentTarget);i._initialElementPosition=u.position()[i._position];i._initialMousePosition=t[i._positionMouse].startLocation;r&&(i.hint=e(r)?n(r(u)):r,i.hint.css({position:"absolute"}).css(i._position,i._initialElementPosition).appendTo(i.element));i.trigger(c,t);i._maxPosition=i._max(t);i._minPosition=i._min(t);n(document.body).css("cursor",u.css("cursor"))},_resize:function(n){var i=this,u=i._maxPosition,f=i._minPosition,e=i._initialElementPosition+(n[i._positionMouse].location-i._initialMousePosition),r;r=f!==t?Math.max(f,e):e;i.position=r=u!==t?Math.min(u,r):r;i.hint&&i.hint.toggleClass(i.options.invalidClass||"",r==u||r==f).css(i._position,r);i.resizing=!0;i.trigger(l,s(n,{position:r}))},_stop:function(t){var i=this;i.hint&&i.hint.remove();i.resizing=!1;i.trigger(a,s(t,{position:i.position}));n(document.body).css("cursor","")},_cancel:function(n){var i=this;i.hint&&(i.position=t,i.hint.css(i._position,i._initialElementPosition),i._stop(n))},destroy:function(){var n=this;f.fn.destroy.call(n);n.draggable&&n.draggable.destroy()},press:function(n){if(n){var t=n.position(),i=this;i.userEvents.press(t.left,t.top,n[0]);i.targetPosition=t;i.target=n}},move:function(n){var i=this,f=i._position,r=i.targetPosition,u=i.position;u===t&&(u=r[f]);r[f]=u+n;i.userEvents.move(r.left,r.top)},end:function(){this.userEvents.end();this.target=this.position=t}});u.ui.plugin(v)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n,t){function ii(n){return parseInt(n,10)}function p(n,t){return ii(n.css(t))}function rr(n){var t=[],i;for(i in n)t.push(i);return t}function st(n){for(var t in n)rt.indexOf(t)!=-1&&k.indexOf(t)==-1&&delete n[t];return n}function ht(n,t){var r=[],u={},e,i,o,h;for(i in t)e=i.toLowerCase(),h=f&&rt.indexOf(e)!=-1,!c.hasHW3D&&h&&k.indexOf(e)==-1?delete t[i]:(o=t[i],h?r.push(i+"("+o+")"):u[i]=o);return r.length&&(u[s]=r.join(" ")),u}function ri(n,t){var u,i,r;return f?(u=n.css(s),u==tr)?t=="scale"?1:0:(i=u.match(new RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),r=0,i?r=ii(i[1]):(i=u.match(pi)||[0,0,0,0,0],t=t.toLowerCase(),wi.test(t)?r=parseFloat(i[3]/i[2]):t=="translatey"?r=parseFloat(i[4]/i[2]):t=="scale"?r=parseFloat(i[2]):t=="rotate"&&(r=parseFloat(Math.atan2(i[2],i[1])))),r):parseFloat(n.css(t))}function lt(n){return n.charAt(0).toUpperCase()+n.substring(1)}function e(n,t){var i=h.extend(t),u=i.prototype.directions;r[lt(n)]=i;r.Element.prototype[n]=function(n,t,r,u){return new i(this.element,n,t,r,u)};a(u,function(t,u){r.Element.prototype[n+lt(u)]=function(n,t,r){return new i(this.element,u,n,t,r)}})}function fi(n,t,i,r){e(n,{directions:ui,startValue:function(n){return this._startValue=n,this},endValue:function(n){return this._endValue=n,this},shouldHide:function(){return this._shouldHide},prepare:function(n,u){var s=this,f,e,h=this._direction==="out",o=s.element.data(t),c=!(isNaN(o)||o==i);f=c?o:typeof this._startValue!="undefined"?this._startValue:h?i:r;e=typeof this._endValue!="undefined"?this._endValue:h?r:i;this._reverse?(n[t]=e,u[t]=f):(n[t]=f,u[t]=e);s._shouldHide=u[t]===r}})}function hi(n,t){var r=i.directions[t].vertical,u=n[r?g:ft]()/2+"px";return oi[t].replace("$size",u)}var i=window.kendo,r=i.effects,a=n.each,u=n.extend,li=n.proxy,c=i.support,ai=c.browser,f=c.transforms,o=c.transitions,vi={scale:0,scalex:0,scaley:0,scale3d:0},yi={translate:0,translatex:0,translatey:0,translate3d:0},yt=typeof document.documentElement.style.zoom!="undefined"&&!f,pi=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,pt=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,wi=/translatex?$/i,bi=/(zoom|fade|expand)(\w+)/,wt=/(zoom|fade|expand)/,ki=/[xy]$/i,rt=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],k=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],di={rotate:"deg",scale:"",skew:"px",translate:"px"},d=f.css,gi=Math.round,nr="",w="px",tr="none",ut="auto",ft="width",g="height",bt="hidden",et="origin",kt="abortId",nt="overflow",v="translate",tt="position",dt="completeCallback",y=d+"transition",s=d+"transform",ir=d+"backface-visibility",gt=d+"perspective",ot="1500px",ni="perspective("+ot+")",ur=c.mobileOS&&c.mobileOS.majorVersion==7,l={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}},ti,ct,h,b,ui,ei,oi,si,at,ci,it,vt;i.directions=l;u(n.fn,{kendoStop:function(n,t){return o?r.stopQueue(this,n||!1,t||!1):this.stop(n,t)}});f&&!o&&(a(k,function(t,i){n.fn[i]=function(t){if(typeof t=="undefined")return ri(this,i);var r=n(this)[0],u=i+"("+t+di[i.replace(ki,"")]+")";return r.style.cssText.indexOf(s)==-1?n(this).css(s,u):r.style.cssText=r.style.cssText.replace(new RegExp(i+"\\(.*?\\)","i"),u),this};n.fx.step[i]=function(t){n(t.elem)[i](t.now)}}),ti=n.fx.prototype.cur,n.fx.prototype.cur=function(){return k.indexOf(this.prop)!=-1?parseFloat(n(this.elem)[this.prop]()):ti.apply(this,arguments)});i.toggleClass=function(n,t,i,r){return t&&(t=t.split(" "),o&&(i=u({exclusive:"all",duration:400,ease:"ease-out"},i),n.css(y,i.exclusive+" "+i.duration+"ms "+i.ease),setTimeout(function(){n.css(y,"").css(g)},i.duration)),a(t,function(t,i){n.toggleClass(i,r)})),n};i.parseEffects=function(n,t){var i={};return typeof n=="string"?a(n.split(" "),function(n,r){var o=!wt.test(r),s=r.replace(bi,function(n,t,i){return t+":"+i.toLowerCase()}),u=s.split(":"),f=u[1],e={};u.length>1&&(e.direction=t&&o?l[f].reverse:f);i[u[0]]=e}):a(n,function(n){var r=this.direction;r&&t&&!wt.test(n)&&(this.direction=l[r].reverse);i[n]=this}),i};o&&u(r,{transition:function(t,i,r){var h,l=0,a=t.data("keys")||[],f,c,e;if(r=u({duration:200,ease:"ease-out",complete:null,exclusive:"all"},r),c=!1,e=function(){c||(c=!0,f&&(clearTimeout(f),f=null),t.removeData(kt).dequeue().css(y,"").css(y),r.complete.call(t))},r.duration=n.fx?n.fx.speeds[r.duration]||r.duration:r.duration,h=ht(t,i),n.merge(a,rr(h)),t.data("keys",n.unique(a)).height(),t.css(y,r.exclusive+" "+r.duration+"ms "+r.ease).css(y),t.css(h).css(s),o.event){t.one(o.event,e);r.duration!==0&&(l=500)}f=setTimeout(e,r.duration+l);t.data(kt,f);t.data(dt,e)},stopQueue:function(n,t,r){var u,f=n.data("keys"),e=!r&&f,o=n.data(dt);return e&&(u=i.getComputedStyles(n[0],f)),o&&o(),e&&n.css(u),n.removeData("keys").stop(t)}});ct=i.Class.extend({init:function(n,t){var i=this;i.element=n;i.effects=[];i.options=t;i.restore=[]},run:function(t){var a=this,l,h,v,k=t.length,c=a.element,i=a.options,p=n.Deferred(),e={},y={},w,b,d,g;for(a.effects=t,p.then(n.proxy(a,"complete")),c.data("animating",!0),h=0;h<k;h++)for(l=t[h],l.setReverse(i.reverse),l.setOptions(i),a.addRestoreProperties(l.restore),l.prepare(e,y),b=l.children(),v=0,d=b.length;v<d;v++)b[v].duration(i.duration).run();for(g in i.effects)u(y,i.effects[g].properties);for(c.is(":visible")||u(e,{display:c.data("olddisplay")||"block"}),f&&!i.reset&&(w=c.data("targetTransform"),w&&(e=u(w,e))),e=ht(c,e),f&&!o&&(e=st(e)),c.css(e).css(s),h=0;h<k;h++)t[h].setup();return i.init&&i.init(),c.data("targetTransform",y),r.animate(c,y,u({},i,{complete:p.resolve})),p.promise()},stop:function(){n(this.element).kendoStop(!0,!0)},addRestoreProperties:function(n){for(var i=this.element,t,r=0,u=n.length;r<u;r++)t=n[r],this.restore.push(t),i.data(t)||i.data(t,i.css(t))},restoreCallback:function(){for(var i=this.element,t,n=0,r=this.restore.length;n<r;n++)t=this.restore[n],i.css(t,i.data(t))},complete:function(){var i=this,r=0,t=i.element,u=i.options,e=i.effects,o=e.length;for(t.removeData("animating").dequeue(),u.hide&&t.data("olddisplay",t.css("display")).hide(),this.restoreCallback(),yt&&!f&&setTimeout(n.proxy(this,"restoreCallback"),0);r<o;r++)e[r].teardown();u.completeCallback&&u.completeCallback(t)}});r.promise=function(n,t){var u=[],f,s=new ct(n,t),e=i.parseEffects(t.effects),h,o;t.effects=e;for(o in e)f=r[lt(o)],f&&(h=new f(n,e[o].direction),u.push(h));u[0]?s.run(u):(n.is(":visible")||n.css({display:n.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),n.dequeue(),s.complete())};u(r,{animate:function(i,e,s){var h=s.transition!==!1;delete s.transition;o&&"transition"in r&&h?r.transition(i,e,s):f?i.animate(st(e),{queue:!1,show:!1,hide:!1,duration:s.duration,complete:s.complete}):i.each(function(){var i=n(this),r={};a(rt,function(n,o){var c,y=e?e[o]+" ":null,s,w,b,h,l,a;y&&(s=e,o in vi&&e[o]!==t?(c=y.match(pt),f&&u(s,{scale:+c[0]})):o in yi&&e[o]!==t&&(w=i.css(tt),b=w=="absolute"||w=="fixed",i.data(v)||(b?i.data(v,{top:p(i,"top")||0,left:p(i,"left")||0,bottom:p(i,"bottom"),right:p(i,"right")}):i.data(v,{top:p(i,"marginTop")||0,left:p(i,"marginLeft")||0})),h=i.data(v),c=y.match(pt),c&&(l=o==v+"y"?0:+c[1],a=o==v+"y"?+c[1]:+c[2],b?(isNaN(h.right)?isNaN(l)||u(s,{left:h.left+l}):isNaN(l)||u(s,{right:h.right-l}),isNaN(h.bottom)?isNaN(a)||u(s,{top:h.top+a}):isNaN(a)||u(s,{bottom:h.bottom-a})):(isNaN(l)||u(s,{marginLeft:h.left+l}),isNaN(a)||u(s,{marginTop:h.top+a})))),!f&&o!="scale"&&o in s&&delete s[o],s&&u(r,s))});ai.msie&&delete r.scale;i.animate(r,{queue:!1,show:!1,hide:!1,duration:s.duration,complete:s.complete})})}});r.animatedPromise=r.promise;h=i.Class.extend({init:function(n,t){var i=this;i.element=n;i._direction=t;i.options={};i._additionalEffects=[];i.restore||(i.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(n){return this._additionalEffects.push(n),this},direction:function(n){return this._direction=n,this},duration:function(n){return this._duration=n,this},compositeRun:function(){var n=this,t=new ct(n.element,{reverse:n._reverse,duration:n._duration}),i=n._additionalEffects.concat([n]);return t.run(i)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,h=0,y=e.restore,w=y.length,c,l=n.Deferred(),i={},a={},v,p=e.children(),b=p.length;for(l.then(n.proxy(e,"_complete")),t.data("animating",!0),h=0;h<w;h++)c=y[h],t.data(c)||t.data(c,t.css(c));for(h=0;h<b;h++)p[h].duration(e._duration).run();return e.prepare(i,a),t.is(":visible")||u(i,{display:t.data("olddisplay")||"block"}),f&&(v=t.data("targetTransform"),v&&(i=u(v,i))),i=ht(t,i),f&&!o&&(i=st(i)),t.css(i).css(s),e.setup(),t.data("targetTransform",a),r.animate(t,a,{duration:e._duration,complete:l.resolve}),l.promise()},stop:function(){for(var t=0,i=this.children(),r=i.length,t=0;t<r;t++)i[t].stop();return n(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var i=this.element,t,n=0,r=this.restore.length;n<r;n++)t=this.restore[n],i.css(t,i.data(t))},_complete:function(){var t=this,i=t.element;i.removeData("animating").dequeue();t.restoreCallback();t.shouldHide()&&i.data("olddisplay",i.css("display")).hide();yt&&!f&&setTimeout(n.proxy(t,"restoreCallback"),0);t.teardown()},setOptions:function(n){u(!0,this.options,n)},children:function(){return[]},shouldHide:n.noop,setup:n.noop,prepare:n.noop,teardown:n.noop,directions:[],setReverse:function(n){return this._reverse=n,this}});b=["left","right","up","down"];ui=["in","out"];e("slideIn",{directions:b,divisor:function(n){return this.options.divisor=n,this},prepare:function(n,t){var r=this,u,e=r.element,i=l[r._direction],h=-i.modifier*(i.vertical?e.outerHeight():e.outerWidth()),o=h/(r.options&&r.options.divisor||1)+w,s="0px";r._reverse&&(u=n,n=t,t=u);f?(n[i.transition]=o,t[i.transition]=s):(n[i.property]=o,t[i.property]=s)}});e("tile",{directions:b,init:function(n,t,i){h.prototype.init.call(this,n,t);this.options={previous:i}},previousDivisor:function(n){return this.options.previousDivisor=n,this},children:function(){var n=this,t=n._reverse,r=n.options.previous,e=n.options.previousDivisor||1,u=n._direction,f=[i.fx(n.element).slideIn(u).setReverse(t)];return r&&f.push(i.fx(r).slideIn(l[u].reverse).divisor(e).setReverse(!t)),f}});fi("fade","opacity",1,0);fi("zoom","scale",1,.01);e("slideMargin",{prepare:function(n,t){var r=this,i=r.element,u=r.options,o=i.data(et),s=u.offset,f,e=r._reverse;e||o!==null||i.data(et,parseFloat(i.css("margin-"+u.axis)));f=i.data(et)||0;t["margin-"+u.axis]=e?f:f+s}});e("slideTo",{prepare:function(n,t){var u=this,e=u.element,o=u.options,i=o.offset.split(","),r=u._reverse;f?(t.translatex=r?0:i[0],t.translatey=r?0:i[1]):(t.left=r?0:i[0],t.top=r?0:i[1]);e.css("left")}});e("expand",{directions:["horizontal","vertical"],restore:[nt],prepare:function(n,i){var f=this,e=f.element,o=f.options,s=f._reverse,r=f._direction==="vertical"?g:ft,h=e[0].style[r],c=e.data(r),u=parseFloat(c||h),l=gi(e.css(r,ut)[r]());n.overflow=bt;u=o&&o.reset?l||u:u||l;i[r]=(s?0:u)+w;n[r]=(s?u:0)+w;c===t&&e.data(r,h)},shouldHide:function(){return this._reverse},teardown:function(){var t=this,i=t.element,n=t._direction==="vertical"?g:ft,r=i.data(n);(r==ut||r===nr)&&setTimeout(function(){i.css(n,ut).css(n)},0)}});ei={position:"absolute",marginLeft:0,marginTop:0,scale:1};e("transfer",{init:function(n,t){this.element=n;this.options={target:t};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(n,t){var e=this,i=e.element,f=r.box(i),o=r.box(e.options.target),l=ri(i,"scale"),h=r.fillScale(o,f),c=r.transformOrigin(o,f);u(n,ei);t.scale=1;i.css(s,"scale(1)").css(s);i.css(s,"scale("+l+")");n.top=f.top;n.left=f.left;n.transformOrigin=c.x+w+" "+c.y+w;e._reverse?n.scale=h:t.scale=h}});oi={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};si={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};e("turningPage",{directions:b,init:function(n,t,i){h.prototype.init.call(this,n,t);this._container=i},prepare:function(n,t){var r=this,f=r._reverse,e=f?l[r._direction].reverse:r._direction,u=si[e];n.zIndex=1;r._clipInHalf&&(n.clip=hi(r._container,i.directions[e].reverse));n[ir]=bt;t[s]=ni+(f?u.start:u.end);n[s]=ni+(f?u.end:u.start)},setup:function(){this._container.append(this.element)},face:function(n){return this._face=n,this},shouldHide:function(){var n=this,t=n._reverse,i=n._face;return t&&!i||!t&&i},clipInHalf:function(n){return this._clipInHalf=n,this},temporary:function(){return this.element.addClass("temp-page"),this}});e("staticPage",{directions:b,init:function(n,t,i){h.prototype.init.call(this,n,t);this._container=i},restore:["clip"],prepare:function(n,t){var i=this,r=i._reverse?l[i._direction].reverse:i._direction;n.clip=hi(i._container,r);n.opacity=.999;t.opacity=1},shouldHide:function(){var n=this,t=n._reverse,i=n._face;return t&&!i||!t&&i},face:function(n){return this._face=n,this}});e("pageturn",{directions:["horizontal","vertical"],init:function(n,t,i,r){h.prototype.init.call(this,n,t);this.options={};this.options.face=i;this.options.back=r},children:function(){var r=this,u=r.options,n=r._direction==="horizontal"?"left":"top",f=i.directions[n].reverse,t=r._reverse,o,s=u.face.clone(!0).removeAttr("id"),h=u.back.clone(!0).removeAttr("id"),e=r.element;return t&&(o=n,n=f,f=o),[i.fx(u.face).staticPage(n,e).face(!0).setReverse(t),i.fx(u.back).staticPage(f,e).setReverse(t),i.fx(s).turningPage(n,e).face(!0).clipInHalf(!0).temporary().setReverse(t),i.fx(h).turningPage(f,e).clipInHalf(!0).temporary().setReverse(t)]},prepare:function(n,t){n[gt]=ot;n.transformStyle="preserve-3d";n.opacity=.999;t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}});e("flip",{directions:["horizontal","vertical"],init:function(n,t,i,r){h.prototype.init.call(this,n,t);this.options={};this.options.face=i;this.options.back=r},children:function(){var n=this,f=n.options,t=n._direction==="horizontal"?"left":"top",r=i.directions[t].reverse,u=n._reverse,e,o=n.element;return u&&(e=t,t=r,r=e),[i.fx(f.face).turningPage(t,o).face(!0).setReverse(u),i.fx(f.back).turningPage(r,o).setReverse(u)]},prepare:function(n){n[gt]=ot;n.transformStyle="preserve-3d"}});at=!c.mobileOS.android;ci=".km-touch-scrollbar, .km-actionsheet-wrapper";e("replace",{_before:n.noop,_after:n.noop,init:function(t,i,r){h.prototype.init.call(this,t);this._previous=n(i);this._transitionClass=r},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule");},beforeTransition:function(n){return this._before=n,this},afterTransition:function(n){return this._after=n,this},_both:function(){return n().add(this._element).add(this._previous)},_containerClass:function(){var t=this._direction,n="k-fx k-fx-start k-fx-"+this._transitionClass;return t&&(n+=" k-fx-"+t),this._reverse&&(n+=" k-fx-reverse"),n},complete:function(t){if(this.deferred&&(!t||!n(t.target).is(ci))){var i=this.container;i.removeClass("k-fx-end").removeClass(this._containerClass()).off(o.event,this.completeProxy);this._previous.hide().removeClass("k-fx-current");this.element.removeClass("k-fx-next");at&&i.css(nt,"");this.isAbsolute||this._both().css(tt,"");this.deferred.resolve();delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var u=this,r=u.element,f=u._previous,t=r.parents().filter(f.parents()).first(),s=u._both(),e=n.Deferred(),h=r.css(tt),c;if(t.length||(t=r.parent()),this.container=t,this.deferred=e,this.isAbsolute=h=="absolute",this.isAbsolute||s.css(tt,"absolute"),at&&(c=t.css(nt),t.css(nt,"hidden")),o){r.addClass("k-fx-hidden");t.addClass(this._containerClass());this.completeProxy=n.proxy(this,"complete");t.on(o.event,this.completeProxy);i.animationFrame(function(){r.removeClass("k-fx-hidden").addClass("k-fx-next");f.css("display","").addClass("k-fx-current");u._before(f,r);i.animationFrame(function(){t.removeClass("k-fx-start").addClass("k-fx-end");u._after(f,r)})})}else this.complete();return e.promise()},stop:function(){this.complete()}});it=i.Class.extend({init:function(){var n=this;n._tickProxy=li(n._tick,n);n._started=!1},tick:n.noop,done:n.noop,onEnd:n.noop,onCancel:n.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,i.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1;this.onCancel()},_tick:function(){var n=this;n._started&&(n.tick(),n.done()?(n._started=!1,n.onEnd()):i.animationFrame(n._tickProxy))}});vt=it.extend({init:function(n){var t=this;u(t,n);it.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(n){var t=this,i=t.movable;t.initial=i[t.axis];t.delta=n.location-t.initial;t.duration=typeof n.duration=="number"?n.duration:300;t.tick=t._easeProxy(n.ease);t.startDate=new Date;t.start()},_easeProxy:function(n){var t=this;return function(){t.movable.moveAxis(t.axis,n(t.timePassed(),t.initial,t.delta,t.duration))}}});u(vt,{easeOutExpo:function(n,t,i,r){return n==r?t+i:i*(-Math.pow(2,-10*n/r)+1)+t},easeOutBack:function(n,t,i,r,u){return u=1.70158,i*((n=n/r-1)*n*((u+1)*n+u)+1)+t}});r.Animation=it;r.Transition=vt;r.createEffect=e;r.box=function(t){t=n(t);var i=t.offset();return i.width=t.outerWidth(),i.height=t.outerHeight(),i};r.transformOrigin=function(n,t){var i=(n.left-t.left)*t.width/(t.width-n.width),r=(n.top-t.top)*t.height/(t.height-n.height);return{x:isNaN(i)?0:i,y:isNaN(r)?0:r}};r.fillScale=function(n,t){return Math.min(n.width/t.width,n.height/t.height)};r.fitScale=function(n,t){return Math.max(n.width/t.width,n.height/t.height)}}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.binder","./kendo.fx"],n)}(function(){return function(n){function k(n){if(!n)return{};var t=n.match(b)||[];return{type:t[1],direction:t[3],reverse:t[5]==="reverse"}}var t=window.kendo,i=t.Observable,l="SCRIPT",u="init",f="show",e="hide",o="transitionStart",s="transitionEnd",a="attach",v="detach",y=/unrecognized expression/,r=i.extend({init:function(n,r){var h=this;r=r||{};i.fn.init.call(h);h.content=n;h.id=t.guid();h.tagName=r.tagName||"div";h.model=r.model;h._wrap=r.wrap!==!1;this._evalTemplate=r.evalTemplate||!1;h._fragments={};h.bind([u,f,e,o,s],r)},render:function(i){var r=this,e=!r.element;return e&&(r.element=r._createElement()),i&&n(i).append(r.element),e&&(t.bind(r.element,r.model),r.trigger(u)),i&&(r._eachFragment(a),r.trigger(f)),r.element},clone:function(){return new h(this)},triggerBeforeShow:function(){return!0},triggerBeforeHide:function(){return!0},showStart:function(){this.element.css("display","")},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(n){this.trigger(o,{type:n})},afterTransition:function(n){this.trigger(s,{type:n})},hide:function(){this._eachFragment(v);this.element.detach();this.trigger(e)},destroy:function(){var n=this.element;n&&(t.unbind(n),t.destroy(n),n.remove())},fragments:function(t){n.extend(this._fragments,t)},_eachFragment:function(n){for(var t in this._fragments)this._fragments[t][n](this,t)},_createElement:function(){var u=this,e="<"+u.tagName+" />",r,i,f;try{i=n(document.getElementById(u.content)||u.content);i[0].tagName===l&&(i=i.html())}catch(o){y.test(o.message)&&(i=u.content)}return typeof i=="string"?(i=i.replace(/^\s+|\s+$/g,""),u._evalTemplate&&(i=t.template(i)(u.model||{})),r=n(e).append(i),u._wrap||(r=r.contents())):(r=i,u._evalTemplate&&(f=n(t.template(n("<div />").append(r.clone(!0)).html())(u.model||{})),n.contains(document,r[0])&&r.replaceWith(f),r=f),u._wrap&&(r=r.wrapAll(e).parent())),r}}),h=t.Class.extend({init:function(t){n.extend(this,{element:t.element.clone(!0),transition:t.transition,id:t.id});t.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:n.noop,afterTransition:n.noop}),p=r.extend({init:function(n,t){r.fn.init.call(this,n,t);this.containers={}},container:function(n){var t=this.containers[n];return t||(t=this._createContainer(n),this.containers[n]=t),t},showIn:function(n,t,i){this.container(n).show(t,i)},_createContainer:function(n){var t=this.render(),i=t.find(n),r;if(!i.length&&t.is(n))if(t.is(n))i=t;else throw new Error("can't find a container with the specified "+n+" selector");return r=new c(i),r.bind("accepted",function(n){n.view.render(i)}),r}}),w=r.extend({attach:function(n,t){n.element.find(t).replaceWith(this.render())},detach:function(){}}),b=/^(\w+)(:(\w+))?( (\w+))?$/,c=i.extend({init:function(n){i.fn.init.call(this);this.container=n;this.history=[];this.view=null;this.running=!1},after:function(){this.running=!1;this.trigger("complete",{view:this.view});this.trigger("after")},end:function(){this.view.showEnd();this.previous.hideEnd();this.after()},show:function(n,i,r){if(!n.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide())return this.trigger("after"),!1;r=r||n.id;var u=this,e=n===u.view?n.clone():u.view,f=u.history,c=f[f.length-2]||{},h=c.id===r,o=i||(h?f[f.length-1].transition:n.transition),s=k(o);return(u.running&&u.effect.stop(),o==="none"&&(o=null),u.trigger("accepted",{view:n}),u.view=n,u.previous=e,u.running=!0,h?f.pop():f.push({id:r,transition:o}),!e)?(n.showStart(),n.showEnd(),u.after(),!0):(o&&t.effects.enabled?(n.element.addClass("k-fx-hidden"),n.showStart(),h&&!i&&(s.reverse=!s.reverse),u.effect=t.fx(n.element).replace(e.element,s.type).beforeTransition(function(){n.beforeTransition("show");e.beforeTransition("hide")}).afterTransition(function(){n.afterTransition("show");e.afterTransition("hide")}).direction(s.direction).setReverse(s.reverse),u.effect.run().then(function(){u.end()})):(n.showStart(),u.end()),!0)}});t.ViewContainer=c;t.Fragment=w;t.Layout=p;t.View=r;t.ViewClone=h}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.fx","./kendo.draganddrop"],n)}(function(){return function(n,t){var i=window.kendo,d=i.mobile,l=i.effects,a=d.ui,r=n.proxy,f=n.extend,o=a.Widget,g=i.Class,v=i.ui.Movable,nt=i.ui.Pane,tt=i.ui.PaneDimensions,y=l.Transition,e=l.Animation,u=Math.abs,it=500,rt=.7,ut=.96,ft=10,p=55,w=.5,b=5,h="km-scroller-release",c="km-scroller-refresh",s="change",k="scroll",et=2,ot=e.extend({init:function(n){var t=this;e.fn.init.call(t);f(t,n);t.userEvents.bind("gestureend",r(t.start,t));t.tapCapture.bind("press",r(t.cancel,t))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var n=this.movable;n.scaleWith(1.1);this.dimensions.rescale(n.scale)},onEnd:function(){var n=this.movable;n.scaleTo(this.dimensions.minScale);this.dimensions.rescale(n.scale)}}),st=e.extend({init:function(n){var t=this;e.fn.init.call(t);f(t,n,{transition:new y({axis:n.axis,movable:n.movable,onEnd:function(){t._end()}})});t.tapCapture.bind("press",function(){t.cancel()});t.userEvents.bind("end",r(t.start,t));t.userEvents.bind("gestureend",r(t.start,t));t.userEvents.bind("tap",r(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(n){var t=this;t.cancel();t._moveTo(n)},onEnd:function(){var n=this;n.paneAxis.outOfBounds()?n._snapBack():n._end()},done:function(){return u(this.velocity)<1},start:function(n){var t=this,i;t.dimension.enabled&&(t.paneAxis.outOfBounds()?t._snapBack():(i=n.touch.id===et?0:n.touch[t.axis].velocity,t.velocity=Math.max(Math.min(i*t.velocityMultiplier,p),-p),t.tapCapture.captureNext(),e.fn.start.call(t)))},tick:function(){var n=this,i=n.dimension,r=n.paneAxis.outOfBounds()?w:n.friction,u=n.velocity*=r,t=n.movable[n.axis]+u;!n.elastic&&i.outOfBounds(t)&&(t=Math.max(Math.min(t,i.max),i.min),n.velocity=0);n.movable.moveAxis(n.axis,t)},_end:function(){this.tapCapture.cancelCapture();this.end()},_snapBack:function(){var n=this,t=n.dimension,i=n.movable[n.axis]>t.max?t.max:t.min;n._moveTo(i)},_moveTo:function(n){this.transition.moveTo({location:n,duration:it,ease:y.easeOutExpo})}}),ht=e.extend({init:function(n){var t=this;i.effects.Animation.fn.init.call(this);f(t,n,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return u(this.offset.y)<b&&u(this.offset.x)<b},onEnd:function(){this.moveTo(this.destination);this.callback&&this.callback.call()},setCoordinates:function(n,t){this.offset={};this.origin=n;this.destination=t},setCallback:function(n){n&&i.isFunction(n)?this.callback=n:n=t},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),ct=g.extend({init:function(t){var i=this,e=t.axis==="x",u=n('<div class="km-touch-scrollbar km-'+(e?"horizontal":"vertical")+'-scrollbar" />');f(i,t,{element:u,elementSize:0,movable:new v(u),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:e?"width":"height"});i.scrollMovable.bind(s,r(i.refresh,i));i.container.append(u);t.alwaysVisible&&i.show()},refresh:function(){var n=this,f=n.axis,e=n.dimension,r=e.size,o=n.scrollMovable,u=r/e.total,t=Math.round(-o[f]*u),i=Math.round(r*u);u>=1?this.element.css("display","none"):this.element.css("display","");t+i>r?i=r-t:t<0&&(i+=t,t=0);n.elementSize!=i&&(n.element.css(n.size,i+"px"),n.elementSize=i);n.movable.moveAxis(f,t)},show:function(){this.element.css({opacity:rt,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),lt=o.extend({init:function(t,e){var h=this;if(o.fn.init.call(h,t,e),t=h.element,h._native=h.options.useNative&&i.support.hasNativeScrolling,h._native){t.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');f(h,{scrollElement:t,fixedContainer:t.children().first()});return}t.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var y=t.children().eq(1),p=new i.TapCapture(t),l=new v(y),c=new tt({element:y,container:t,forcedEnabled:h.options.zoom}),w=this.options.avoidScrolling,a=new i.UserEvents(t,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:h.options.zoom,start:function(t){c.refresh();var i=u(t.x.velocity),r=u(t.y.velocity),f=i*2>=r,e=n.contains(h.fixedContainer[0],t.event.target),o=r*2>=i;!e&&!w(t)&&h.enabled&&(c.x.enabled&&f||c.y.enabled&&o)?a.capture():a.cancel()}}),b=new nt({movable:l,dimensions:c,userEvents:a,elastic:h.options.elastic}),d=new ot({movable:l,dimensions:c,userEvents:a,tapCapture:p}),g=new ht({moveTo:function(n){h.scrollTo(n.x,n.y)}});if(l.bind(s,function(){h.scrollTop=-l.y;h.scrollLeft=-l.x;h.trigger(k,{scrollTop:h.scrollTop,scrollLeft:h.scrollLeft})}),h.options.mousewheelScrolling)t.on("DOMMouseScroll mousewheel",r(this,"_wheelScroll"));f(h,{movable:l,dimensions:c,zoomSnapBack:d,animatedScroller:g,userEvents:a,pane:b,tapCapture:p,pulled:!1,enabled:!0,scrollElement:y,scrollTop:0,scrollLeft:0,fixedContainer:t.children().first()});h._initAxis("x");h._initAxis("y");h._wheelEnd=function(){h._wheel=!1;h.userEvents.end(0,h._wheelY)};c.refresh();h.options.pullToRefresh&&h._initPullToRefresh()},_wheelScroll:function(n){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY));clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=i.wheelDeltaY(n);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY));n.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(n,t){this.dimensions.y.virtualSize(n,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:["pull",k,"resize"],_resize:function(){this._native||this.contentResized()},setOptions:function(n){var t=this;o.fn.setOptions.call(t,n);n.pullToRefresh&&t._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh();this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min);this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var n=this.dimensions;n.refresh();this._scale(n.fitScale);this.movable.moveTo(n.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(n,t){this._native?(this.scrollElement.scrollLeft(u(n)),this.scrollElement.scrollTop(u(t))):(this.dimensions.refresh(),this.movable.moveTo({x:n,y:t}))},animatedScrollTo:function(n,t,i){var r,u;this._native?this.scrollTo(n,t):(r={x:this.movable.x,y:this.movable.y},u={x:n,y:t},this.animatedScroller.setCoordinates(r,u),this.animatedScroller.setCallback(i),this.animatedScroller.start())},pullHandled:function(){var n=this;n.refreshHint.removeClass(c);n.hintContainer.html(n.pullTemplate({}));n.yinertia.onEnd();n.xinertia.onEnd();n.userEvents.cancel()},destroy:function(){o.fn.destroy.call(this);this.userEvents&&this.userEvents.destroy()},_scale:function(n){this.dimensions.rescale(n);this.movable.scaleTo(n)},_initPullToRefresh:function(){var n=this;n.dimensions.y.forceEnabled();n.pullTemplate=i.template(n.options.messages.pullTemplate);n.releaseTemplate=i.template(n.options.messages.releaseTemplate);n.refreshTemplate=i.template(n.options.messages.refreshTemplate);n.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"><\/span><span class="km-loading-left"><\/span><span class="km-loading-right"><\/span><span class="km-template">'+n.pullTemplate({})+"<\/span><\/span>");n.refreshHint=n.scrollElement.children().first();n.hintContainer=n.refreshHint.children(".km-template");n.pane.y.bind("change",r(n._paneChange,n));n.userEvents.bind("end",r(n._dragEnd,n))},_dragEnd:function(){var n=this;n.pulled&&(n.pulled=!1,n.refreshHint.removeClass(h).addClass(c),n.hintContainer.html(n.refreshTemplate({})),n.yinertia.freeze(n.options.pullOffset/2),n.trigger("pull"))},_paneChange:function(){var n=this;n.movable.y/w>n.options.pullOffset?n.pulled||(n.pulled=!0,n.refreshHint.removeClass(c).addClass(h),n.hintContainer.html(n.releaseTemplate({}))):n.pulled&&(n.pulled=!1,n.refreshHint.removeClass(h),n.hintContainer.html(n.pullTemplate({})))},_initAxis:function(n){var t=this,u=t.movable,i=t.dimensions[n],e=t.tapCapture,f=t.pane[n],r=new ct({axis:n,movable:u,dimension:i,container:t.element,alwaysVisible:t.options.visibleScrollHints});i.bind(s,function(){r.refresh()});f.bind(s,function(){r.show()});t[n+"inertia"]=new st({axis:n,paneAxis:f,movable:u,tapCapture:e,userEvents:t.userEvents,dimension:i,elastic:t.options.elastic,friction:t.options.friction||ut,velocityMultiplier:t.options.velocityMultiplier||ft,end:function(){r.hide();t.trigger("scrollEnd",{axis:n,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});a.plugin(lt)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n){var t=window.kendo,i=t.mobile.ui,r=i.Widget,u=n.map(t.eventMap,function(n){return n}).join(" ").split(" "),f=r.extend({init:function(t,i){var u=this,f=n('<div class="km-loader"><span class="km-loading km-spin"><\/span><span class="km-loading-left"><\/span><span class="km-loading-right"><\/span><\/div>');r.fn.init.call(u,f,i);u.container=t;u.captureEvents=!1;u._attachCapture();f.append(u.options.loading).hide().appendTo(t)},options:{name:"Loader",loading:"<h1>Loading...<\/h1>",timeout:100},show:function(){var n=this;(clearTimeout(n._loading),n.options.loading!==!1)&&(n.captureEvents=!0,n._loading=setTimeout(function(){n.element.show()},n.options.timeout))},hide:function(){this.captureEvents=!1;clearTimeout(this._loading);this.element.hide()},changeMessage:function(n){this.options.loading=n;this.element.find(">h1").html(n)},transition:function(){this.captureEvents=!0;this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=!1;this.container.css("pointer-events","")},_attachCapture:function(){function i(n){t.captureEvents&&n.preventDefault()}var t=this,n;for(t.captureEvents=!1,n=0;n<u.length;n++)t.container[0].addEventListener(u[n],i,!0)}});i.plugin(f)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.mobile.view","./kendo.mobile.loader"],n)}(function(){return function(n){var t=window.kendo,u=t.mobile,i=t.roleSelector,r=u.ui,e=r.Widget,b=u.ViewEngine,l=r.View,k=u.ui.Loader,a="external",o="href",v="#!",y="navigate",p="viewShow",s="sameViewRequested",h=t.support.mobileOS,w=h.ios&&!h.appMode&&h.flatVersion>=700,d=/popover|actionsheet|modalview|drawer/,g="#:back",f=t.attrValue,c=e.extend({init:function(n,i){var r=this;e.fn.init.call(r,n,i);i=r.options;n=r.element;n.addClass("km-pane");r.options.collapsible&&n.addClass("km-collapsible-pane");this.history=[];this.historyCallback=function(n,t,i){var u=r.transition;return r.transition=null,w&&i&&(u="none"),r.viewEngine.showView(n,u,t)};this._historyNavigate=function(n){if(n===g){if(r.history.length===1)return;r.history.pop();n=r.history[r.history.length-1]}else r.history.push(n);r.historyCallback(n,t.parseQueryStringParams(n))};this._historyReplace=function(n){var i=t.parseQueryStringParams(n);r.history[r.history.length-1]=n;r.historyCallback(n,i)};r.loader=new k(n,{loading:r.options.loading});r.viewEngine=new b({container:n,transition:i.transition,modelScope:i.modelScope,rootNeeded:!i.initial,serverNavigation:i.serverNavigation,remoteViewURLPrefix:i.root||"",layout:i.layout,$angular:i.$angular,loader:r.loader,showStart:function(){r.loader.transition();r.closeActiveDialogs()},after:function(){r.loader.transitionDone()},viewShow:function(n){r.trigger(p,n)},loadStart:function(){r.loader.show()},loadComplete:function(){r.loader.hide()},sameViewRequested:function(){r.trigger(s)},viewTypeDetermined:function(n){n.remote&&r.options.serverNavigation||r.trigger(y,{url:n.url})}});this._setPortraitWidth();t.onResize(function(){r._setPortraitWidth()});r._setupAppLinks()},closeActiveDialogs:function(){var u=this.element.find(i("actionsheet popover modalview")).filter(":visible");u.each(function(){t.widgetInstance(n(this),r).close()})},navigateToInitial:function(){var n=this.options.initial;return n&&this.navigate(n),n},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...<\/h1>"},events:[y,p,s],append:function(n){return this.viewEngine.append(n)},destroy:function(){e.fn.destroy.call(this);this.viewEngine.destroy();this.userEvents.destroy()},navigate:function(n,t){n instanceof l&&(n=n.id);this.transition=t;this._historyNavigate(n)},replace:function(n,t){n instanceof l&&(n=n.id);this.transition=t;this._historyReplace(n)},bindToRouter:function(n){var i=this,r=this.history,u=this.viewEngine;n.bind("init",function(i){var e=i.url,o=n.pushState?e:"/",f;u.rootView.attr(t.attr("url"),o);f=r.length;e==="/"&&f&&(n.navigate(r[f-1],!0),i.preventDefault())});n.bind("routeMissing",function(n){i.historyCallback(n.url,n.params,n.backButtonPressed)||n.preventDefault()});n.bind("same",function(){i.trigger(s)});i._historyNavigate=function(t){n.navigate(t)};i._historyReplace=function(t){n.replace(t)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(n){this.loader.changeMessage(n)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var n,i=this.options.portraitWidth;i&&(n=t.mobile.application.element.is(".km-vertical")?i:"auto",this.element.css("width",n))},_setupAppLinks:function(){var e=this,u="tab",r="[data-"+t.ns+"navigate-on-press]",f=n.map(["button","backbutton","detailbutton","listview-link"],function(n){return i(n)+":not("+r+")"}).join(",");this.element.handler(this).on("down",i(u)+","+r,"_mouseup").on("click",i(u)+","+f+","+r,"_appLinkClick");this.userEvents=new t.UserEvents(this.element,{filter:f,tap:function(n){n.event.currentTarget=n.touch.currentTarget;e._mouseup(n.event)}});this.element.css("-ms-touch-action","")},_appLinkClick:function(t){var i=n(t.currentTarget).attr("href"),r=i&&i[0]!=="#"&&this.options.serverNavigation;r||f(n(t.currentTarget),"rel")==a||t.preventDefault()},_mouseup:function(i){if(!(i.which>1)&&!i.isDefaultPrevented()){var c=this,e=n(i.currentTarget),y=f(e,"transition"),h=f(e,"rel")||"",l=f(e,"target"),s=e.attr(o),p=w&&e[0].offsetHeight===0,b=s&&s[0]!=="#"&&this.options.serverNavigation;p||b||h===a||typeof s=="undefined"||s===v||(e.attr(o,v),setTimeout(function(){e.attr(o,s)}),h.match(d)?(t.widgetInstance(n(s),r).openFor(e),(h==="actionsheet"||h==="drawer")&&i.stopPropagation()):(l==="_top"?c=u.application.pane:l&&(c=n("#"+l).data("kendoMobilePane")),c.navigate(s,y)),i.preventDefault())}}});c.wrap=function(n){n.is(i("view"))||(n=n.wrap("<div data-"+t.ns+'role="view" data-stretch="true"><\/div>').parent());var u=n.wrap('<div class="km-pane-wrapper"><div><\/div><\/div>').parent(),r=new c(u);return r.navigate(""),r};r.plugin(c)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.popup","./kendo.mobile.pane"],n)}(function(){return function(n){var r=window.kendo,s=r.mobile,i=s.ui,u="hide",f="open",e="close",h='<div class="km-popup-wrapper" />',c='<div class="km-popup-arrow" />',l='<div class="km-popup-overlay" />',a="km-up km-down km-left km-right",t=i.Widget,v={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},y={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},p={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},w={up:"down",down:"up",left:"right",right:"left"},o=t.extend({init:function(i,f){var e=this,w=i.closest(".km-modalview-wrapper"),o=i.closest(".km-root").children(".km-pane").first(),s=w[0]?w:o,a,b;f.viewport?o=f.viewport:o[0]||(o=window);f.container?s=f.container:s[0]||(s=document.body);a={viewport:o,copyAnchorStyles:!1,autosize:!0,open:function(){e.overlay.show()},activate:n.proxy(e._activate,e),deactivate:function(){e.overlay.hide();e._apiCall||e.trigger(u);e._apiCall=!1}};t.fn.init.call(e,i,f);i=e.element;f=e.options;i.wrap(h).addClass("km-popup").show();b=e.options.direction.match(/left|right/)?"horizontal":"vertical";e.dimensions=p[b];e.wrapper=i.parent().css({width:f.width,height:f.height}).addClass("km-popup-wrapper km-"+f.direction).hide();e.arrow=n(c).prependTo(e.wrapper).hide();e.overlay=n(l).appendTo(s).hide();a.appendTo=e.overlay;f.className&&e.overlay.addClass(f.className);e.popup=new r.ui.Popup(e.wrapper,n.extend(!0,a,y,v[f.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[u],show:function(t){this.popup.options.anchor=n(t);this.popup.open()},hide:function(){this._apiCall=!0;this.popup.close()},destroy:function(){t.fn.destroy.call(this);this.popup.destroy();this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var t=this,e=t.options.direction,i=t.dimensions,u=i.offset,f=t.popup,o=f.options.anchor,c=n(o).offset(),l=n(f.element).offset(),v=f.flipped?w[e]:e,s=t.arrow[i.size]()*2,h=t.element[i.size]()-t.arrow[i.size](),y=n(o)[i.size](),r=c[u]-l[u]+y/2;r<s&&(r=s);r>h&&(r=h);t.wrapper.removeClass(a).addClass("km-"+v);t.arrow.css(u,r).show()}}),b=t.extend({init:function(u,f){var s=this,h;s.initialOpen=!1;t.fn.init.call(s,u,f);h=n.extend({className:"km-popover-root",hide:function(){s.trigger(e)}},this.options.popup);s.popup=new o(s.element,h);s.popup.overlay.on("move",function(n){n.target==s.popup.overlay[0]&&n.preventDefault()});s.pane=new i.Pane(s.element,n.extend(this.options.pane,{$angular:this.options.$angular}));r.notify(s,i)},options:{name:"PopOver",popup:{},pane:{}},events:[f,e],open:function(n){this.popup.show(n);this.initialOpen?this.pane.view()._invokeNgController():(this.pane.navigateToInitial()||this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0)},openFor:function(n){this.open(n);this.trigger(f,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){t.fn.destroy.call(this);this.pane.destroy();this.popup.destroy();r.destroy(this.element)}});i.plugin(o);i.plugin(b)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.popup"],n)}(function(){return function(n,t){var i=window.kendo,u=i.mobile.ui,e=i.ui.Popup,o='<div class="km-shim"/>',f="hide",r=u.Widget,s=r.extend({init:function(t,u){var s=this,h=i.mobile.application,y=i.support.mobileOS,l=h?h.os.name:y?y.name:"ios",a=l==="ios"||l==="wp"||(h?h.os.skin:!1),v=l==="blackberry",p=u.align||(a?"bottom center":v?"center right":"center center"),w=u.position||(a?"bottom center":v?"center right":"center center"),b=u.effect||(a?"slideIn:up":v?"slideIn:left":"fade:in"),c=n(o).handler(s).hide();if(r.fn.init.call(s,t,u),s.shim=c,t=s.element,u=s.options,u.className&&s.shim.addClass(u.className),!u.modal)s.shim.on("up","_hide");(h?h.element:n(document.body)).append(c);s.popup=new e(s.element,{anchor:c,modal:!0,appendTo:c,origin:p,position:w,animation:{open:{effects:b,duration:u.duration},close:{duration:u.duration}},close:function(n){var t=!1;s._apiCall||(t=s.trigger(f));t&&n.preventDefault();s._apiCall=!1},deactivate:function(){c.hide()},open:function(){c.show()}});i.notify(s)},events:[f],options:{name:"Shim",modal:!1,align:t,position:t,effect:t,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=!0;this.popup.close()},destroy:function(){r.fn.destroy.call(this);this.shim.kendoDestroy();this.popup.destroy();this.shim.remove()},_hide:function(t){t&&n.contains(this.shim.children().children(".k-popup")[0],t.target)||this.popup.close()}});u.plugin(s)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.mobile.popover","./kendo.mobile.shim"],n)}(function(){return function(n){var t=window.kendo,h=t.support,i=t.mobile.ui,c=i.Shim,l=i.Popup,r=i.Widget,u="open",f="close",e="command",o="li>a",a="actionsheetContext",v='<div class="km-actionsheet-wrapper" />',s=t.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#<\/a><\/li>'),y=r.extend({init:function(u,f){var e=this,w,p,a,y=h.mobileOS;r.fn.init.call(e,u,f);f=e.options;a=f.type;u=e.element;p=a==="auto"?y&&y.tablet:a==="tablet";w=p?l:c;f.cancelTemplate&&(s=t.template(f.cancelTemplate));u.addClass("km-actionsheet").append(s({cancel:e.options.cancel})).wrap(v).on("up",o,"_click").on("click",o,t.preventDefault);if(e.view().bind("destroy",function(){e.destroy()}),e.wrapper=u.parent().addClass(a?" km-actionsheet-"+a:""),e.shim=new w(e.wrapper,n.extend({modal:y.ios&&y.majorVersion<7,className:"km-actionsheet-root"},e.options.popup)),e._closeProxy=n.proxy(e,"_close"),e.shim.bind("hide",e._closeProxy),p)t.onResize(e._closeProxy);t.notify(e,i)},events:[u,f,e],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(t,i){var r=this;r.target=n(t);r.context=i;r.shim.show(t)},close:function(){this.context=this.target=null;this.shim.hide()},openFor:function(n){var t=this,i=n.data(a);t.open(n,i);t.trigger(u,{target:n,context:i})},destroy:function(){r.fn.destroy.call(this);t.unbindResize(this._closeProxy);this.shim.destroy()},_click:function(i){var u,r,f,o;i.isDefaultPrevented()||(u=n(i.currentTarget),r=u.data("action"),r&&(f={target:this.target,context:this.context},o=this.options.$angular,o?this.element.injector().get("$parse")(r)(o[0])(f):t.getter(r)(window)(f)),this.trigger(e,{target:this.target,context:this.context,currentTarget:u}),i.preventDefault(),this._close())},_close:function(n){this.trigger(f)?n.preventDefault():this.close()}});i.plugin(y)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n,t){function u(n){var t=Math.floor(n/26)-1;return(t>=0?u(t):"")+String.fromCharCode(65+n%26)}function i(n,t){return u(t)+(n+1)}function e(n,t){return u(t)+"$"+(n+1)}function r(n){return((n.freezePane||{}).rowSplit||1)-1}function s(n){return n.length<6&&(n=n.replace(/(\w)/g,function(n,t){return t+t})),n=n.substring(1).toUpperCase(),n.length<8&&(n="FF"+n),n}var h='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/><\/Relationships>',c=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>${creator}<\/dc:creator><cp:lastModifiedBy>${lastModifiedBy}<\/cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${created}<\/dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${modified}<\/dcterms:modified><\/cp:coreProperties>'),l=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel<\/Application><DocSecurity>0<\/DocSecurity><ScaleCrop>false<\/ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets<\/vt:lpstr><\/vt:variant><vt:variant><vt:i4>${sheets.length}<\/vt:i4><\/vt:variant><\/vt:vector><\/HeadingPairs><TitlesOfParts><vt:vector size="${sheets.length}" baseType="lpstr"># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<vt:lpstr>${sheets[idx].options.title}<\/vt:lpstr># } else { #<vt:lpstr>Sheet${idx+1}<\/vt:lpstr># } ## } #<\/vt:vector><\/TitlesOfParts><LinksUpToDate>false<\/LinksUpToDate><SharedDoc>false<\/SharedDoc><HyperlinksChanged>false<\/HyperlinksChanged><AppVersion>14.0300<\/AppVersion><\/Properties>'),a=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/># for (var idx = 1; idx <= count; idx++) { #<Override PartName="/xl/worksheets/sheet${idx}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /># } #<Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /><\/Types>'),v=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" /><workbookPr defaultThemeVersion="124226" /><bookViews><workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" /><\/bookViews><sheets># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<sheet name="${sheets[idx].options.title}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } else { #<sheet name="Sheet${idx+1}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } ## } #<\/sheets># if (definedNames.length) { #<definedNames> # for (var di = 0; di < definedNames.length; di++) { #<definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${definedNames[di].localSheetId}">${definedNames[di].name}!$${definedNames[di].from}:$${definedNames[di].to}<\/definedName> # } #<\/definedNames># } #<calcPr calcId="145621" /><\/workbook>'),y=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac"><dimension ref="A1" /><sheetViews><sheetView #if(index==0) {# tabSelected="1" #}# workbookViewId="0"># if (freezePane) { #<pane state="frozen"# if (freezePane.colSplit) { # xSplit="${freezePane.colSplit}"# } ## if (freezePane.rowSplit) { # ySplit="${freezePane.rowSplit}"# } # topLeftCell="${String.fromCharCode(65 + (freezePane.colSplit || 0))}${(freezePane.rowSplit || 0)+1}"/># } #<\/sheetView><\/sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25" /># if (columns) { #<cols># for (var ci = 0; ci < columns.length; ci++) { ## var column = columns[ci]; ## if (column.width) { #<col min="${ci+1}" max="${ci+1}" customWidth="1"# if (column.autoWidth) { # width="${((column.width*7+5)/7*256)/256}" bestFit="1"# } else { # width="${(((column.width)/7)*100+0.5)/100}" # } #/># } ## } #<\/cols># } #<sheetData># for (var ri = 0; ri < data.length; ri++) { ## var row = data[ri]; #<row r="#=ri + 1#"># for (var ci = 0; ci < row.data.length; ci++) { ## var cell = row.data[ci];#<c r="#=cell.ref#"# if (cell.style) { # s="#=cell.style#" # } ## if (cell.type) { # t="#=cell.type#"# } #># if (cell.value != null) { #<v>${cell.value}<\/v># } #<\/c># } #<\/row># } #<\/sheetData># if (filter) { #<autoFilter ref="${filter.from}:${filter.to}"/># } ## if (mergeCells.length) { #<mergeCells count="${mergeCells.length}"># for (var ci = 0; ci < mergeCells.length; ci++) { #<mergeCell ref="${mergeCells[ci]}"/># } #<\/mergeCells># } #<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" /><\/worksheet>'),p=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"># for (var idx = 1; idx <= count; idx++) { #<Relationship Id="rId${idx}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${idx}.xml" /># } #<Relationship Id="rId${count+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" /><Relationship Id="rId${count+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" /><\/Relationships>'),w=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${count}" uniqueCount="${uniqueCount}"># for (var index in indexes) { #<si><t>${index.substring(1)}<\/t><\/si># } #<\/sst>'),b=t.template('<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="${formats.length}"># for (var fi = 0; fi < formats.length; fi++) { ## var format = formats[fi]; #<numFmt formatCode="${format.format}" numFmtId="${165+fi}" /># } #<\/numFmts><fonts count="${fonts.length+1}" x14ac:knownFonts="1"><font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><scheme val="minor" /><\/font># for (var fi = 0; fi < fonts.length; fi++) { ## var font = fonts[fi]; #<font># if (font.bold) { #<b/># } ## if (font.italic) { #<i/># } ## if (font.underline) { #<u/># } ## if (font.color) { #<color rgb="${font.color}" /># } else { #<color theme="1" /># } ## if (font.fontSize) { #<sz val="${font.fontSize}" /># } else { #<sz val="11" /># } ## if (font.fontName) { #<name val="${font.fontName}" /># } else { #<name val="Calibri" /><scheme val="minor" /># } #<family val="2" /><\/font># } #<\/fonts><fills count="${fills.length+1}"><fill><patternFill patternType="none"/><\/fill><fill><patternFill patternType="gray125"/><\/fill># for (var fi = 0; fi < fills.length; fi++) { ## var fill = fills[fi]; ## if (fill.background) { #<fill><patternFill patternType="solid"><fgColor rgb="${fill.background}"/><\/patternFill><\/fill># } ## } #<\/fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/><\/border><\/borders><cellXfs count="${styles.length+1}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/># for (var si = 0; si < styles.length; si++) { ## var style = styles[si]; #<xf xfid="0"# if (style.fontId) { # fontId="${style.fontId}" applyFont="1"# } ## if (style.fillId) { # fillId="${style.fillId}" applyFill="1"# } ## if (style.numFmtId) { # numFmtId="${style.numFmtId}" applyNumberFormat="1"# } ## if (style.hAlign || style.vAlign || style.wrap) { # applyAlignment="1"# } #># if (style.hAlign || style.vAlign || style.wrap) { #<alignment# if (style.hAlign) { # horizontal="${style.hAlign}"# } ## if (style.vAlign) { # vertical="${style.vAlign}"# } ## if (style.wrap) { # wrapText="1"# } #/># } #<\/xf># } #<\/cellXfs><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" /><\/styleSheet>'),k=t.timezone.remove(new Date(1900,0,0),"Etc/UTC"),o=t.Class.extend({init:function(n,t,i){this.options=n;this._strings=t;this._styles=i;this._mergeCells=[]},toXML:function(n){var u=this.options.rows||[],f=this.options.filter,o={},e,t;for(this._maxCellIndex=0,e=[],t=0;t<u.length;t++)e.push(this._row(u,o,u[t],t));return y({freezePane:this.options.freezePane,columns:this.options.columns,data:e,index:n,mergeCells:this._mergeCells,filter:f?{from:i(r(this.options),f.from),to:i(r(this.options),f.to)}:null})},_row:function(n,t,r,u){var o,f,s,e,c,h;for(this._cellIndex&&this._cellIndex>this._maxCellIndex&&(this._maxCellIndex=this._cellIndex),this._cellIndex=0,f=[],s=r.cells,e=0,c=s.length;e<c;e++)o=this._cell(s[e],t,u),o&&f.push.apply(f,o);while(this._cellIndex<this._maxCellIndex)h=t[this._cellIndex],h&&(h.rowSpan-=1),f.push({ref:i(u,this._cellIndex)}),this._cellIndex++;return{data:f}},_lookupString:function(n){var t="$"+n,i=this._strings.indexes[t];return i!==undefined?n=i:(n=this._strings.indexes[t]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,n},_lookupStyle:function(i){var u=t.stringify(i),r;return u=="{}"?0:(r=n.inArray(u,this._styles),r<0&&(r=this._styles.push(u)-1),r+1)},_cell:function(n,r,u){var e,s,v,y,h,a,c,p;if(!n){this._cellIndex++;return}var f=n.value,o={bold:n.bold,color:n.color,background:n.background,italic:n.italic,underline:n.underline,fontName:n.fontName,fontSize:n.fontSize,format:n.format,hAlign:n.hAlign,vAlign:n.vAlign,wrap:n.wrap},w=this.options.columns||[],l=w[this._cellIndex];for(l&&l.autoWidth&&(l.width=Math.max(l.width||0,(""+f).length)),e=typeof f,e==="string"?(f=this._lookupString(f),e="s"):e==="number"?e="n":e==="boolean"?(e="b",f=+f):f&&f.getTime?(e=null,f=(t.timezone.remove(f,"Etc/UTC")-k)/t.date.MS_PER_DAY+1,o.format||(o.format="mm-dd-yy")):(e=null,f=""),o=this._lookupStyle(o),s=[],h=r[this._cellIndex]||{};h.rowSpan>1;){for(h.rowSpan-=1,v=h.colSpan;v>0;)s.push({ref:i(u,this._cellIndex)}),v--,this._cellIndex++;h=r[this._cellIndex]||{}}if(y=i(u,this._cellIndex),s.push({value:f,type:e,style:o,ref:y}),a=n.colSpan||1,c=n.rowSpan||1,a>1||c>1){for(c>1&&(r[this._cellIndex]={colSpan:a,rowSpan:c}),p=1;p<a;p++)this._cellIndex++,s.push({ref:i(u,this._cellIndex)});this._mergeCells.push(y+":"+i(u+c-1,this._cellIndex))}return this._cellIndex++,s}}),f={General:0,"0":1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70},d=t.Class.extend({init:function(t){this.options=t||{};this._strings={indexes:{},count:0,uniqueCount:0};this._styles=[];this._sheets=n.map(this.options.sheets||[],n.proxy(function(n){return new o(n,this._strings,this._styles)},this))},toDataURL:function(){var i,d,y,g,u,nt,tt,et,o;if(typeof JSZip=="undefined")throw new Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.");for(i=new JSZip,d=i.folder("docProps"),d.file("core.xml",c({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()})),y=this._sheets.length,d.file("app.xml",l({sheets:this._sheets})),g=i.folder("_rels"),g.file(".rels",h),u=i.folder("xl"),nt=u.folder("_rels"),nt.file("workbook.xml.rels",p({count:y})),u.file("workbook.xml",v({sheets:this._sheets,definedNames:n.map(this._sheets,function(n,t){var i=n.options,u=i.filter;if(u)return{localSheetId:t,name:i.title||"Sheet"+(t+1),from:e(r(i),u.from),to:e(r(i),u.to)}})})),tt=u.folder("worksheets"),et=new Date,o=0;o<y;o++)tt.file(t.format("sheet{0}.xml",o+1),this._sheets[o].toXML(o));var k=n.map(this._styles,n.parseJSON),it=function(n){return n.underline||n.bold||n.italic||n.color||n.fontName||n.fontSize},rt=n.map(k,function(n){return n.color&&(n.color=s(n.color)),it(n)?n:void 0}),ut=n.map(k,function(n){if(n.format&&f[n.format]===undefined)return n}),ft=n.map(k,function(n){if(n.background)return n.background=s(n.background),n});return u.file("styles.xml",b({fonts:rt,fills:ft,formats:ut,styles:n.map(k,function(t){var i={};return it(t)&&(i.fontId=n.inArray(t,rt)+1),t.background&&(i.fillId=n.inArray(t,ft)+2),i.hAlign=t.hAlign,i.vAlign=t.vAlign,i.wrap=t.wrap,t.format&&(i.numFmtId=f[t.format]!==undefined?f[t.format]:165+n.inArray(t,ut)),i})})),u.file("sharedStrings.xml",w(this._strings)),i.file("[Content_Types].xml",a({count:y})),"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+i.generate({compression:"DEFLATE"})}});t.ooxml={Workbook:d,Worksheet:o}}(kendo.jQuery,kendo),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.data","./kendo.ooxml"],n)}(function(){return function(n,t){t.ExcelExporter=t.Class.extend({init:function(i){var r,u,f;i.columns=this._trimColumns(i.columns||[]);this.allColumns=n.map(this._leafColumns(i.columns||[]),this._prepareColumn);this.columns=n.grep(this.allColumns,function(n){return!n.hidden});this.options=i;r=i.dataSource;r instanceof t.data.DataSource?(this.dataSource=new r.constructor(n.extend({},r.options,{page:i.allPages?0:r.page(),filter:r.filter(),pageSize:i.allPages?r.total():r.pageSize(),sort:r.sort(),group:r.group(),aggregate:r.aggregate()})),u=r.data(),u.length>0&&(this.dataSource._data=u,f=this.dataSource.transport,r._isServerGrouped()&&f.options.data&&(f.options.data=null))):this.dataSource=t.data.DataSource.create(r)},_trimColumns:function(t){var i=this;return n.grep(t,function(n){var t=!!n.field;return!t&&n.columns&&(t=i._trimColumns(n.columns).length>0),t})},_leafColumns:function(n){for(var i=[],t=0;t<n.length;t++){if(!n[t].columns){i.push(n[t]);continue}i=i.concat(this._leafColumns(n[t].columns))}return i},workbook:function(){return n.Deferred(n.proxy(function(t){this.dataSource.fetch().then(n.proxy(function(){var n={sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};t.resolve(n,this.dataSource.view())},this))},this)).promise()},_prepareColumn:function(i){if(i.field){var u=function(n){return n.get(i.field)},r=null;return i.values&&(r={},n.each(i.values,function(){r[this.value]=this.text}),u=function(n){return r[n.get(i.field)]}),n.extend({},i,{value:u,values:r,groupHeaderTemplate:t.template(i.groupHeaderTemplate||"${title}: ${value}"),groupFooterTemplate:i.groupFooterTemplate?t.template(i.groupFooterTemplate):null,footerTemplate:i.footerTemplate?t.template(i.footerTemplate):null})}},_filter:function(){if(!this.options.filterable)return null;var n=this._depth();return{from:n,to:n+this.columns.length-1}},_dataRow:function(t,i,r){var f,o,h,s,e;for(this._hierarchical()&&(i=this.dataSource.level(t)+1),f=[],o=0;o<i;o++)f[o]={background:"#dfdfdf",color:"#333"};if(r&&t.items){var u=n.grep(this.allColumns,function(n){return n.field==t.field})[0],c=u&&u.title?u.title:t.field,l=u?u.groupHeaderTemplate:null,a=c+": "+t.value,v=n.extend({title:c,field:t.field,value:u&&u.values?u.values[t.value]:t.value,aggregates:t.aggregates},t.aggregates[t.field]);return l&&(a=l(v)),f.push({value:a,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+r-i}),h=this._dataRows(t.items,i+1),h.unshift({type:"group-header",cells:f}),h.concat(this._footer(t))}for(s=[],e=0;e<this.columns.length;e++)s[e]=this._cell(t,this.columns[e]);return this._hierarchical()&&(s[0].colSpan=r-i+1),[{type:"data",cells:f.concat(s)}]},_dataRows:function(n,t){for(var u=this._depth(),r=[],i=0;i<n.length;i++)r.push.apply(r,this._dataRow(n[i],t,u));return r},_footer:function(t){var i=[],r=!1,u=n.map(this.columns,n.proxy(function(i){return i.groupFooterTemplate?(r=!0,{background:"#dfdfdf",color:"#333",value:i.groupFooterTemplate(n.extend({},this.dataSource.aggregates(),t.aggregates,t.aggregates[i.field]))}):{background:"#dfdfdf",color:"#333"}},this));return r&&i.push({type:"group-footer",cells:n.map(new Array(this.dataSource.group().length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(u)}),i},_isColumnVisible:function(n){return this._visibleColumns([n]).length>0&&(n.field||n.columns)},_visibleColumns:function(t){var i=this;return n.grep(t,function(n){var t=!n.hidden;return t&&n.columns&&(t=i._visibleColumns(n.columns).length>0),t})},_headerRow:function(t,i){var r=n.map(t.cells,function(n){return{background:"#7a7a7a",color:"#fff",value:n.title,colSpan:n.colSpan>1?n.colSpan:1,rowSpan:t.rowSpan>1&&!n.colSpan?t.rowSpan:1}});return this._hierarchical()&&(r[0].colSpan=this._depth()+1),{type:"header",cells:n.map(new Array(i.length),function(){return{background:"#7a7a7a",color:"#fff"}}).concat(r)}},_prependHeaderRows:function(n){var r=this.dataSource.group(),i=[{rowSpan:1,cells:[],index:0}],t;for(this._prepareHeaderRows(i,this.options.columns),t=i.length-1;t>=0;t--)n.unshift(this._headerRow(i[t],r))},_prepareHeaderRows:function(n,t,i,r){for(var e=r||n[n.length-1],o=n[e.index+1],h=0,u,f,s=0;s<t.length;s++)u=t[s],this._isColumnVisible(u)&&(f={title:u.title||u.field,colSpan:0},e.cells.push(f),u.columns&&u.columns.length&&(o||(o={rowSpan:0,cells:[],index:n.length},n.push(o)),f.colSpan=this._trimColumns(this._visibleColumns(u.columns)).length,this._prepareHeaderRows(n,u.columns,f,o),h+=f.colSpan-1,e.rowSpan=n.length-e.index));i&&(i.colSpan+=h)},_rows:function(){var u=this.dataSource.group(),t=this._dataRows(this.dataSource.view(),0),i,r;return this.columns.length&&(this._prependHeaderRows(t),i=!1,r=n.map(this.columns,n.proxy(function(t){if(t.footerTemplate){i=!0;var r=this.dataSource.aggregates();return{background:"#dfdfdf",color:"#333",value:t.footerTemplate(n.extend({},r,r[t.field]))}}return{background:"#dfdfdf",color:"#333"}},this)),i&&t.push({type:"footer",cells:n.map(new Array(u.length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(r)})),t},_headerDepth:function(n){for(var i=0,r,t=0;t<n.length;t++)n[t].columns&&(r=this._headerDepth(n[t].columns),r>i&&(i=r));return 1+i},_freezePane:function(){var t=this._visibleColumns(this.options.columns||[]),i=this._visibleColumns(this._trimColumns(this._leafColumns(n.grep(t,function(n){return n.locked})))).length;return{rowSplit:this._headerDepth(t),colSplit:i?i+this.dataSource.group().length:0}},_cell:function(n,t){return{value:t.value(n)}},_hierarchical:function(){return this.options.hierarchy&&this.dataSource.level},_depth:function(){var i=this.dataSource,n=0,r,t,u;if(this._hierarchical()){for(r=i.view(),t=0;t<r.length;t++)u=i.level(r[t]),u>n&&(n=u);n++}else n=i.group().length;return n},_columns:function(){var t=this._depth(),i=n.map(new Array(t),function(){return{width:20}});return i.concat(n.map(this.columns,function(n){return{width:parseInt(n.width,10),autoWidth:n.width?!1:!0}}))}});t.ExcelMixin={extend:function(t){t.events.push("excelExport");t.options.excel=n.extend(t.options.excel,this.options);t.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:!1,filterable:!1,fileName:"Export.xlsx"},saveAsExcel:function(){var i=this.options.excel||{},r=new t.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:i.allPages,filterable:i.filterable,hierarchy:i.hierarchy});r.workbook().then(n.proxy(function(n,r){if(!this.trigger("excelExport",{workbook:n,data:r})){var u=new t.ooxml.Workbook(n);t.saveAs({dataURI:u.toDataURL(),fileName:n.fileName||i.fileName,proxyURL:i.proxyURL,forceProxy:i.forceProxy})}},this))}}}(kendo.jQuery,kendo),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n,t,i){function s(n,o){var h,l;if(n==null||n=="none")return null;if(n instanceof c)return n;if(n=n.toLowerCase(),h=e.exec(n))return n=h[1]=="transparent"?new u(1,1,1,0):s(r.namedColors[h[1]],o),n.match=[h[1]],n;if((h=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(n))?l=new f(i(h[1],16),i(h[2],16),i(h[3],16),1):(h=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(n))?l=new f(i(h[1]+h[1],16),i(h[2]+h[2],16),i(h[3]+h[3],16),1):(h=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(n))?l=new f(i(h[1],10),i(h[2],10),i(h[3],10),1):(h=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(n))?l=new f(i(h[1],10),i(h[2],10),i(h[3],10),t(h[4])):(h=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(n))?l=new u(t(h[1])/100,t(h[2])/100,t(h[3])/100,1):(h=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(n))&&(l=new u(t(h[1])/100,t(h[2])/100,t(h[3])/100,t(h[4]))),l)l.match=h;else if(!o)throw new Error("Cannot parse color: "+n);return l}function h(n,t,i){for(i||(i="0"),n=n.toString(16);t>n.length;)n="0"+n;return n}var r=function(n){var t=this,f=r.formats,o,s,e,i,u;if(arguments.length===1)for(n=t.resolveColor(n),i=0;i<f.length;i++)o=f[i].re,s=f[i].process,e=o.exec(n),e&&(u=s(e),t.r=u[0],t.g=u[1],t.b=u[2]);else t.r=arguments[0],t.g=arguments[1],t.b=arguments[2];t.r=t.normalizeByte(t.r);t.g=t.normalizeByte(t.g);t.b=t.normalizeByte(t.b)},e,o;r.prototype={toHex:function(){var n=this,t=n.padDigit,i=n.r.toString(16),r=n.g.toString(16),u=n.b.toString(16);return"#"+t(i)+t(r)+t(u)},resolveColor:function(n){return n=n||"black",n.charAt(0)=="#"&&(n=n.substr(1,6)),n=n.replace(/ /g,""),n=n.toLowerCase(),r.namedColors[n]||n},normalizeByte:function(n){return n<0||isNaN(n)?0:n>255?255:n},padDigit:function(n){return n.length===1?"0"+n:n},brightness:function(n){var t=this,i=Math.round;return t.r=i(t.normalizeByte(t.r*n)),t.g=i(t.normalizeByte(t.g*n)),t.b=i(t.normalizeByte(t.b*n)),t},percBrightness:function(){var n=this;return Math.sqrt(.241*n.r*n.r+.691*n.g*n.g+.068*n.b*n.b)}};r.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(n){return[i(n[1],10),i(n[2],10),i(n[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(n){return[i(n[1],16),i(n[2],16),i(n[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(n){return[i(n[1]+n[1],16),i(n[2]+n[2],16),i(n[3]+n[3],16)]}}];r.namedColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=["transparent"];for(o in r.namedColors)r.namedColors.hasOwnProperty(o)&&e.push(o);e=new RegExp("^("+e.join("|")+")(\\W|$)","i");var c=kendo.Class.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var n=this.toBytes();return"rgba("+n.r+", "+n.g+", "+n.b+", "+t((+this.a).toFixed(3))+")"},toDisplay:function(){return kendo.support.browser.msie&&kendo.support.browser.version<9?this.toCss():this.toCssRgba()},equals:function(n){return n===this||n!==null&&this.toCssRgba()==s(n).toCssRgba()},diff:function(n){if(n==null)return NaN;var t=this.toBytes();return n=n.toBytes(),Math.sqrt(Math.pow((t.r-n.r)*.3,2)+Math.pow((t.g-n.g)*.59,2)+Math.pow((t.b-n.b)*.11,2))},clone:function(){var n=this.toBytes();return n===this&&(n=new f(n.r,n.g,n.b,n.a)),n}}),u=c.extend({init:function(n,t,i,r){this.r=n;this.g=t;this.b=i;this.a=r},toHSV:function(){var s,n,t,i,e,o,r=this.r,u=this.g,f=this.b;return(s=Math.min(r,u,f),n=Math.max(r,u,f),o=n,t=n-s,t===0)?new l(0,0,o,this.a):(n!==0?(e=t/n,i=r==n?(u-f)/t:u==n?2+(f-r)/t:4+(r-u)/t,i*=60,i<0&&(i+=360)):(e=0,i=-1),new l(i,e,o,this.a))},toBytes:function(){return new f(this.r*255,this.g*255,this.b*255,this.a)}}),f=u.extend({init:function(n,t,i,r){this.r=Math.round(n);this.g=Math.round(t);this.b=Math.round(i);this.a=r},toRGB:function(){return new u(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return h(this.r,2)+h(this.g,2)+h(this.b,2)},toBytes:function(){return this}}),l=c.extend({init:function(n,t,i,r){this.h=n;this.s=t;this.v=i;this.a=r},toRGB:function(){var h=this.h,e=this.s,n=this.v,c,t,i,r,l,f,o,s;if(e===0)t=i=r=n;else{h/=60;c=Math.floor(h);l=h-c;f=n*(1-e);o=n*(1-e*l);s=n*(1-e*(1-l));switch(c){case 0:t=n;i=s;r=f;break;case 1:t=o;i=n;r=f;break;case 2:t=f;i=n;r=s;break;case 3:t=f;i=o;r=n;break;case 4:t=s;i=f;r=n;break;default:t=n;i=f;r=o}}return new u(t,i,r,this.a)},toBytes:function(){return this.toRGB().toBytes()}});r.fromBytes=function(n,t,i,r){return new f(n,t,i,r!=null?r:1)};r.fromRGB=function(n,t,i,r){return new u(n,t,i,r!=null?r:1)};r.fromHSV=function(n,t,i,r){return new l(n,t,i,r!=null?r:1)};kendo.Color=r;kendo.parseColor=s}(window.kendo.jQuery,parseFloat,parseInt),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.color","./kendo.core"],n)}(function(){return function(n){function r(n){return typeof n!==y}function p(n,i){var r=w(i);return t.round(n*r)/r}function w(n){return n?t.pow(10,n):1}function b(n,i,r){return t.max(t.min(n,r),i)}function k(n){return n*h}function d(n){return n/h}function g(n){return typeof n=="number"&&!isNaN(n)}function nt(n,t){return r(n)?n:t}function tt(n){return n*n}function c(n){var i=[],t;for(t in n)i.push(t+n[t]);return i.sort().join("")}function l(n){for(var t=2166136261,i=0;i<n.length;++i)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=n.charCodeAt(i);return t>>>0}function it(n){return l(c(n))}function o(n){for(var o=n.length,r=u,e=f,i=0;i<o;i++)e=t.max(e,n[i]),r=t.min(r,n[i]);return{min:r,max:e}}function rt(n){return o(n).min}function ut(n){return o(n).max}function ft(n){return s(n).min}function et(n){return s(n).max}function s(n){for(var r=u,e=f,i,o=0,s=n.length;o<s;o++)i=n[o],i!==null&&isFinite(i)&&(r=t.min(r,i),e=t.max(e,i));return{min:r===u?undefined:r,max:e===f?undefined:e}}function ot(n){if(n)return n[n.length-1]}function st(n,t){return n.push.apply(n,t),n}function ht(n){return i.template(n,{useWithBlock:!1,paramName:"d"})}function a(n,t){return r(t)&&t!==null?" "+n+"='"+t+"' ":""}function ct(n){for(var i="",t=0;t<n.length;t++)i+=a(n[t][0],n[t][1]);return i}function lt(n){for(var i="",u,t=0;t<n.length;t++)u=n[t][1],r(u)&&(i+=n[t][0]+":"+u+";");if(i!=="")return i}function at(n){return typeof n!="string"&&(n+="px"),n}function vt(n){var u=[],r,t;if(n)for(r=i.toHyphens(n).split("-"),t=0;t<r.length;t++)u.push("k-pos-"+r[t]);return u.join(" ")}function yt(n){return n===""||n===null||n==="none"||n==="transparent"||!r(n)}var t=Math,i=window.kendo,v=i.deepExtend,pt=i.dataviz,h=t.PI/180,u=Number.MAX_VALUE,f=-Number.MAX_VALUE,y="undefined",wt=n.inArray,bt=[].push,kt=[].pop,dt=[].splice,gt=[].shift,ni=[].slice,ti=[].unshift,e=Date.now;e||(e=function(){return(new Date).getTime()});v(i,{util:{MAX_NUM:u,MIN_NUM:f,append:st,arrayLimits:o,arrayMin:rt,arrayMax:ut,defined:r,deg:d,hashKey:l,hashObject:it,isNumber:g,isTransparent:yt,last:ot,limitValue:b,now:e,objectKey:c,round:p,rad:k,renderAttr:a,renderAllAttr:ct,renderPos:vt,renderSize:at,renderStyle:lt,renderTemplate:ht,sparseArrayLimits:s,sparseArrayMin:ft,sparseArrayMax:et,sqr:tt,valueOrDefault:nt}});i.dataviz.util=i.util}(window.kendo.jQuery),function(){function f(n){var o="",s,i,u,c,l,h,f,e=0;for(n=r(n);e<n.length;)s=n.charCodeAt(e++),i=n.charCodeAt(e++),u=n.charCodeAt(e++),c=s>>2,l=(s&3)<<4|i>>4,h=(i&15)<<2|u>>6,f=u&63,isNaN(i)?h=f=64:isNaN(u)&&(f=64),o=o+t.charAt(c)+t.charAt(l)+t.charAt(h)+t.charAt(f);return o}function r(t){for(var r="",i,u=0;u<t.length;u++)i=t.charCodeAt(u),i<128?r+=n(i):i<2048?(r+=n(192|i>>>6),r+=n(128|i&63)):i<65536&&(r+=n(224|i>>>12),r+=n(128|i>>>6&63),r+=n(128|i&63));return r}var i=window.kendo,u=i.deepExtend,n=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u(i.util,{encodeBase64:f,encodeUTF8:r})}(window.kendo.jQuery),function(n){var i=Math,t=window.kendo,r=t.deepExtend,u=n.inArray,f={observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(n){return this._observers?this._observers.push(n):this._observers=[n],this},removeObserver:function(n){var t=this.observers(),i=u(n,t);return i!=-1&&t.splice(i,1),this},trigger:function(n,t){var r=this._observers,u,i;if(r&&!this._suspended)for(i=0;i<r.length;i++)u=r[i],u[n]&&u[n](t);return this},optionsChange:function(n){this.trigger("optionsChange",n)},geometryChange:function(n){this.trigger("geometryChange",n)},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=i.max((this._suspended||0)-1,0),this},_observerField:function(n,t){this[n]&&this[n].removeObserver(this);this[n]=t;t.addObserver(this)}};r(t,{mixins:{ObserversMixin:f}})}(window.kendo.jQuery),function(n){function ut(n){return n===null?null:n instanceof w?n:new w(n)}function nt(n){return n&&h.isFunction(n.matrix)?n.matrix():n}function ft(n,t,r,u){var f=0,e=0;return u&&(f=i.atan2(u.c*r,u.a*t),u.b!==0&&(e=i.atan2(u.d*r,u.b*t))),{x:f,y:e}}function et(n,t){while(n<t)n+=90;return n}function k(n,t){for(var i,u,r=0;r<t.length;r++)i=t[r],u=i.charAt(0).toUpperCase()+i.substring(1,i.length),n["set"+u]=ot(i),n["get"+u]=st(i)}function ot(n){return function(t){return this[n]!==t&&(this[n]=t,this.geometryChange()),this}}function st(n){return function(){return this[n]}}function ht(n,t,r){n>t&&(t+=360);var u=i.abs(t-n);return r||(u=360-u),u}function d(n,t,r,f,e,o){var s=u((e-n)/r,3),h=u((o-t)/f,3);return u(g(i.atan2(h,s)))}function ct(n,r,u,f,e,s,h,c){var l,a,b,tt,k,v,g,y;if(r!==f){var et=u-n,it=f-r,p=o(e,2),w=o(s,2),rt=(w*et*(n+u)+p*it*(r+f))/(2*p*it),ot=rt-f,nt=-(et*w)/(p*it);k=1/p+o(nt,2)/w;v=2*(nt*ot/w-u/p);g=o(u,2)/p+o(ot,2)/w-1;y=i.sqrt(o(v,2)-4*k*g);l=(-v-y)/(2*k);a=rt+nt*l;b=(-v+y)/(2*k);tt=rt+nt*b}else if(n!==u)v=-2*f,g=o((u-n)*s/(2*e),2)+o(f,2)-o(s,2),y=i.sqrt(o(v,2)-4*g),l=b=(n+u)/2,a=(-v-y)/2,tt=(-v+y)/2;else return!1;var ut=d(l,a,e,s,n,r),ft=d(l,a,e,s,u,f),st=ht(ut,ft,c);return(h&&st<=180||!h&&st>180)&&(l=b,a=tt,ut=d(l,a,e,s,n,r),ft=d(l,a,e,s,u,f)),{center:new t(l,a),startAngle:ut,endAngle:ft}}var i=Math,o=i.pow,lt=n.inArray,h=window.kendo,l=h.Class,a=h.deepExtend,p=h.mixins.ObserversMixin,s=h.util,c=s.defined,v=s.rad,g=s.deg,u=s.round,tt=i.PI/2,it=s.MIN_NUM,rt=s.MAX_NUM,t=l.extend({init:function(n,t){this.x=n||0;this.y=t||0},equals:function(n){return n&&n.x===this.x&&n.y===this.y},clone:function(){return new t(this.x,this.y)},rotate:function(n,t){return this.transform(ut().rotate(n,t))},translate:function(n,t){return this.x+=n,this.y+=t,this.geometryChange(),this},translateWith:function(n){return this.translate(n.x,n.y)},move:function(n,t){return this.x=this.y=0,this.translate(n,t)},scale:function(n,t){return c(t)||(t=n),this.x*=n,this.y*=t,this.geometryChange(),this},scaleCopy:function(n,t){return this.clone().scale(n,t)},transform:function(n){var t=nt(n),i=this.x,r=this.y;return this.x=t.a*i+t.c*r+t.e,this.y=t.b*i+t.d*r+t.f,this.geometryChange(),this},transformCopy:function(n){var t=this.clone();return n&&t.transform(n),t},distanceTo:function(n){var t=this.x-n.x,r=this.y-n.y;return i.sqrt(t*t+r*r)},round:function(n){return this.x=u(this.x,n),this.y=u(this.y,n),this.geometryChange(),this},toArray:function(n){var t=c(n),i=t?u(this.x,n):this.x,r=t?u(this.y,n):this.y;return[i,r]}}),f,e,b,y,r,w;k(t.fn,["x","y"]);a(t.fn,p);t.fn.toString=function(n,t){var i=this.x,r=this.y;return c(n)&&(i=u(i,n),r=u(r,n)),t=t||" ",i+t+r};t.create=function(n,i){if(c(n))return n instanceof t?n:arguments.length===1&&n.length===2?new t(n[0],n[1]):new t(n,i)};t.min=function(){for(var r=s.MAX_NUM,u=s.MAX_NUM,f,n=0;n<arguments.length;n++)f=arguments[n],r=i.min(f.x,r),u=i.min(f.y,u);return new t(r,u)};t.max=function(){for(var r=s.MIN_NUM,u=s.MIN_NUM,f,n=0;n<arguments.length;n++)f=arguments[n],r=i.max(f.x,r),u=i.max(f.y,u);return new t(r,u)};t.minPoint=function(){return new t(it,it)};t.maxPoint=function(){return new t(rt,rt)};t.ZERO=new t(0,0);f=l.extend({init:function(n,t){this.width=n||0;this.height=t||0},equals:function(n){return n&&n.width===this.width&&n.height===this.height},clone:function(){return new f(this.width,this.height)},toArray:function(n){var t=c(n),i=t?u(this.width,n):this.width,r=t?u(this.height,n):this.height;return[i,r]}});k(f.fn,["width","height"]);a(f.fn,p);f.create=function(n,t){if(c(n))return n instanceof f?n:arguments.length===1&&n.length===2?new f(n[0],n[1]):new f(n,t)};f.ZERO=new f(0,0);e=l.extend({init:function(n,i){this.setOrigin(n||new t);this.setSize(i||new f)},clone:function(){return new e(this.origin.clone(),this.size.clone())},equals:function(n){return n&&n.origin.equals(this.origin)&&n.size.equals(this.size)},setOrigin:function(n){return this._observerField("origin",t.create(n)),this.geometryChange(),this},getOrigin:function(){return this.origin},setSize:function(n){return this._observerField("size",f.create(n)),this.geometryChange(),this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(n){var t=this.topLeft().transformCopy(n),i=this.topRight().transformCopy(n),r=this.bottomRight().transformCopy(n),u=this.bottomLeft().transformCopy(n);return e.fromPoints(t,i,r,u)},transformCopy:function(n){return e.fromPoints(this.topLeft().transform(n),this.bottomRight().transform(n))}});a(e.fn,p);e.fromPoints=function(){var n=t.min.apply(this,arguments),i=t.max.apply(this,arguments),r=new f(i.x-n.x,i.y-n.y);return new e(n,r)};e.union=function(n,i){return e.fromPoints(t.min(n.topLeft(),i.topLeft()),t.max(n.bottomRight(),i.bottomRight()))};e.intersect=function(n,r){return n={left:n.topLeft().x,top:n.topLeft().y,right:n.bottomRight().x,bottom:n.bottomRight().y},r={left:r.topLeft().x,top:r.topLeft().y,right:r.bottomRight().x,bottom:r.bottomRight().y},n.left<=r.right&&r.left<=n.right&&n.top<=r.bottom&&r.top<=n.bottom?e.fromPoints(new t(i.max(n.left,r.left),i.max(n.top,r.top)),new t(i.min(n.right,r.right),i.min(n.bottom,r.bottom))):void 0};b=l.extend({init:function(n,i){this.setCenter(n||new t);this.setRadius(i||0)},setCenter:function(n){return this._observerField("center",t.create(n)),this.geometryChange(),this},getCenter:function(){return this.center},equals:function(n){return n&&n.center.equals(this.center)&&n.radius===this.radius},clone:function(){return new b(this.center.clone(),this.radius)},pointAt:function(n){return this._pointAt(v(n))},bbox:function(n){for(var r=t.maxPoint(),u=t.minPoint(),f=ft(this.center,this.radius,this.radius,n),i=0;i<4;i++){var s=this._pointAt(f.x+i*tt).transformCopy(n),h=this._pointAt(f.y+i*tt).transformCopy(n),o=new t(s.x,h.y);r=t.min(r,o);u=t.max(u,o)}return e.fromPoints(r,u)},_pointAt:function(n){var r=this.center,u=this.radius;return new t(r.x-u*i.cos(n),r.y-u*i.sin(n))}});k(b.fn,["radius"]);a(b.fn,p);y=l.extend({init:function(n,i){this.setCenter(n||new t);i=i||{};this.radiusX=i.radiusX;this.radiusY=i.radiusY||i.radiusX;this.startAngle=i.startAngle;this.endAngle=i.endAngle;this.anticlockwise=i.anticlockwise||!1},clone:function(){return new y(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(n){return this._observerField("center",t.create(n)),this.geometryChange(),this},getCenter:function(){return this.center},MAX_INTERVAL:45,pointAt:function(n){var r=this.center,u=v(n);return new t(r.x+this.radiusX*i.cos(u),r.y+this.radiusY*i.sin(u))},curvePoints:function(){for(var f=this.startAngle,a=this.endAngle,c=this.anticlockwise?-1:1,e=[this.pointAt(f)],t=f,o=this._arcInterval(),s=o.endAngle-o.startAngle,h=i.ceil(s/this.MAX_INTERVAL),l=s/h,u,n,r=1;r<=h;r++)u=t+c*l,n=this._intervalCurvePoints(t,u),e.push(n.cp1,n.cp2,n.p2),t=u;return e},bbox:function(n){for(var i=this,l=i._arcInterval(),s=l.startAngle,r=l.endAngle,a=ft(this.center,this.radiusX,this.radiusY,n),w=g(a.x),b=g(a.y),u=i.pointAt(s).transformCopy(n),v=i.pointAt(r).transformCopy(n),h=t.min(u,v),c=t.max(u,v),f=et(w,s),o=et(b,s),y,p;f<r||o<r;)f<r&&(y=i.pointAt(f).transformCopy(n),f+=90),o<r&&(p=i.pointAt(o).transformCopy(n),o+=90),u=new t(y.x,p.y),h=t.min(h,u),c=t.max(c,u);return e.fromPoints(h,c)},_arcInterval:function(){var t=this.startAngle,n=this.endAngle,i=this.anticlockwise,r;return i&&(r=t,t=n,n=r),(t>n||i&&t===n)&&(n+=360),{startAngle:t,endAngle:n}},_intervalCurvePoints:function(n,i){var r=this,f=r.pointAt(n),e=r.pointAt(i),o=r._derivativeAt(n),s=r._derivativeAt(i),u=(v(i)-v(n))/3,h=new t(f.x+u*o.x,f.y+u*o.y),c=new t(e.x-u*s.x,e.y-u*s.y);return{p1:f,cp1:h,cp2:c,p2:e}},_derivativeAt:function(n){var r=this,u=v(n);return new t(-r.radiusX*i.sin(u),r.radiusY*i.cos(u))}});k(y.fn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]);a(y.fn,p);y.fromPoints=function(n,t,i,r,u,f){var e=ct(n.x,n.y,t.x,t.y,i,r,u,f);return new y(e.center,{startAngle:e.startAngle,endAngle:e.endAngle,radiusX:i,radiusY:r,anticlockwise:f===0})};r=l.extend({init:function(n,t,i,r,u,f){this.a=n||0;this.b=t||0;this.c=i||0;this.d=r||0;this.e=u||0;this.f=f||0},multiplyCopy:function(n){return new r(this.a*n.a+this.c*n.b,this.b*n.a+this.d*n.b,this.a*n.c+this.c*n.d,this.b*n.c+this.d*n.d,this.a*n.e+this.c*n.f+this.e,this.b*n.e+this.d*n.f+this.f)},invert:function(){var t=this.a,i=this.b,u=this.c,f=this.d,e=this.e,o=this.f,n=t*f-i*u;return n===0?null:new r(f/n,-i/n,-u/n,t/n,(u*o-f*e)/n,(i*e-t*o)/n)},clone:function(){return new r(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(n){return n?this.a===n.a&&this.b===n.b&&this.c===n.c&&this.d===n.d&&this.e===n.e&&this.f===n.f:!1},round:function(n){return this.a=u(this.a,n),this.b=u(this.b,n),this.c=u(this.c,n),this.d=u(this.d,n),this.e=u(this.e,n),this.f=u(this.f,n),this},toArray:function(n){var i=[this.a,this.b,this.c,this.d,this.e,this.f],t;if(c(n))for(t=0;t<i.length;t++)i[t]=u(i[t],n);return i}});r.fn.toString=function(n,t){return this.toArray(n).join(t||",")};r.translate=function(n,t){return new r(1,0,0,1,n,t)};r.unit=function(){return new r(1,0,0,1,0,0)};r.rotate=function(n,t,u){var f=new r;return f.a=i.cos(v(n)),f.b=i.sin(v(n)),f.c=-f.b,f.d=f.a,f.e=t-t*f.a+u*f.b||0,f.f=u-u*f.a-t*f.b||0,f};r.scale=function(n,t){return new r(n,0,0,t,0,0)};r.IDENTITY=r.unit();w=l.extend({init:function(n){this._matrix=n||r.unit()},clone:function(){return new w(this._matrix.clone())},equals:function(n){return n&&n._matrix.equals(this._matrix)},_optionsChange:function(){this.optionsChange({field:"transform",value:this})},translate:function(n,t){return this._matrix=this._matrix.multiplyCopy(r.translate(n,t)),this._optionsChange(),this},scale:function(n,i,u){return c(i)||(i=n),u&&(u=t.create(u),this._matrix=this._matrix.multiplyCopy(r.translate(u.x,u.y))),this._matrix=this._matrix.multiplyCopy(r.scale(n,i)),u&&(this._matrix=this._matrix.multiplyCopy(r.translate(-u.x,-u.y))),this._optionsChange(),this},rotate:function(n,i){return i=t.create(i)||t.ZERO,this._matrix=this._matrix.multiplyCopy(r.rotate(n,i.x,i.y)),this._optionsChange(),this},multiply:function(n){var t=nt(n);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this},matrix:function(){return this._matrix}});a(w.fn,p);a(h,{geometry:{Arc:y,Circle:b,Matrix:r,Point:t,Rect:e,Size:f,Transformation:w,transform:ut,toMatrix:nt}});h.dataviz.geometry=h.geometry}(window.kendo.jQuery),function(n){var v=document,s=n.noop,c=Object.prototype.toString,t=window.kendo,u=t.Class,f=t.ui.Widget,e=t.deepExtend,l=t.util,a=l.defined,o=f.extend({init:function(n,i){this.options=e({},this.options,i);f.fn.init.call(this,n,this.options);this._click=this._handler("click");this._mouseenter=this._handler("mouseenter");this._mouseleave=this._handler("mouseleave");this._visual=new t.drawing.Group;this.options.width&&this.element.css("width",this.options.width);this.options.height&&this.element.css("height",this.options.height)},options:{name:"Surface"},events:["click","mouseenter","mouseleave","resize"],draw:function(n){this._visual.children.push(n)},clear:function(){this._visual.children=[]},destroy:function(){this._visual=null;f.fn.destroy.call(this)},exportVisual:function(){return this._visual},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(n){this.element.css({width:n.width,height:n.height});this._size=n;this._resize()},eventTarget:function(t){for(var i=n(t.touch?t.touch.initialTouch:t.target),r;!r&&i.length>0;){if(r=i[0]._kendoNode,i.is(this.element)||i.length===0)break;i=i.parent()}if(r)return r.srcElement},_resize:s,_handler:function(n){var t=this;return function(i){var r=t.eventTarget(i);r&&t.trigger(n,{element:r,originalEvent:i})}}}),h,i,r;t.ui.plugin(o);o.create=function(n,t){return r.current.create(n,t)};h=u.extend({init:function(n){this.childNodes=[];this.parent=null;n&&(this.srcElement=n,this.observe())},destroy:function(){var t,n;for(this.srcElement&&this.srcElement.removeObserver(this),t=this.childNodes,n=0;n<t.length;n++)this.childNodes[n].destroy();this.parent=null},load:s,observe:function(){this.srcElement&&this.srcElement.addObserver(this)},append:function(n){this.childNodes.push(n);n.parent=this},insertAt:function(n,t){this.childNodes.splice(t,0,n);n.parent=this},remove:function(n,t){for(var r=n+t,i=n;i<r;i++)this.childNodes[i].removeSelf();this.childNodes.splice(n,t)},removeSelf:function(){this.clear();this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){this.parent&&this.parent.invalidate()},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(n){n.action==="add"?this.load(n.items,n.index):n.action==="remove"&&this.remove(n.index,n.items.length);this.invalidate()}});i=u.extend({init:function(n,t){var i,r;this.prefix=t||"";for(i in n)r=n[i],r=this._wrap(r,i),this[i]=r},get:function(n){return t.getter(n,!0)(this)},set:function(n,i){var u=t.getter(n,!0)(this),r;u!==i&&(r=this._set(n,this._wrap(i,n)),r||this.optionsChange({field:this.prefix+n,value:i}))},_set:function(n,r){var o=n.indexOf(".")>=0,e,f,u;if(o)for(e=n.split("."),f="";e.length>1;){if(f+=e.shift(),u=t.getter(f,!0)(this),u||(u=new i({},f+"."),u.addObserver(this),this[f]=u),u instanceof i)return u.set(e.join("."),r),o;f+="."}return this._clear(n),t.setter(n)(this,r),o},_clear:function(n){var i=t.getter(n,!0)(this);i&&i.removeObserver&&i.removeObserver(this)},_wrap:function(n,t){var r=c.call(n);return n!==null&&a(n)&&r==="[object Object]"&&(n instanceof i||n instanceof u||(n=new i(n,this.prefix+t+".")),n.addObserver(this)),n}});e(i.fn,t.mixins.ObserversMixin);r=function(){this._items=[]};r.prototype={register:function(n,t,i){var r=this._items,u=r[0],f={name:n,type:t,order:i};!u||i<u.order?r.unshift(f):r.push(f)},create:function(n,i){var u=this._items,f=u[0],e,r;if(i&&i.type)for(e=i.type.toLowerCase(),r=0;r<u.length;r++)if(u[r].name===e){f=u[r];break}if(f)return new f.type(n,i);t.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The Kendo UI scripts are not fully loaded")}};r.current=new r;e(t,{drawing:{DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Color:t.Color,BaseNode:h,OptionsStore:i,Surface:o,SurfaceFactory:r}});t.dataviz.drawing=t.drawing}(window.kendo.jQuery),function(){var t=window.kendo,i=t.deepExtend,n=t.util.defined,r="gradient",u={extend:function(n){n.fill=this.fill;n.stroke=this.stroke},fill:function(t,i){var u=this.options,f;return n(t)?(t&&t.nodeType!=r?(f={color:t},n(i)&&(f.opacity=i),u.set("fill",f)):u.set("fill",t),this):u.get("fill")},stroke:function(t,i,r){return n(t)?(this.options.set("stroke.color",t),n(i)&&this.options.set("stroke.width",i),n(r)&&this.options.set("stroke.opacity",r),this):this.options.get("stroke")}},f={extend:function(n,t){n.traverse=function(n){for(var u=this[t],r,i=0;i<u.length;i++)r=u[i],r.traverse?r.traverse(n):n(r);return this}}};i(t.drawing,{mixins:{Paintable:u,Traversable:f}})}(window.kendo.jQuery),function(n){function c(n,i){return t.current.measure(n,i)}var o=document,i=window.kendo,f=i.Class,s=i.deepExtend,u=i.util,h=u.defined,r=1,e=f.extend({init:function(n){this._size=n;this._length=0;this._map={}},put:function(n,t){var i=this,u=i._map,r={key:n,value:t};u[n]=r;i._head?(i._tail.newer=r,r.older=i._tail,i._tail=r):i._head=i._tail=r;i._length>=i._size?(u[i._head.key]=null,i._head=i._head.newer,i._head.older=null):i._length++},get:function(n){var i=this,t=i._map[n];if(t)return t===i._head&&t!==i._tail&&(i._head=t.newer,i._head.older=null),t!==i._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=i._tail,t.newer=null,i._tail.newer=t,i._tail=t),t.value}}),t=f.extend({init:function(){this._cache=new e(1e3)},measure:function(t,i){var y=u.objectKey(i),l=u.hashKey(t+y),a=this._cache.get(l),s,c;if(a)return a;var e={width:0,height:0,baseline:0},f=this._measureBox,v=this._baselineMarker.cloneNode(!1);for(s in i)c=i[s],h(c)&&(f.style[s]=c);return n(f).text(t),f.appendChild(v),o.body.appendChild(f),(t+"").length&&(e.width=f.offsetWidth-r,e.height=f.offsetHeight,e.baseline=v.offsetTop+r),e.width>0&&e.height>0&&this._cache.put(l,e),f.parentNode.removeChild(f),e}});t.fn._baselineMarker=n("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+r+"px; height: "+r+"px;overflow: hidden;' />")[0];t.fn._measureBox=n("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space:nowrap !important;' />")[0];t.current=new t;s(i.drawing,{util:{TextMetrics:t,LRUCache:e,measureText:c}})}(window.kendo.jQuery),function(n){function et(n,t,i){for(var r,f,e,u=0;u<n.length;u++)f=n[u],f.visible()&&(e=t?f.bbox(i):f.rawBBox(),e&&(r=r?h.union(r,e):e));return r}function ri(n,t){for(var i,f,u,r=0;r<n.length;r++)f=n[r],f.visible()&&(u=f.clippedBBox(t),u&&(i=i?h.union(i,u):u));return i}function yt(n,t){n.origin.x-=t;n.origin.y-=t;n.size.width+=t*2;n.size.height+=t*2}function pt(n,t){for(var i=0;i<t.length;i++)n[t[i]]=di(t[i])}function di(n){var i="_"+n;return function(n){return t(n)?(this._observerField(i,n),this.geometryChange(),this):this[i]}}function ot(n,t){for(var i=0;i<t.length;i++)n[t[i]]=gi(t[i])}function gi(n){var i="_"+n;return function(n){return t(n)?(this._observerField(i,u.create(n)),this.geometryChange(),this):this[i]}}function nr(n,t){for(var i=0;i<t.length;i++)n[t[i]]=tr(t[i])}function tr(n){return function(i){return t(i)?(this.options.set(n,i),this):this.options.get(n)}}function wt(){return"kdef"+bi++}function ir(n,t,i){ei(n,t,i,"x","width")}function rr(n,t,i){ei(n,t,i,"y","height")}function ur(n){bt(fi(n),"x","y","width")}function fr(n){bt(fi(n),"y","x","height")}function er(n,t){return ui(n,t,"x","y","width")}function or(n,t){return ui(n,t,"y","x","height")}function ui(n,t,i,r,u){for(var h=[],l=hr(n,t,u),c=t.origin.clone(),f,s,e,o=0;o<l.length;o++)for(e=l[o],f=e[0],c[r]=f.bbox.origin[r],st(c,f.bbox,f.element),f.bbox.origin[i]=c[i],bt(e,i,r,u),h.push([]),s=0;s<e.length;s++)h[o].push(e[s].element);return h}function sr(n,t){var o=n.clippedBBox(),r=o.size,u=t.size,f,e;(u.width<r.width||u.height<r.height)&&(f=s.min(u.width/r.width,u.height/r.height),e=n.transform()||i.transform(),e.scale(f,f),n.transform(e))}function hr(n,t,i){for(var l=t.size[i],u=0,f=[],r=[],h,e,o,c=function(){r.push({element:h,bbox:o})},s=0;s<n.length;s++)h=n[s],o=h.clippedBBox(),o&&(e=o.size[i],u+e>l?r.length?(f.push(r),r=[],c(),u=e):(c(),f.push(r),r=[],u=0):(c(),u+=e));return r.length&&f.push(r),f}function fi(n){for(var u=[],i,r,t=0;t<n.length;t++)i=n[t],r=i.clippedBBox(),r&&u.push({element:i,bbox:r});return u}function bt(n,t,i,r){var s,f,h,e,o;if(n.length>1)for(s=n[0].bbox,f=new u,o=1;o<n.length;o++)h=n[o].element,e=n[o].bbox,f[t]=s.origin[t]+s.size[r],f[i]=e.origin[i],st(f,e,h),e.origin[t]=f[t],s=e}function ei(n,t,i,r,u){var f,o,e;for(i=i||"start",e=0;e<n.length;e++)f=n[e].clippedBBox(),f&&(o=f.origin.clone(),o[r]=nt(f.size[u],t,i,r,u),st(o,f,n[e]))}function nt(n,t,i,r,u){return i==it?t.origin[r]:i==ki?t.origin[r]+t.size[u]-n:t.origin[r]+(t.size[u]-n)/2}function cr(n,t,r){var u=r.transform()||i.transform(),f=u.matrix();f.e+=n;f.f+=t;r.transform(u)}function st(n,t,i){cr(n.x-t.origin.x,n.y-t.origin.y,i)}var l=window.kendo,b=l.Class,y=l.deepExtend,i=l.geometry,u=i.Point,h=i.Rect,oi=i.Size,si=i.Matrix,a=i.toMatrix,o=l.drawing,kt=o.OptionsStore,s=Math,tt=s.pow,p=l.util,hi=p.append,dt=p.arrayLimits,t=p.defined,c=p.last,ci=p.valueOrDefault,k=l.mixins.ObserversMixin,li=n.inArray,ai=[].push,vi=[].pop,yi=[].splice,pi=[].shift,gt=[].slice,wi=[].unshift,bi=1,it="start",ki="end",ni="horizontal",r=b.extend({nodeType:"Element",init:function(n){this._initOptions(n)},_initOptions:function(n){n=n||{};var r=n.transform,t=n.clip;r&&(n.transform=i.transform(r));t&&!t.id&&(t.id=wt());this.options=new kt(n);this.options.addObserver(this)},transform:function(n){if(t(n))this.options.set("transform",i.transform(n));else return this.options.get("transform")},parentTransform:function(){for(var n=this,r,t;n.parent;)n=n.parent,r=n.transform(),r&&(t=r.matrix().multiplyCopy(t||si.unit()));if(t)return i.transform(t)},currentTransform:function(n){var e=this.transform(),u=a(e),r,f;return t(n)||(n=this.parentTransform()),r=a(n),f=u&&r?r.multiplyCopy(u):u||r,f?i.transform(f):void 0},visible:function(n){return t(n)?(this.options.set("visible",n),this):this.options.get("visible")!==!1},clip:function(n){var i=this.options;return t(n)?(n&&!n.id&&(n.id=wt()),i.set("clip",n),this):i.get("clip")},opacity:function(n){return t(n)?(this.options.set("opacity",n),this):ci(this.options.get("opacity"),1)},clippedBBox:function(n){var t=this._clippedBBox(n),i;if(t)return i=this.clip(),i?h.intersect(t,i.bbox(n)):t},_clippedBBox:function(n){return this.bbox(n)}}),d,g,rt,ut,ft,ht,w,f,ct,lt,e,ti,v,at,vt,ii;y(r.fn,k);d=b.extend({init:function(n){n=n||[];this.length=0;this._splice(0,n.length,n)},elements:function(n){return n?(this._splice(0,this.length,n),this._change(),this):this.slice(0)},push:function(){var n=arguments,t=ai.apply(this,n);return this._add(n),t},slice:gt,pop:function(){var t=this.length,n=vi.apply(this);return t&&this._remove([n]),n},splice:function(n,t){var i=gt.call(arguments,2),r=this._splice(n,t,i);return this._change(),r},shift:function(){var t=this.length,n=pi.apply(this);return t&&this._remove([n]),n},unshift:function(){var n=arguments,t=wi.apply(this,n);return this._add(n),t},indexOf:function(n){for(var i=this,t=0,r=i.length;t<r;t++)if(i[t]===n)return t;return-1},_splice:function(n,t,i){var r=yi.apply(this,[n,t].concat(i));return this._clearObserver(r),this._setObserver(i),r},_add:function(n){this._setObserver(n);this._change()},_remove:function(n){this._clearObserver(n);this._change()},_setObserver:function(n){for(var t=0;t<n.length;t++)n[t].addObserver(this)},_clearObserver:function(n){for(var t=0;t<n.length;t++)n[t].removeObserver(this)},_change:function(){}});y(d.fn,k);g=r.extend({nodeType:"Group",init:function(n){r.fn.init.call(this,n);this.children=[]},childrenChange:function(n,t,i){this.trigger("childrenChange",{action:n,items:t,index:i})},append:function(){return hi(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},insertAt:function(n,t){return this.children.splice(t,0,n),n.parent=this,this.childrenChange("add",[n],t),this},remove:function(n){var t=li(n,this.children);return t>=0&&(this.children.splice(t,1),n.parent=null,this.childrenChange("remove",[n],t)),this},removeAt:function(n){if(0<=n&&n<this.children.length){var t=this.children[n];this.children.splice(n,1);t.parent=null;this.childrenChange("remove",[t],n)}return this},clear:function(){var n=this.children;return this.children=[],this._reparent(n,null),this.childrenChange("remove",n,0),this},bbox:function(n){return et(this.children,!0,this.currentTransform(n))},rawBBox:function(){return et(this.children,!1)},_clippedBBox:function(n){return ri(this.children,this.currentTransform(n))},currentTransform:function(n){return r.fn.currentTransform.call(this,n)||null},_reparent:function(n,t){for(var u,i,r=0;r<n.length;r++)u=n[r],i=u.parent,i&&i!=this&&i.remove&&i.remove(u),u.parent=t}});o.mixins.Traversable.extend(g.fn,"children");rt=r.extend({nodeType:"Text",init:function(n,u,f){r.fn.init.call(this,f);this.content(n);this.position(u||new i.Point);this.options.font||(this.options.font="12px sans-serif");t(this.options.fill)||this.fill("#000")},content:function(n){return t(n)?(this.options.set("content",n),this):this.options.get("content")},measure:function(){return o.util.measureText(this.content(),{font:this.options.get("font")})},rect:function(){var n=this.measure(),t=this.position().clone();return new i.Rect(t,[n.width,n.height])},bbox:function(n){var t=a(this.currentTransform(n));return this.rect().bbox(t)},rawBBox:function(){return this.rect().bbox()}});o.mixins.Paintable.extend(rt.fn);ot(rt.fn,["position"]);ut=r.extend({nodeType:"Circle",init:function(n,u){r.fn.init.call(this,u);this.geometry(n||new i.Circle);t(this.options.stroke)||this.stroke("#000")},bbox:function(n){var r=a(this.currentTransform(n)),t=this._geometry.bbox(r),i=this.options.get("stroke.width");return i&&yt(t,i/2),t},rawBBox:function(){return this._geometry.bbox()}});o.mixins.Paintable.extend(ut.fn);pt(ut.fn,["geometry"]);ft=r.extend({nodeType:"Arc",init:function(n,u){r.fn.init.call(this,u);this.geometry(n||new i.Arc);t(this.options.stroke)||this.stroke("#000")},bbox:function(n){var r=a(this.currentTransform(n)),t=this.geometry().bbox(r),i=this.options.get("stroke.width");return i&&yt(t,i/2),t},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var i=new f,n=this.geometry().curvePoints(),t;if(n.length>0)for(i.moveTo(n[0].x,n[0].y),t=1;t<n.length;t+=3)i.curveTo(n[t],n[t+1],n[t+2]);return i}});o.mixins.Paintable.extend(ft.fn);pt(ft.fn,["geometry"]);ht=d.extend({_change:function(){this.geometryChange()}});w=b.extend({init:function(n,t,i){this.anchor(n||new u);this.controlIn(t);this.controlOut(i)},bboxTo:function(n,t){var i=this.anchor().transformCopy(t),r=n.anchor().transformCopy(t);return this.controlOut()&&n.controlIn()?this._curveBoundingBox(i,this.controlOut().transformCopy(t),n.controlIn().transformCopy(t),r):this._lineBoundingBox(i,r)},_lineBoundingBox:function(n,t){return h.fromPoints(n,t)},_curveBoundingBox:function(n,t,i,r){var f=[n,t,i,r],e=this._curveExtremesFor(f,"x"),o=this._curveExtremesFor(f,"y"),s=dt([e.min,e.max,n.x,r.x]),c=dt([o.min,o.max,n.y,r.y]);return h.fromPoints(new u(s.min,c.min),new u(s.max,c.max))},_curveExtremesFor:function(n,t){var i=this._curveExtremes(n[0][t],n[1][t],n[2][t],n[3][t]);return{min:this._calculateCurveAt(i.min,t,n),max:this._calculateCurveAt(i.max,t,n)}},_calculateCurveAt:function(n,t,i){var r=1-n;return tt(r,3)*i[0][t]+3*tt(r,2)*n*i[1][t]+3*tt(n,2)*r*i[2][t]+tt(n,3)*i[3][t]},_curveExtremes:function(n,t,i,r){var o=n-3*t+3*i-r,u=-2*(n-2*t+i),a=n-t,l=s.sqrt(u*u-4*o*a),h=0,c=1,f,e;return o===0?u!==0&&(h=c=-a/u):isNaN(l)||(h=(-u+l)/(2*o),c=(-u-l)/(2*o)),f=s.max(s.min(h,c),0),(f<0||f>1)&&(f=0),e=s.min(s.max(h,c),1),(e>1||e<0)&&(e=1),{min:f,max:e}}});ot(w.fn,["anchor","controlIn","controlOut"]);y(w.fn,k);f=r.extend({nodeType:"Path",init:function(n){r.fn.init.call(this,n);this.segments=new ht;this.segments.addObserver(this);t(this.options.stroke)||(this.stroke("#000"),t(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))},moveTo:function(n,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(n,t),this},lineTo:function(n,i){var r=t(i)?new u(n,i):n,f=new w(r);return this.segments.push(f),this},curveTo:function(n,t,i){if(this.segments.length>0){var r=c(this.segments),u=new w(i,t);this.suspend();r.controlOut(n);this.resume();this.segments.push(u)}return this},arc:function(n,t,r,f,e){if(this.segments.length>0){var l=c(this.segments),o=l.anchor(),h=p.rad(n),a=new u(o.x-r*s.cos(h),o.y-f*s.sin(h)),v=new i.Arc(a,{startAngle:n,endAngle:t,radiusX:r,radiusY:f,anticlockwise:e});this._addArcSegments(v)}return this},arcTo:function(n,t,r,u,f){if(this.segments.length>0){var e=c(this.segments),o=e.anchor(),s=i.Arc.fromPoints(o,n,t,r,u,f);this._addArcSegments(s)}return this},_addArcSegments:function(n){var i,t;for(this.suspend(),i=n.curvePoints(),t=1;t<i.length;t+=3)this.curveTo(i[t],i[t+1],i[t+2]);this.resume();this.geometryChange()},close:function(){return this.options.closed=!0,this.geometryChange(),this},bbox:function(n){var r=a(this.currentTransform(n)),t=this._bbox(r),i=this.options.get("stroke.width");return i&&yt(t,i/2),t},rawBBox:function(){return this._bbox()},_bbox:function(n){var r=this.segments,u=r.length,t,e,i,f;if(u===1)e=r[0].anchor().transformCopy(n),t=new h(e,oi.ZERO);else if(u>0)for(i=1;i<u;i++)f=r[i-1].bboxTo(r[i],n),t=t?h.union(t,f):f;return t}});o.mixins.Paintable.extend(f.fn);f.fromRect=function(n,t){return new f(t).moveTo(n.topLeft()).lineTo(n.topRight()).lineTo(n.bottomRight()).lineTo(n.bottomLeft()).close()};f.fromPoints=function(n,t){var r,i,e;if(n){for(r=new f(t),i=0;i<n.length;i++)e=u.create(n[i]),e&&(i===0?r.moveTo(e):r.lineTo(e));return r}};f.fromArc=function(n,t){var i=new f(t),r=n.startAngle,u=n.pointAt(r);return i.moveTo(u.x,u.y),i.arc(r,n.endAngle,n.radiusX,n.radiusY,n.anticlockwise),i};ct=r.extend({nodeType:"MultiPath",init:function(n){r.fn.init.call(this,n);this.paths=new ht;this.paths.addObserver(this);t(this.options.stroke)||this.stroke("#000")},moveTo:function(n,t){var i=new f;return i.moveTo(n,t),this.paths.push(i),this},lineTo:function(n,t){return this.paths.length>0&&c(this.paths).lineTo(n,t),this},curveTo:function(n,t,i){return this.paths.length>0&&c(this.paths).curveTo(n,t,i),this},arc:function(n,t,i,r,u){return this.paths.length>0&&c(this.paths).arc(n,t,i,r,u),this},arcTo:function(n,t,i,r,u){return this.paths.length>0&&c(this.paths).arcTo(n,t,i,r,u),this},close:function(){return this.paths.length>0&&c(this.paths).close(),this},bbox:function(n){return et(this.paths,!0,this.currentTransform(n))},rawBBox:function(){return et(this.paths,!1)},_clippedBBox:function(n){return ri(this.paths,this.currentTransform(n))}});o.mixins.Paintable.extend(ct.fn);lt=r.extend({nodeType:"Image",init:function(n,t,u){r.fn.init.call(this,u);this.src(n);this.rect(t||new i.Rect)},src:function(n){return t(n)?(this.options.set("src",n),this):this.options.get("src")},bbox:function(n){var t=a(this.currentTransform(n));return this._rect.bbox(t)},rawBBox:function(){return this._rect.bbox()}});pt(lt.fn,["rect"]);e=b.extend({init:function(n,i,r){this.options=new kt({offset:n,color:i,opacity:t(r)?r:1});this.options.addObserver(this)}});nr(e.fn,["offset","color","opacity"]);y(e.fn,k);e.create=function(n){if(t(n))return n instanceof e?n:n.length>1?new e(n[0],n[1],n[2]):new e(n.offset,n.color,n.opacity)};ti=d.extend({_change:function(){this.optionsChange({field:"stops"})}});v=b.extend({nodeType:"gradient",init:function(n){this.stops=new ti(this._createStops(n.stops));this.stops.addObserver(this);this._userSpace=n.userSpace;this.id=wt()},userSpace:function(n){return t(n)?(this._userSpace=n,this.optionsChange(),this):this._userSpace},_createStops:function(n){var i=[],t;for(n=n||[],t=0;t<n.length;t++)i.push(e.create(n[t]));return i},addStop:function(n,t,i){this.stops.push(new e(n,t,i))},removeStop:function(n){var t=this.stops.indexOf(n);t>=0&&this.stops.splice(t,1)}});y(v.fn,k,{optionsChange:function(n){this.trigger("optionsChange",{field:"gradient"+(n?"."+n.field:""),value:this})},geometryChange:function(){this.optionsChange()}});at=v.extend({init:function(n){n=n||{};v.fn.init.call(this,n);this.start(n.start||new u);this.end(n.end||new u(1,0))}});ot(at.fn,["start","end"]);vt=v.extend({init:function(n){n=n||{};v.fn.init.call(this,n);this.center(n.center||new u);this._radius=t(n.radius)?n.radius:1;this._fallbackFill=n.fallbackFill},radius:function(n){return t(n)?(this._radius=n,this.geometryChange(),this):this._radius},fallbackFill:function(n){return t(n)?(this._fallbackFill=n,this.optionsChange(),this):this._fallbackFill}});ot(vt.fn,["center"]);ii=g.extend({init:function(n,t){g.fn.init.call(this,l.deepExtend({},this._defaults,t));this._rect=n;this._fieldMap={}},_defaults:{alignContent:it,justifyContent:it,alignItems:it,spacing:0,orientation:ni,lineSpacing:0,wrap:!0},rect:function(n){return n?(this._rect=n,this):this._rect},_initMap:function(){var t=this.options,n=this._fieldMap;t.orientation==ni?(n.sizeField="width",n.groupsSizeField="height",n.groupAxis="x",n.groupsAxis="y"):(n.sizeField="height",n.groupsSizeField="width",n.groupAxis="y",n.groupsAxis="x")},reflow:function(){var p,c;if(this._rect&&this.children.length!==0){this._initMap();this.options.transform&&this.transform(null);var t=this.options,a=this._fieldMap,r=this._rect,it=this._initGroups(),rt=it.groups,ot=it.groupsSize,f=a.sizeField,e=a.groupsSizeField,v=a.groupAxis,o=a.groupsAxis,ut=nt(ot,r,t.alignContent,o,e),k=new u,d=new u,g=new i.Size,tt,y,ft,n,s;for(p=0;p<rt.length;p++){for(n=rt[p],k[v]=tt=nt(n.size,r,t.justifyContent,v,f),k[o]=ut,g[f]=n.size,g[e]=n.lineSize,s=new h(k,g),c=0;c<n.bboxes.length;c++)ft=n.elements[c],y=n.bboxes[c],d[v]=tt,d[o]=nt(y.size[e],s,t.alignItems,o,e),st(d,y,ft),tt+=y.size[f]+t.spacing;ut+=n.lineSize+t.lineSpacing}if(!t.wrap&&n.size>r.size[f]){var l=r.size[f]/s.size[f],w=s.topLeft().scale(l,l),ht=s.size[e]*l,et=nt(ht,r,t.alignContent,o,e),b=i.transform();v==="x"?b.translate(r.origin.x-w.x,et-w.y):b.translate(et-w.x,r.origin.y-w.y);b.scale(l,l);this.transform(b)}}},_initGroups:function(){for(var u=this.options,f=this.children,o=u.lineSpacing,s=this._fieldMap.sizeField,h=-o,c=[],n=this._newGroup(),e=function(){c.push(n);h+=n.lineSize+o},t,i,r=0;r<f.length;r++)i=f[r],t=f[r].clippedBBox(),i.visible()&&t&&(u.wrap&&n.size+t.size[s]+u.spacing>this._rect.size[s]?n.bboxes.length===0?(this._addToGroup(n,t,i),e(),n=this._newGroup()):(e(),n=this._newGroup(),this._addToGroup(n,t,i)):this._addToGroup(n,t,i));return n.bboxes.length&&e(),{groups:c,groupsSize:h}},_addToGroup:function(n,t,i){n.size+=t.size[this._fieldMap.sizeField]+this.options.spacing;n.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],n.lineSize);n.bboxes.push(t);n.elements.push(i)},_newGroup:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}});y(o,{align:ir,Arc:ft,Circle:ut,Element:r,ElementsArray:d,fit:sr,Gradient:v,GradientStop:e,Group:g,Image:lt,Layout:ii,LinearGradient:at,MultiPath:ct,Path:f,RadialGradient:vt,Segment:w,stack:ur,Text:rt,vAlign:rr,vStack:fr,vWrap:or,wrap:er})}(window.kendo.jQuery),function(n){function d(n){var t=[];return n.replace(b,function(n,i){t.push(parseFloat(i))}),t}function h(n,t,i){for(var u=t?0:1,r=0;r<n.length;r+=2)n.splice(r+u,0,i)}function c(n,t){if(n&&t)return t.scaleCopy(2).translate(-n.x,-n.y)}function l(n,t,i){var r=1/3;return t=t.clone().scale(2/3),{controlOut:t.clone().translateWith(n.scaleCopy(r)),controlIn:t.translateWith(i.scaleCopy(r))}}var i=window.kendo,f=i.drawing,a=i.geometry,v=i.Class,t=a.Point,y=i.deepExtend,p=n.trim,e=i.util,g=e.deg,r=e.last,nt=e.round,w=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,b=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,o="m",k="z",u=v.extend({parse:function(n,i){var h=this,u=new f.MultiPath(i),r=new t,e;return n.replace(w,function(n,t,i,f){var h=t.toLowerCase(),l=h===t,c=d(p(i));if(h===o&&(l?(r.x+=c[0],r.y+=c[1]):(r.x=c[0],r.y=c[1]),u.moveTo(r.x,r.y),c.length>2&&(h="l",c.splice(0,2))),s[h])s[h](u,{parameters:c,position:r,isRelative:l,previousCommand:e}),f&&f.toLowerCase()===k&&u.close();else if(h!==o)throw new Error("Error while parsing SVG path. Unsupported command: "+h);e=h}),u}}),s={l:function(n,i){for(var f=i.parameters,e=i.position,r,u=0;u<f.length;u+=2)r=new t(f[u],f[u+1]),i.isRelative&&r.translateWith(e),n.lineTo(r.x,r.y),e.x=r.x,e.y=r.y},c:function(n,i){for(var u=i.parameters,f=i.position,o,s,e,r=0;r<u.length;r+=6)o=new t(u[r],u[r+1]),s=new t(u[r+2],u[r+3]),e=new t(u[r+4],u[r+5]),i.isRelative&&(s.translateWith(f),o.translateWith(f),e.translateWith(f)),n.curveTo(o,s,e),f.x=e.x,f.y=e.y},v:function(n,t){var i=t.isRelative?0:t.position.x;h(t.parameters,!0,i);this.l(n,t)},h:function(n,t){var i=t.isRelative?0:t.position.y;h(t.parameters,!1,i);this.l(n,t)},a:function(n,i){for(var u=i.parameters,e=i.position,r=0;r<u.length;r+=7){var o=u[r],s=u[r+1],h=u[r+3],c=u[r+4],f=new t(u[r+5],u[r+6]);i.isRelative&&f.translateWith(e);n.arcTo(f,o,s,h,c);e.x=f.x;e.y=f.y}},s:function(n,i){var e=i.parameters,f=i.position,l=i.previousCommand,a,o,s,h,u;for((l=="s"||l=="c")&&(h=r(r(n.paths).segments).controlIn()),u=0;u<e.length;u+=4)s=new t(e[u],e[u+1]),o=new t(e[u+2],e[u+3]),i.isRelative&&(s.translateWith(f),o.translateWith(f)),a=h?c(h,f):f.clone(),h=s,n.curveTo(a,s,o),f.x=o.x,f.y=o.y},q:function(n,i){for(var f=i.parameters,e=i.position,o,u,s,r=0;r<f.length;r+=4)s=new t(f[r],f[r+1]),u=new t(f[r+2],f[r+3]),i.isRelative&&(s.translateWith(e),u.translateWith(e)),o=l(e,s,u),n.curveTo(o.controlOut,o.controlIn,u),e.x=u.x,e.y=u.y},t:function(n,i){var s=i.parameters,u=i.position,a=i.previousCommand,h,e,f,v,o;for((a=="q"||a=="t")&&(v=r(r(n.paths).segments),e=v.controlIn().clone().translateWith(u.scaleCopy(-1/3)).scale(3/2)),o=0;o<s.length;o+=2)f=new t(s[o],s[o+1]),i.isRelative&&f.translateWith(u),e=e?c(e,u):u.clone(),h=l(u,e,f),n.curveTo(h.controlOut,h.controlIn,f),u.x=f.x,u.y=f.y}};u.current=new u;f.Path.parse=function(n,t){return u.current.parse(n,t)};y(f,{PathParser:u})}(window.kendo.jQuery),function(n){function fi(n){var t;try{t=n.getScreenCTM?n.getScreenCTM():null}catch(f){}if(t){var i=-t.e%1,r=-t.f%1,u=n.style;(i!==0||r!==0)&&(u.left=i+"px",u.top=r+"px")}}function ei(){var r=document.getElementsByTagName("base")[0],t="",n=document.location.href,i=n.indexOf("#");return r&&!f.support.browser.msie&&(i!==-1&&(n=n.substring(0,i)),t=n),t}function bt(n){return"url("+ei()+"#"+n+")"}function kt(n){var r=new d({encodeText:!0}),f=n.clippedBBox(),u,t,e;return f&&(u=f.getOrigin(),t=new i.Group,t.transform(tt.transform().translate(-u.x,-u.y)),t.children.push(n),n=t),r.load([n]),e="<?xml version='1.0' ?><svg xmlns='"+c+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+r.render()+"<\/svg>",r.destroy(),e}function oi(t,i){var r=kt(t);return i&&i.raw||(r="data:image/svg+xml;base64,"+e.encodeBase64(r)),n.Deferred().resolve(r).promise()}function dt(n,t){return n=="clip"||n=="fill"&&(!t||t.nodeType==b)}function nt(n){if(!n||!n.indexOf||n.indexOf("&")<0)return n;var t=nt._element;return t.innerHTML=n,t.textContent||t.innerText}var a=document,f=window.kendo,gt=f.deepExtend,tt=f.geometry,i=f.drawing,o=i.BaseNode,e=f.util,h=e.defined,it=e.isTransparent,w=e.renderAttr,s=e.renderAllAttr,si=e.renderSize,r=e.renderTemplate,ni=n.inArray,ti="butt",ii=i.DASH_ARRAYS,b="gradient",v="none",y=".kendo",rt="solid",k=" ",c="http://www.w3.org/2000/svg",p="transform",ri="undefined",ut=i.Surface.extend({init:function(n,t){i.Surface.fn.init.call(this,n,t);this._root=new d(this.options);g(this.element[0],this._template(this));this._rootElement=this.element[0].firstElementChild;fi(this._rootElement);this._root.attachTo(this._rootElement);this.element.on("click"+y,this._click);this.element.on("mouseover"+y,this._mouseenter);this.element.on("mouseout"+y,this._mouseleave);this.resize()},type:"svg",destroy:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,this.element.off(y));i.Surface.fn.destroy.call(this)},translate:function(n){var t=f.format("{0} {1} {2} {3}",Math.round(n.x),Math.round(n.y),this._size.width,this._size.height);this._offset=n;this._rootElement.setAttribute("viewBox",t)},draw:function(n){i.Surface.fn.draw.call(this,n);this._root.load([n])},clear:function(){i.Surface.fn.clear.call(this);this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template(this)},exportVisual:function(){var t=this._visual,r=this._offset,n;return r&&(n=new i.Group,n.children.push(t),n.transform(tt.transform().translate(-r.x,-r.y)),t=n),t},_resize:function(){this._offset&&this.translate(this._offset)},_template:r("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+c+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>#= d._root.render() #<\/svg>")}),t=o.extend({init:function(n){o.fn.init.call(this,n);this.definitions={}},destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null);this.clearDefinitions();o.fn.destroy.call(this)},load:function(n,t){for(var e=this,o=e.element,i,r,u,f=0;f<n.length;f++)r=n[f],u=r.children,i=new ui[r.nodeType](r),h(t)?e.insertAt(i,t):e.append(i),i.createDefinitions(),u&&u.length>0&&i.load(u),o&&i.attachTo(o,t)},root:function(){for(var n=this;n.parent;)n=n.parent;return n},attachTo:function(n,t){var r=a.createElement("div"),i;g(r,"<svg xmlns='"+c+"' version='1.1'>"+this.render()+"<\/svg>");i=r.firstChild.firstChild;i&&(h(t)?n.insertBefore(i,n.childNodes[t]||null):n.appendChild(i),this.setElement(i))},setElement:function(n){var i=this.childNodes,r,t;for(this.element&&(this.element._kendoNode=null),this.element=n,this.element._kendoNode=this,t=0;t<i.length;t++)r=n.childNodes[t],i[t].setElement(r)},clear:function(){var t,n;for(this.clearDefinitions(),this.element&&(this.element.innerHTML=""),t=this.childNodes,n=0;n<t.length;n++)t[n].destroy();this.childNodes=[]},removeSelf:function(){if(this.element){var n=this.element.parentNode;n&&n.removeChild(this.element);this.element=null}o.fn.removeSelf.call(this)},template:r("#= d.renderChildren() #"),render:function(){return this.template(this)},renderChildren:function(){for(var t=this.childNodes,i="",n=0;n<t.length;n++)i+=t[n].render();return i},optionsChange:function(n){var t=n.field,i=n.value;t==="visible"?this.css("display",i?"":v):l[t]&&dt(t,i)?this.updateDefinition(t,i):t==="opacity"&&this.attr("opacity",i);o.fn.optionsChange.call(this,n)},attr:function(n,t){this.element&&this.element.setAttribute(n,t)},allAttr:function(n){for(var t=0;t<n.length;t++)this.attr(n[t][0],n[t][1])},css:function(n,t){this.element&&(this.element.style[n]=t)},allCss:function(n){for(var t=0;t<n.length;t++)this.css(n[t][0],n[t][1])},removeAttr:function(n){this.element&&this.element.removeAttribute(n)},mapTransform:function(n){var t=[];return n&&t.push([p,"matrix("+n.matrix().toString(6)+")"]),t},renderTransform:function(){return s(this.mapTransform(this.srcElement.transform()))},transformChange:function(n){n?this.allAttr(this.mapTransform(n)):this.removeAttr(p)},mapStyle:function(){var n=this.srcElement.options,t=[["cursor",n.cursor]];return n.visible===!1&&t.push(["display",v]),t},renderStyle:function(){return w("style",e.renderStyle(this.mapStyle()))},renderOpacity:function(){return w("opacity",this.srcElement.options.opacity)},createDefinitions:function(){var i=this.srcElement,r=this.definitions,n,t,u,f;if(i){u=i.options;for(t in l)n=u.get(t),n&&dt(t,n)&&(r[t]=n,f=!0);f&&this.definitionChange({action:"add",definitions:r})}},definitionChange:function(n){this.parent&&this.parent.definitionChange(n)},updateDefinition:function(n,t){var r=this.definitions,u=r[n],f=l[n],i={};u&&(i[n]=u,this.definitionChange({action:"remove",definitions:i}),delete r[n]);t?(i[n]=t,this.definitionChange({action:"add",definitions:i}),r[n]=t,this.attr(f,bt(t.id))):u&&this.removeAttr(f)},clearDefinitions:function(){var n=this.definitions,t;for(t in n){this.definitionChange({action:"remove",definitions:n});this.definitions={};break}},renderDefinitions:function(){return s(this.mapDefinitions())},mapDefinitions:function(){var t=this.definitions,i=[],n;for(n in t)i.push([l[n],bt(t[n].id)]);return i}}),d=t.extend({init:function(n){t.fn.init.call(this);this.options=n;this.defs=new ft},attachTo:function(n){this.element=n;this.defs.attachTo(n.firstElementChild)},clear:function(){o.fn.clear.call(this)},template:r("#=d.defs.render()##= d.renderChildren() #"),definitionChange:function(n){this.defs.definitionChange(n)}}),ft=t.extend({init:function(){t.fn.init.call(this);this.definitionMap={}},attachTo:function(n){this.element=n},template:r("<defs>#= d.renderChildren()#<\/defs>"),definitionChange:function(n){var t=n.definitions,i=n.action;i=="add"?this.addDefinitions(t):i=="remove"&&this.removeDefinitions(t)},createDefinition:function(n,t){var r;return n=="clip"?r=et:n=="fill"&&(t instanceof i.LinearGradient?r=pt:t instanceof i.RadialGradient&&(r=wt)),new r(t)},addDefinitions:function(n){for(var t in n)this.addDefinition(t,n[t])},addDefinition:function(n,t){var u=this.definitionMap,f=t.id,e=this.element,i,r;r=u[f];r?r.count++:(i=this.createDefinition(n,t),u[f]={element:i,count:1},this.append(i),e&&i.attachTo(this.element))},removeDefinitions:function(n){for(var t in n)this.removeDefinition(n[t])},removeDefinition:function(n){var i=this.definitionMap,r=n.id,t;t=i[r];t&&(t.count--,t.count===0&&(this.remove(ni(t.element,this.childNodes),1),delete i[r]))}}),et=t.extend({init:function(n){t.fn.init.call(this);this.srcElement=n;this.id=n.id;this.load([n])},template:r("<clipPath id='#=d.id#'>#= d.renderChildren()#<\/clipPath>")}),ot=t.extend({template:r("<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #<\/g>"),optionsChange:function(n){n.field==p&&this.transformChange(n.value);t.fn.optionsChange.call(this,n)}}),u=t.extend({geometryChange:function(){this.attr("d",this.renderData());this.invalidate()},optionsChange:function(n){switch(n.field){case"fill":n.value?this.allAttr(this.mapFill(n.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:n.value}));break;case"stroke":n.value?this.allAttr(this.mapStroke(n.value)):this.removeAttr("stroke");break;case p:this.transformChange(n.value);break;default:var i=this.attributeMap[n.field];i&&this.attr(i,n.value)}t.fn.optionsChange.call(this,n)},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},content:function(){this.element&&(this.element.textContent=this.srcElement.content())},renderData:function(){return this.printPath(this.srcElement)},printPath:function(n){var i=n.segments,e=i.length,r,f,u,o,t;if(e>0){for(r=[],t=1;t<e;t++)u=this.segmentType(i[t-1],i[t]),u!==o&&(o=u,r.push(u)),u==="L"?r.push(this.printPoints(i[t].anchor())):r.push(this.printPoints(i[t-1].controlOut(),i[t].controlIn(),i[t].anchor()));return f="M"+this.printPoints(i[0].anchor())+k+r.join(k),n.options.closed&&(f+="Z"),f}},printPoints:function(){for(var t=arguments,r=t.length,i=[],n=0;n<r;n++)i.push(t[n].toString(3));return i.join(k)},segmentType:function(n,t){return n.controlOut()&&t.controlIn()?"C":"L"},mapStroke:function(n){var t=[];return n&&!it(n.color)?(t.push(["stroke",n.color]),t.push(["stroke-width",n.width]),t.push(["stroke-linecap",this.renderLinecap(n)]),t.push(["stroke-linejoin",n.lineJoin]),h(n.opacity)&&t.push(["stroke-opacity",n.opacity]),h(n.dashType)&&t.push(["stroke-dasharray",this.renderDashType(n)])):t.push(["stroke",v]),t},renderStroke:function(){return s(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(n){var f=n.width||1,i=n.dashType,r,u,t;if(i&&i!=rt){for(r=ii[i.toLowerCase()],u=[],t=0;t<r.length;t++)u.push(r[t]*f);return u.join(" ")}},renderLinecap:function(n){var t=n.dashType,i=n.lineCap;return t&&t!=rt?ti:i},mapFill:function(n){var t=[];return n&&n.nodeType==b||(n&&!it(n.color)?(t.push(["fill",n.color]),h(n.opacity)&&t.push(["fill-opacity",n.opacity])):t.push(["fill",v])),t},renderFill:function(){return s(this.mapFill(this.srcElement.options.fill))},template:r("<path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #><\/path>")}),st=u.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}}),ht=u.extend({renderData:function(){var t=this.srcElement.paths,i,n;if(t.length>0){for(i=[],n=0;n<t.length;n++)i.push(this.printPath(t[n]));return i.join(" ")}}}),ct=u.extend({geometryChange:function(){var n=this.center();this.attr("cx",n.x);this.attr("cy",n.y);this.attr("r",this.radius());this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:r("<circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # ><\/circle>")}),lt=u.extend({geometryChange:function(){var n=this.pos();this.attr("x",n.x);this.attr("y",n.y);this.invalidate()},optionsChange:function(n){n.field==="font"?(this.attr("style",e.renderStyle(this.mapStyle())),this.geometryChange()):n.field==="content"&&u.fn.content.call(this,this.srcElement.content());u.fn.optionsChange.call(this,n)},mapStyle:function(){var n=u.fn.mapStyle.call(this),t=this.srcElement.options.font;return n.push(["font",f.htmlEncode(t)]),n},pos:function(){var n=this.srcElement.position(),t=this.srcElement.measure();return n.clone().setY(n.y+t.baseline)},content:function(){var n=this.srcElement.content(),t=this.root().options;return t&&t.encodeText&&(n=nt(n),n=f.htmlEncode(n)),n},template:r("<text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #= d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() #>#= d.content() #<\/text>")}),at=u.extend({geometryChange:function(){this.allAttr(this.mapPosition());this.invalidate()},optionsChange:function(n){n.field==="src"&&this.allAttr(this.mapSource());u.fn.optionsChange.call(this,n)},mapPosition:function(){var n=this.srcElement.rect(),t=n.topLeft();return[["x",t.x],["y",t.y],["width",n.width()+"px"],["height",n.height()+"px"]]},renderPosition:function(){return s(this.mapPosition())},mapSource:function(){return[["xlink:href",this.srcElement.src()]]},renderSource:function(){return s(this.mapSource())},template:r("<image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#><\/image>")}),vt=t.extend({template:r("<stop #=d.renderOffset()# #=d.renderStyle()# />"),renderOffset:function(){return w("offset",this.srcElement.offset())},mapStyle:function(){var n=this.srcElement;return[["stop-color",n.color()],["stop-opacity",n.opacity()]]},optionsChange:function(n){n.field=="offset"?this.attr(n.field,n.value):(n.field=="color"||n.field=="opacity")&&this.css("stop-"+n.field,n.value)}}),yt=t.extend({init:function(n){t.fn.init.call(this,n);this.id=n.id;this.loadStops()},loadStops:function(){for(var u=this.srcElement,i=u.stops,r=this.element,t,n=0;n<i.length;n++)t=new vt(i[n]),this.append(t),r&&t.attachTo(r)},optionsChange:function(n){n.field=="gradient.stops"?(o.fn.clear.call(this),this.loadStops()):n.field==b&&this.allAttr(this.mapCoordinates())},renderCoordinates:function(){return s(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}),pt=yt.extend({template:r("<linearGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#<\/linearGradient>"),mapCoordinates:function(){var n=this.srcElement,t=n.start(),i=n.end();return[["x1",t.x],["y1",t.y],["x2",i.x],["y2",i.y],this.mapSpace()]}}),wt=yt.extend({template:r("<radialGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#<\/radialGradient>"),mapCoordinates:function(){var n=this.srcElement,t=n.center(),i=n.radius();return[["cx",t.x],["cy",t.y],["r",i],this.mapSpace()]}}),ui={Group:ot,Text:lt,Path:u,MultiPath:ht,Circle:ct,Arc:st,Image:at},g=function(n,t){n.innerHTML=t},l;(function(){var t="<svg xmlns='"+c+"'><\/svg>",n=a.createElement("div"),i=typeof DOMParser!=ri;n.innerHTML=t;i&&n.firstChild.namespaceURI!=c&&(g=function(n,t){var i=new DOMParser,r=i.parseFromString(t,"text/xml"),u=a.adoptNode(r.documentElement);n.innerHTML="";n.appendChild(u)})})();nt._element=document.createElement("span");l={clip:"clip-path",fill:"fill"};f.support.svg=function(){return a.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();f.support.svg&&i.SurfaceFactory.current.register("svg",ut,10);gt(i,{exportSVG:oi,svg:{ArcNode:st,CircleNode:ct,ClipNode:et,DefinitionNode:ft,GradientStopNode:vt,GroupNode:ot,ImageNode:at,LinearGradientNode:pt,MultiPathNode:ht,Node:t,PathNode:u,RadialGradientNode:wt,RootNode:d,Surface:ut,TextNode:lt,_exportGroup:kt}})}(window.kendo.jQuery),function(n){function et(i,r){var e={width:"800px",height:"600px",cors:"Anonymous"},o=i.clippedBBox(),h,u,l,a,f,v;return o&&(h=o.getOrigin(),u=new t.Group,u.transform(it.transform().translate(-h.x,-h.y)),u.children.push(i),i=u,l=o.getSize(),e.width=l.width+"px",e.height=l.height+"px"),r=c(e,r),a=n("<div />").css({display:"none",width:r.width,height:r.height}).appendTo(document.body),f=new s(a,r),f.draw(i),v=f.image(),v.always(function(){f.destroy();a.remove()}),v}function ot(n,t){for(var f,i,u=0;u<t.length;u++)i=t[u],f=r.parseColor(i.color()),f.a*=i.opacity(),n.addColorStop(i.offset(),f.toCssRgba())}var st=n.noop,g=document,r=window.kendo,c=r.deepExtend,f=r.util,l=f.defined,a=f.isTransparent,nt=f.renderTemplate,tt=f.valueOrDefault,it=r.geometry,t=r.drawing,e=t.BaseNode,rt="butt",ut=t.DASH_ARRAYS,ft=1e3/60,v="solid",s=t.Surface.extend({init:function(i,r){t.Surface.fn.init.call(this,i,r);this.element[0].innerHTML=this._template(this);var u=this.element[0].firstElementChild;u.width=n(i).width();u.height=n(i).height();this._rootElement=u;this._root=new o(u)},destroy:function(){t.Surface.fn.destroy.call(this);this._root&&(this._root.destroy(),this._root=null)},type:"canvas",draw:function(n){t.Surface.fn.draw.call(this,n);this._root.load([n],undefined,this.options.cors)},clear:function(){t.Surface.fn.clear.call(this);this._root.clear()},image:function(){var i=this._root,u=this._rootElement,r=[],t;return i.traverse(function(n){n.loading&&r.push(n.loading)}),t=n.Deferred(),n.when.apply(n,r).done(function(){i._invalidate();try{var n=u.toDataURL();t.resolve(n)}catch(r){t.reject(r)}}).fail(function(n){t.reject(n)}),t.promise()},_resize:function(){this._rootElement.width=this._size.width;this._rootElement.height=this._size.height;this._root.invalidate()},_template:nt("<canvas style='width: 100%; height: 100%;'><\/canvas>")}),h=e.extend({init:function(n){e.fn.init.call(this,n);n&&this.initClip()},initClip:function(){var n=this.srcElement.clip();n&&(this.clip=n,n.addObserver(this))},clear:function(){this.srcElement&&this.srcElement.removeObserver(this);this.clearClip();e.fn.clear.call(this)},clearClip:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},setClip:function(n){this.clip&&(n.beginPath(),i.fn.renderPoints(n,this.clip),n.clip())},optionsChange:function(n){n.field=="clip"&&(this.clearClip(),this.initClip());e.fn.optionsChange.call(this,n)},setTransform:function(n){if(this.srcElement){var t=this.srcElement.transform();t&&n.transform.apply(n,t.matrix().toArray(6))}},load:function(n,t,i){for(var o=this,r,u,f,e=0;e<n.length;e++)u=n[e],f=u.children,r=new d[u.nodeType](u,i),f&&f.length>0&&r.load(f,t,i),l(t)?o.insertAt(r,t):o.append(r);o.invalidate()},setOpacity:function(n){if(this.srcElement){var t=this.srcElement.opacity();l(t)&&this.globalAlpha(n,t)}},globalAlpha:function(n,t){t&&n.globalAlpha&&(t*=n.globalAlpha);n.globalAlpha=t},visible:function(){var n=this.srcElement;return!n||n&&n.options.visible!==!1}}),u=h.extend({renderTo:function(n){var i,t,r;if(this.visible()){for(n.save(),this.setTransform(n),this.setClip(n),this.setOpacity(n),i=this.childNodes,t=0;t<i.length;t++)r=i[t],r.visible()&&r.renderTo(n);n.restore()}}}),o,d;t.mixins.Traversable.extend(u.fn,"childNodes");o=u.extend({init:function(t){u.fn.init.call(this);this.canvas=t;this.ctx=t.getContext("2d");this.invalidate=r.throttle(n.proxy(this._invalidate,this),ft)},destroy:function(){u.fn.destroy.call(this);this.canvas=null;this.ctx=null},_invalidate:function(){this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}});t.mixins.Traversable.extend(o.fn,"childNodes");var i=h.extend({renderTo:function(n){n.save();this.setTransform(n);this.setClip(n);this.setOpacity(n);n.beginPath();this.renderPoints(n,this.srcElement);this.setLineDash(n);this.setLineCap(n);this.setLineJoin(n);this.setFill(n);this.setStroke(n);n.restore()},setFill:function(n){var t=this.srcElement.options.fill,i=!1;return t&&(t.nodeType=="gradient"?(this.setGradientFill(n,t),i=!0):a(t.color)||(n.fillStyle=t.color,n.save(),this.globalAlpha(n,t.opacity),n.fill(),n.restore(),i=!0)),i},setGradientFill:function(n,i){var u=this.srcElement.rawBBox(),f,e,o,r;i instanceof t.LinearGradient?(e=i.start(),o=i.end(),f=n.createLinearGradient(e.x,e.y,o.x,o.y)):i instanceof t.RadialGradient&&(r=i.center(),f=n.createRadialGradient(r.x,r.y,0,r.x,r.y,i.radius()));ot(f,i.stops);n.save();i.userSpace()||n.transform(u.width(),0,0,u.height(),u.origin.x,u.origin.y);n.fillStyle=f;n.fill();n.restore()},setStroke:function(n){var t=this.srcElement.options.stroke;if(t&&!a(t.color)&&t.width>0)return n.strokeStyle=t.color,n.lineWidth=tt(t.width,1),n.save(),this.globalAlpha(n,t.opacity),n.stroke(),n.restore(),!0},dashType:function(){var n=this.srcElement.options.stroke;if(n&&n.dashType)return n.dashType.toLowerCase()},setLineDash:function(n){var i=this.dashType(),t;i&&i!=v&&(t=ut[i],n.setLineDash?n.setLineDash(t):(n.mozDash=t,n.webkitLineDash=t))},setLineCap:function(n){var i=this.dashType(),t=this.srcElement.options.stroke;i&&i!==v?n.lineCap=rt:t&&t.lineCap&&(n.lineCap=t.lineCap)},setLineJoin:function(n){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(n.lineJoin=t.lineJoin)},renderPoints:function(n,t){var r=t.segments,u,i,f;if(r.length!==0){for(u=r[0],i=u.anchor(),n.moveTo(i.x,i.y),f=1;f<r.length;f++){u=r[f];i=u.anchor();var s=r[f-1],e=s.controlOut(),o=u.controlIn();e&&o?n.bezierCurveTo(e.x,e.y,o.x,o.y,i.x,i.y):n.lineTo(i.x,i.y)}t.options.closed&&n.closePath()}}}),y=i.extend({renderPoints:function(n){for(var r=this.srcElement.paths,t=0;t<r.length;t++)i.fn.renderPoints(n,r[t])}}),p=i.extend({renderPoints:function(n){var t=this.srcElement.geometry(),i=t.center,r=t.radius;n.arc(i.x,i.y,r,0,Math.PI*2)}}),w=i.extend({renderPoints:function(n){var t=this.srcElement.toPath();i.fn.renderPoints.call(this,n,t)}}),b=i.extend({renderTo:function(n){var t=this.srcElement,i=t.position(),r=t.measure();n.save();this.setTransform(n);this.setClip(n);this.setOpacity(n);n.beginPath();n.font=t.options.font;this.setFill(n)&&n.fillText(t.content(),i.x,i.y+r.baseline);this.setStroke(n)&&(this.setLineDash(n),n.strokeText(t.content(),i.x,i.y+r.baseline));n.restore()}}),k=i.extend({init:function(t,r){var u,f;i.fn.init.call(this,t);this.onLoad=n.proxy(this.onLoad,this);this.onError=n.proxy(this.onError,this);this.loading=n.Deferred();u=this.img=new Image;r&&!/^data:/i.test(t.src())&&(u.crossOrigin=r);f=u.src=t.src();u.complete?this.onLoad():(u.onload=this.onLoad,u.onerror=this.onError)},renderTo:function(n){this.loading.state()==="resolved"&&(n.save(),this.setTransform(n),this.setClip(n),this.drawImage(n),n.restore())},optionsChange:function(t){t.field==="src"?(this.loading=n.Deferred(),this.img.src=this.srcElement.src()):i.fn.optionsChange.call(this,t)},onLoad:function(){this.loading.resolve();this.invalidate()},onError:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(n){var t=this.srcElement.rect(),i=t.topLeft();n.drawImage(this.img,i.x,i.y,t.width(),t.height())}});d={Group:u,Text:b,Path:i,MultiPath:y,Circle:p,Arc:w,Image:k};r.support.canvas=function(){return!!g.createElement("canvas").getContext}();r.support.canvas&&t.SurfaceFactory.current.register("canvas",s,20);c(r.drawing,{exportImage:et,canvas:{ArcNode:w,CircleNode:p,GroupNode:u,ImageNode:k,MultiPathNode:y,Node:h,PathNode:i,RootNode:o,Surface:s,TextNode:b}})}(window.kendo.jQuery),function(n){function bi(){if(o.namespaces&&!o.namespaces.kvml){o.namespaces.add("kvml","urn:schemas-microsoft-com:vml");var n=o.styleSheets.length>30?o.styleSheets[0]:o.createStyleSheet();n.addRule(".kvml","behavior:url(#default#VML)")}}function s(n){var t=o.createElement("kvml:"+n);return t.className="kvml",t}function g(n){for(var r=n.length,i=[],t=0;t<r;t++)i.push(n[t].scaleCopy(v).toString(0,","));return i.join(" ")}function tt(n,t){var r=n.segments,o=r.length,u,e,f,s,i;if(o>0){for(u=[],i=1;i<o;i++)f=ki(r[i-1],r[i]),f!==s&&(s=f,u.push(f)),f==="l"?u.push(g([r[i].anchor()])):u.push(g([r[i-1].controlOut(),r[i].controlIn(),r[i].anchor()]));return e="m "+g([r[0].anchor()])+" "+u.join(" "),n.options.closed&&(e+=" x"),t!==!0&&(e+=" e"),e}}function ki(n,t){return n.controlOut()&&t.controlIn()?"c":"l"}function ai(n){return n.indexOf("fill")===0||n.indexOf(et)===0}function ot(n,t,i){var r=i*f(t.opacity(),1);return n?vi(n,t.color(),r):vi(t.color(),"#fff",1-r)}function vi(n,t,i){var r=new ut(n),u=new ut(t),f=st(r.r,u.r,i),e=st(r.g,u.g,i),o=st(r.b,u.b,i);return new ut(f,e,o).toHex()}function st(n,t,i){return w.round(i*t+(1-i)*n)}var o=document,w=Math,it=w.atan2,h=w.ceil,ct=w.sqrt,i=window.kendo,yi=i.deepExtend,lt=n.noop,u=i.drawing,b=u.BaseNode,rt=i.geometry,at=rt.toMatrix,ut=i.Color,c=i.util,vt=c.isTransparent,k=c.defined,yt=c.deg,di=c.renderTemplate,d=c.round,f=c.valueOrDefault,ft="none",nt=".kendo",v=100,pt=v*v,et="gradient",y=4,wt=u.Surface.extend({init:function(n,t){u.Surface.fn.init.call(this,n,t);bi();this.element.empty();this._root=new bt;this._root.attachTo(this.element[0]);this.element.on("click"+nt,this._click);this.element.on("mouseover"+nt,this._mouseenter);this.element.on("mouseout"+nt,this._mouseleave)},type:"vml",destroy:function(){this._root&&(this._root.destroy(),this._root=null,this.element.off(nt));u.Surface.fn.destroy.call(this)},draw:function(n){u.Surface.fn.draw.call(this,n);this._root.load([n],undefined,null)},clear:function(){u.Surface.fn.clear.call(this);this._root.clear()}}),t=b.extend({init:function(n){b.fn.init.call(this,n);this.createElement();this.attachReference()},observe:lt,destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null);b.fn.destroy.call(this)},clear:function(){var t,n;for(this.element&&(this.element.innerHTML=""),t=this.childNodes,n=0;n<t.length;n++)t[n].destroy();this.childNodes=[]},removeSelf:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null);b.fn.removeSelf.call(this)},createElement:function(){this.element=o.createElement("div")},attachReference:function(){this.element._kendoNode=this},load:function(n,t,i,r){var e;for(r=f(r,1),this.srcElement&&(r*=f(this.srcElement.options.opacity,1)),e=0;e<n.length;e++){var u=n[e],s=u.children,h=u.currentTransform(i),c=r*f(u.options.opacity,1),o=new wi[u.nodeType](u,h,c);s&&s.length>0&&o.load(s,t,h,r);k(t)?this.insertAt(o,t):this.append(o);o.attachTo(this.element,t)}},attachTo:function(n,t){k(t)?n.insertBefore(this.element,n.children[t]||null):n.appendChild(this.element)},optionsChange:function(n){n.field=="visible"&&this.css("display",n.value!==!1?"":ft)},setStyle:function(){this.allCss(this.mapStyle())},mapStyle:function(){var n=[];return this.srcElement&&this.srcElement.options.visible===!1&&n.push(["display",ft]),n},mapOpacityTo:function(n,t){var i=f(this.opacity,1);i*=f(t,1);n.push(["opacity",i])},attr:function(n,t){this.element&&(this.element[n]=t)},allAttr:function(n){for(var t=0;t<n.length;t++)this.attr(n[t][0],n[t][1])},css:function(n,t){this.element&&(this.element.style[n]=t)},allCss:function(n){for(var t=0;t<n.length;t++)this.css(n[t][0],n[t][1])}}),bt=t.extend({createElement:function(){t.fn.createElement.call(this);this.allCss([["width","100%"],["height","100%"],["position","relative"],["visibility","visible"]])},attachReference:lt}),pi=i.Class.extend({init:function(n,t){this.srcElement=n;this.observer=t;n.addObserver(this)},geometryChange:function(){this.observer.optionsChange({field:"clip",value:this.srcElement})},clear:function(){this.srcElement.removeObserver(this)}}),e=t.extend({init:function(n){t.fn.init.call(this,n);n&&this.initClip()},observe:function(){b.fn.observe.call(this)},mapStyle:function(){var n=t.fn.mapStyle.call(this);return this.srcElement&&this.srcElement.clip()&&n.push(["clip",this.clipRect()]),n},optionsChange:function(n){n.field=="clip"&&(this.clearClip(),this.initClip(),this.setClip());t.fn.optionsChange.call(this,n)},clear:function(){this.clearClip();t.fn.clear.call(this)},initClip:function(){this.srcElement.clip()&&(this.clip=new pi(this.srcElement.clip(),this),this.clip.observer=this)},clearClip:function(){this.clip&&(this.clip.clear(),this.clip=null,this.css("clip",this.clipRect()))},setClip:function(){this.clip&&this.css("clip",this.clipRect())},clipRect:function(){var n=ht,t=this.srcElement.clip();if(t){var r=this.clipBBox(t),u=r.topLeft(),f=r.bottomRight();n=i.format("rect({0}px {1}px {2}px {3}px)",u.y,f.x,f.y,u.x)}return n},clipBBox:function(n){var t=this.srcElement.rawBBox().topLeft(),i=n.rawBBox();return i.origin.translate(-t.x,-t.y),i}}),kt=e.extend({createElement:function(){t.fn.createElement.call(this);this.setStyle()},attachTo:function(n,i){this.css("display",ft);t.fn.attachTo.call(this,n,i);this.srcElement.options.visible!==!1&&this.css("display","")},_attachTo:function(n){var t=document.createDocumentFragment();t.appendChild(this.element);n.appendChild(t)},mapStyle:function(){var n=e.fn.mapStyle.call(this);return n.push(["position","absolute"]),n.push(["white-space","nowrap"]),n},optionsChange:function(n){n.field==="transform"&&this.refreshTransform();n.field==="opacity"&&this.refreshOpacity();e.fn.optionsChange.call(this,n)},refreshTransform:function(n){var r=this.srcElement.currentTransform(n),i=this.childNodes,u=i.length,t;for(this.setClip(),t=0;t<u;t++)i[t].refreshTransform(r)},currentOpacity:function(){var n=f(this.srcElement.options.opacity,1);return this.parent&&this.parent.currentOpacity&&(n*=this.parent.currentOpacity()),n},refreshOpacity:function(){for(var t=this.childNodes,i=t.length,r=this.currentOpacity(),n=0;n<i;n++)t[n].refreshOpacity(r)},initClip:function(){if(e.fn.initClip.call(this),this.clip){var n=this.clip.srcElement.bbox(this.srcElement.currentTransform());n&&(this.css("width",n.width()+n.origin.x),this.css("height",n.height()+n.origin.y))}},clipBBox:function(n){return n.bbox(this.srcElement.currentTransform())},clearClip:function(){e.fn.clearClip.call(this)}}),dt=t.extend({init:function(n,i){this.opacity=i;t.fn.init.call(this,n)},createElement:function(){this.element=s("stroke");this.setOpacity()},optionsChange:function(n){n.field.indexOf("stroke")===0&&this.setStroke()},refreshOpacity:function(n){this.opacity=n;this.setStroke()},setStroke:function(){this.allAttr(this.mapStroke())},setOpacity:function(){this.setStroke()},mapStroke:function(){var n=this.srcElement.options.stroke,t=[],i;return n&&!vt(n.color)&&n.width!==0?(t.push(["on","true"]),t.push(["color",n.color]),t.push(["weight",(n.width||1)+"px"]),this.mapOpacityTo(t,n.opacity),k(n.dashType)&&t.push(["dashstyle",n.dashType]),k(n.lineJoin)&&t.push(["joinstyle",n.lineJoin]),k(n.lineCap)&&(i=n.lineCap.toLowerCase(),i==="butt"&&(i=i==="butt"?"flat":i),t.push(["endcap",i]))):t.push(["on","false"]),t}}),gt=t.extend({init:function(n,i,r){this.opacity=r;t.fn.init.call(this,n)},createElement:function(){this.element=s("fill");this.setFill()},optionsChange:function(n){ai(n.field)&&this.setFill()},refreshOpacity:function(n){this.opacity=n;this.setOpacity()},setFill:function(){this.allAttr(this.mapFill())},setOpacity:function(){this.setFill()},attr:function(n,t){var i=this.element,r;if(i){for(r=n.split(".");r.length>1;)i=i[r.shift()];i[r[0]]=t}},mapFill:function(){var n=this.srcElement.fill(),t=[["on","false"]];return n&&(n.nodeType==et?t=this.mapGradient(n):vt(n.color)||(t=this.mapFillColor(n))),t},mapFillColor:function(n){var t=[["on","true"],["color",n.color]];return this.mapOpacityTo(t,n.opacity),t},mapGradient:function(n){var i=this.srcElement.options,t=i.fallbackFill||n.fallbackFill&&n.fallbackFill();return n instanceof u.LinearGradient?this.mapLinearGradient(n):n instanceof u.RadialGradient&&n.supportVML?this.mapRadialGradient(n):t?this.mapFillColor(t):[["on","false"]]},mapLinearGradient:function(n){var t=n.start(),i=n.end(),f=n.stops,u=c.deg(it(i.y-t.y,i.x-t.x)),r=[["on","true"],["type",et],["focus",0],["method","none"],["angle",270-u]];return this.addColors(r),r},mapRadialGradient:function(n){var t=this.srcElement.rawBBox(),i=n.center(),e=n.stops,u=(i.x-t.origin.x)/t.width(),f=(i.y-t.origin.y)/t.height(),r=[["on","true"],["type","gradienttitle"],["focus","100%"],["focusposition",u+" "+f],["method","none"]];return this.addColors(r),r},addColors:function(n){for(var o=this.srcElement.options,r=f(this.opacity,1),s=[],t=o.fill.stops,u=o.baseColor,h=this.element.colors?"colors.value":"colors",c=ot(u,t[0],r),l=ot(u,t[t.length-1],r),e,i=0;i<t.length;i++)e=t[i],s.push(w.round(e.offset()*100)+"% "+ot(u,e,r));n.push([h,s.join(",")],["color",c],["color2",l])}}),p=t.extend({init:function(n,i){this.transform=i;t.fn.init.call(this,n)},createElement:function(){this.element=s("skew");this.setTransform()},optionsChange:function(n){n.field==="transform"&&this.refresh(this.srcElement.currentTransform())},refresh:function(n){this.transform=n;this.setTransform()},transformOrigin:function(){return"-0.5,-0.5"},setTransform:function(){this.allAttr(this.mapTransform())},mapTransform:function(){var i=this.transform,t=[],n=at(i);return n?(n.round(y),t.push(["on","true"],["matrix",[n.a,n.c,n.b,n.d,0,0].join(",")],["offset",n.e+"px,"+n.f+"px"],["origin",this.transformOrigin()])):t.push(["on","false"]),t}}),l=e.extend({init:function(n,t,i){this.fill=this.createFillNode(n,t,i);this.stroke=new dt(n,i);this.transform=this.createTransformNode(n,t);e.fn.init.call(this,n)},attachTo:function(n,i){this.fill.attachTo(this.element);this.stroke.attachTo(this.element);this.transform.attachTo(this.element);t.fn.attachTo.call(this,n,i)},createFillNode:function(n,t,i){return new gt(n,t,i)},createTransformNode:function(n,t){return new p(n,t)},createElement:function(){this.element=s("shape");this.setCoordsize();this.setStyle()},optionsChange:function(n){ai(n.field)?this.fill.optionsChange(n):n.field.indexOf("stroke")===0?this.stroke.optionsChange(n):n.field==="transform"?this.transform.optionsChange(n):n.field==="opacity"&&(this.fill.setOpacity(),this.stroke.setOpacity());e.fn.optionsChange.call(this,n)},refreshTransform:function(n){this.transform.refresh(this.srcElement.currentTransform(n))},refreshOpacity:function(n){n*=f(this.srcElement.options.opacity,1);this.fill.refreshOpacity(n);this.stroke.refreshOpacity(n)},mapStyle:function(n,t){var i=e.fn.mapStyle.call(this),r;return n&&t||(n=t=v),i.push(["position","absolute"],["width",n+"px"],["height",t+"px"]),r=this.srcElement.options.cursor,r&&i.push(["cursor",r]),i},setCoordsize:function(){this.allAttr([["coordorigin","0 0"],["coordsize",pt+" "+pt]])}}),a=t.extend({createElement:function(){this.element=s("path");this.setPathData()},geometryChange:function(){this.setPathData()},setPathData:function(){this.attr("v",this.renderData())},renderData:function(){return tt(this.srcElement)}}),r=l.extend({init:function(n,t,i){this.pathData=this.createDataNode(n);l.fn.init.call(this,n,t,i)},attachTo:function(n,t){this.pathData.attachTo(this.element);l.fn.attachTo.call(this,n,t)},createDataNode:function(n){return new a(n)},geometryChange:function(){this.pathData.geometryChange();l.fn.geometryChange.call(this)}}),ni=a.extend({renderData:function(){var t=this.srcElement.paths,i,n,r;if(t.length>0){for(i=[],n=0;n<t.length;n++)r=n<t.length-1,i.push(tt(t[n],r));return i.join(" ")}}}),ti=r.extend({createDataNode:function(n){return new ni(n)}}),ii=p.extend({transformOrigin:function(){var n=this.srcElement.geometry().bbox(),t=n.center(),i=-h(t.x)/h(n.width()),r=-h(t.y)/h(n.height());return i+","+r}}),ri=l.extend({createElement:function(){this.element=s("oval");this.setStyle()},createTransformNode:function(n,t){return new ii(n,t)},geometryChange:function(){l.fn.geometryChange.call(this);this.setStyle();this.refreshTransform()},mapStyle:function(){var t=this.srcElement.geometry(),n=t.radius,i=t.center,r=h(n*2),u=l.fn.mapStyle.call(this,r,r);return u.push(["left",h(i.x-n)+"px"],["top",h(i.y-n)+"px"]),u}}),ui=a.extend({renderData:function(){return tt(this.srcElement.toPath())}}),fi=r.extend({createDataNode:function(n){return new ui(n)}}),ei=a.extend({createElement:function(){a.fn.createElement.call(this);this.attr("textpathok",!0)},renderData:function(){var n=this.srcElement.rect(),t=n.center();return"m "+g([new rt.Point(n.topLeft().x,t.y)])+" l "+g([new rt.Point(n.bottomRight().x,t.y)])}}),oi=t.extend({createElement:function(){this.element=s("textpath");this.attr("on",!0);this.attr("fitpath",!1);this.setStyle();this.setString()},optionsChange:function(n){n.field==="content"?this.setString():this.setStyle();t.fn.optionsChange.call(this,n)},mapStyle:function(){return[["font",this.srcElement.options.font]]},setString:function(){this.attr("string",this.srcElement.content())}}),si=r.extend({init:function(n,t,i){this.path=new oi(n);r.fn.init.call(this,n,t,i)},createDataNode:function(n){return new ei(n)},attachTo:function(n,t){this.path.attachTo(this.element);r.fn.attachTo.call(this,n,t)},optionsChange:function(n){(n.field==="font"||n.field==="content")&&(this.path.optionsChange(n),this.pathData.geometryChange(n));r.fn.optionsChange.call(this,n)}}),hi=a.extend({renderData:function(){var n=this.srcElement.rect(),t=(new u.Path).moveTo(n.topLeft()).lineTo(n.topRight()).lineTo(n.bottomRight()).lineTo(n.bottomLeft()).close();return tt(t)}}),ci=p.extend({init:function(n,t,i){this.opacity=i;p.fn.init.call(this,n,t)},createElement:function(){this.element=s("fill");this.attr("type","frame");this.attr("rotate",!0);this.setOpacity();this.setSrc();this.setTransform()},optionsChange:function(n){n.field==="src"&&this.setSrc();p.fn.optionsChange.call(this,n)},geometryChange:function(){this.refresh()},refreshOpacity:function(n){this.opacity=n;this.setOpacity()},setOpacity:function(){var n=[];this.mapOpacityTo(n,this.srcElement.options.opacity);this.allAttr(n)},setSrc:function(){this.attr("src",this.srcElement.src())},mapTransform:function(){var l=this.srcElement,h=l.rawBBox(),e=h.center(),i=v/2,t=v,r,u,o=h.width()/t,s=h.height()/t,f=0,a=this.transform,b,k,c;if(a){var n=at(a),p=ct(n.a*n.a+n.b*n.b),w=ct(n.c*n.c+n.d*n.d);o*=p;s*=w;b=yt(it(n.b,n.d));k=yt(it(-n.c,n.a));f=(b+k)/2;f!==0?(c=l.bbox().center(),r=(c.x-i)/t,u=(c.y-i)/t):(r=(e.x*p+n.e-i)/t,u=(e.y*w+n.f-i)/t)}else r=(e.x-i)/t,u=(e.y-i)/t;return o=d(o,y),s=d(s,y),r=d(r,y),u=d(u,y),f=d(f,y),[["size",o+","+s],["position",r+","+u],["angle",f]]}}),li=r.extend({createFillNode:function(n,t,i){return new ci(n,t,i)},createDataNode:function(n){return new hi(n)},optionsChange:function(n){(n.field==="src"||n.field==="transform")&&this.fill.optionsChange(n);r.fn.optionsChange.call(this,n)},geometryChange:function(){this.fill.geometryChange();r.fn.geometryChange.call(this)},refreshTransform:function(n){r.fn.refreshTransform.call(this,n);this.fill.refresh(this.srcElement.currentTransform(n))}}),wi={Group:kt,Text:si,Path:r,MultiPath:ti,Circle:ri,Arc:fi,Image:li},ht;i.support.vml=function(){var n=i.support.browser;return n.msie&&n.version<9}();ht="inherit";i.support.browser.msie&&i.support.browser.version<8&&(ht="rect(auto auto auto auto)");i.support.vml&&u.SurfaceFactory.current.register("vml",wt,30);yi(u,{vml:{ArcDataNode:ui,ArcNode:fi,CircleTransformNode:ii,CircleNode:ri,FillNode:gt,GroupNode:kt,ImageNode:li,ImageFillNode:ci,ImagePathDataNode:hi,MultiPathDataNode:ni,MultiPathNode:ti,Node:t,PathDataNode:a,PathNode:r,RootNode:bt,StrokeNode:dt,Surface:wt,TextNode:si,TextPathNode:oi,TextPathDataNode:ei,TransformNode:p}})}(window.kendo.jQuery),function(n,t,i){"use strict";function st(i,o){function c(t){var i=new f.Group,r=t.getBoundingClientRect();return d(i,[1,0,0,1,-r.left,-r.top]),u._clipbox=!1,u._matrix=h.Matrix.unit(),u._stackingContext={element:t,group:i},n(t).addClass("k-pdf-export"),y(t,i),n(t).removeClass("k-pdf-export"),i}function l(t){if(t!=null)return(typeof t=="string"&&(t=kendo.template(t.replace(/^\s+|\s+$/g,""))),typeof t=="function")?function(i){var r=t(i);if(r)return n(r)[0]}:function(){return n(t).clone()[0]}}function a(i,u,f,o,s,h,c){function tt(){function r(){setTimeout(function(){i({pages:p,container:y})},10)}var n,t;(f!="-"||s)&&k(a);n=d();a.parentNode.insertBefore(n,a);n.appendChild(a);nt?(t=p.length,p.forEach(function(n,i){var u=nt({element:n,pageNum:i+1,totalPages:p.length});u&&(n.appendChild(u),yt(u,function(){--t==0&&r()}))})):r()}function k(i){var l=e(i),a=t(r(l,"padding-bottom")),y=t(r(l,"border-bottom-width")),p=b,o,u,h,c;for(b+=a+y,o=!0,u=i.firstChild;u;u=u.nextSibling)if(u.nodeType==1){if(o=!1,h=n(u),h.is(f)){v(u);continue}if(!s){k(u);continue}if(!/^(?:static|relative)$/.test(r(e(u),"position")))continue;c=g(u);c==1?v(u):c?h.data("kendoChart")||/^(?:img|tr|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(u.tagName)?v(u):k(u):k(u)}else u.nodeType==3&&s&&(it(u,o),o=!1);b=p}function rt(n){var i=n.parentNode,t=i.firstChild;if(n===t)return!0;if(n===i.children[0]){if(t.nodeType==7||t.nodeType==8)return!0;if(t.nodeType==3)return!/\S/.test(t.data)}return!1}function v(t){if(t.nodeType==1&&t!==a&&rt(t))return v(t.parentNode);var r=n(t).closest("table").find("colgroup"),u=d(),i=w.createRange();i.setStartBefore(a);i.setEndBefore(t);u.appendChild(i.extractContents());a.parentNode.insertBefore(u,a);r[0]&&r.clone().prependTo(n(t).closest("table"))}function d(){var t=w.createElement("KENDO-PDF-PAGE");return n(t).css({display:"block",boxSizing:"content-box",width:o||"auto",padding:h.top+"px "+h.right+"px "+h.bottom+"px "+h.left+"px",position:"relative",height:s||"auto",overflow:s||o?"hidden":"visible",clear:"both"}),c&&c.pageClassName&&(t.className=c.pageClassName),p.push(t),t}function g(n){var t=n.getBoundingClientRect(),r,i;return t.width===0||t.height===0?0:(r=a.getBoundingClientRect().top,i=s-b,t.height>i?3:t.top-r>i?1:t.bottom-r>i?2:0)}function it(n,t){var r,i,u,f,e;/\S/.test(n.data)&&(r=n.data.length,i=w.createRange(),i.selectNodeContents(n),u=g(i),u)&&(f=n,u==1?t?v(n.parentNode):v(n):(function o(t,r,u){return(i.setEnd(n,r),t==r||r==u)?r:g(i)?o(t,t+r>>1,r):o(r,r+u>>1,u)}(0,r>>1,r),!/\S/.test(i.toString())&&t?v(n.parentNode):(f=n.splitText(i.endOffset),e=d(),i.setStartBefore(a),e.appendChild(i.extractContents()),a.parentNode.insertBefore(e,a))),it(f))}var nt=l(c.template),w=u.ownerDocument,p=[],a=n(u).clone(!0,!0)[0],y=w.createElement("KENDO-PDF-DOCUMENT"),b=0;n(a).find("tfoot").each(function(){this.parentNode.appendChild(this)});n(a).find("ol").each(function(){n(this).children().each(function(n){this.setAttribute("kendo-split-index",n)})});n(y).css({display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"});o&&(n(y).css({width:o,paddingLeft:h.left,paddingRight:h.right}),n(a).css({overflow:"hidden"}));y.appendChild(a);u.parentNode.insertBefore(y,u);c.beforePageBreak?setTimeout(function(){c.beforePageBreak(y,tt)},15):setTimeout(tt,15)}o||(o={});var s=n.Deferred();if(i=n(i)[0],!i)return s.reject("No element to export");if(typeof window.getComputedStyle!="function")throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");return kendo.pdf&&kendo.pdf.defineFont(lt(i.ownerDocument)),yt(i,function(){var h=o&&o.forcePageBreak,r=o&&o.paperSize&&o.paperSize!="auto",u=r&&kendo.pdf.getPaperOptions(function(n,t){return n in o?o[n]:t}),l=r&&u.paperSize[0],e=r&&u.paperSize[1],n=o.margin&&u.margin,t;h||e?(n||(n={left:0,top:0,right:0,bottom:0}),t=new f.Group({pdf:{multiPage:!0,paperSize:r?u.paperSize:"auto"}}),a(function(n){if(o.progress){var r=!1,i=0;(function u(){i<n.pages.length?(t.append(c(n.pages[i])),o.progress({pageNum:++i,totalPages:n.pages.length,cancel:function(){r=!0}}),r?n.container.parentNode.removeChild(n.container):setTimeout(u)):(n.container.parentNode.removeChild(n.container),s.resolve(t))})()}else n.pages.forEach(function(n){t.append(c(n))}),n.container.parentNode.removeChild(n.container),s.resolve(t)},i,h,l?l-n.left-n.right:null,e?e-n.top-n.bottom:null,n,o)):s.resolve(c(i))}),s.promise()}function lt(n){function u(n){if(n){var t=null;try{t=n.cssRules}catch(i){}t&&e(n,t)}}function f(n){var i=r(n.style,"src"),t;return i?s(i).reduce(function(n,t){var i=ct(t);return i&&n.push(i),n},[]):(t=ct(n.cssText),t?[t]:[])}function e(n,t){for(var i,e=0;e<t.length;++e){i=t[e];switch(i.type){case 3:u(i.styleSheet);break;case 5:var h=i.style,l=s(r(h,"font-family")),a=/^(400|bold)$/i.test(r(h,"font-weight")),v="italic"==r(h,"font-style"),c=f(i);c.length>0&&o(n,l,a,v,c[0])}}}function o(n,t,r,u,f){/^data:/i.test(f)||/^[^\/:]+:\/\//.test(f)||/^\//.test(f)||(f=String(n.href).replace(/[^\/]*$/,"")+f);t.forEach(function(n){n=n.replace(/^(['"]?)(.*?)\1$/,"$2");r&&(n+="|bold");u&&(n+="|italic");i[n]=f})}var i,t;for(n==null&&(n=document),i={},t=0;t<n.styleSheets.length;++t)u(n.styleSheets[t]);return i}function b(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function fi(n){return n="_counter_"+n,u[n]}function ei(n){var i=[],t=u;for(n="_counter_"+n;t;)b(t,n)&&i.push(t[n]),t=Object.getPrototypeOf(t);return i.reverse()}function oi(n,t){var i=u;for(n="_counter_"+n;i&&!b(i,n);)i=Object.getPrototypeOf(i);i||(i=u._root);i[n]=(i[n]||0)+(t==null?1:t)}function si(n,t){n="_counter_"+n;u[n]=t==null?0:t}function at(n,i,r){for(var f,e,u=0;u<n.length;)f=n[u++],e=t(n[u]),isNaN(e)?i(f,r):(i(f,e),++u)}function vt(n,t){var i=kendo.parseColor(n);return i&&(i=i.toRGB(),t?i=i.toCssRgba():i.a===0&&(i=null)),i}function yt(n,t){function o(n){w[n]||(w[n]=!0,u.push(n))}function i(){--f<=0&&t()}var u=[],f;(function s(n){/^img$/i.test(n.tagName)&&o(n.src);ht(r(e(n),"background-image")).forEach(function(n){n.type=="url"&&o(n.url)});n.children&&et.call(n.children).forEach(s)})(n);f=u.length;f===0&&i();u.forEach(function(n){var t=w[n]=new Image;/^data:/i.test(n)||(t.crossOrigin="Anonymous");t.src=n;t.complete?i():(t.onload=i,t.onerror=function(){w[n]=null;i()})})}function nt(n){for(var r={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"},t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],i="";n>0;)n<t[0]?t.shift():(i+=r[t[0]],n-=t[0]);return i}function tt(n){var t="",r;do r=n%26,t=String.fromCharCode(97+r)+t,n=i.floor(n/26);while(n>0);return t}function hi(n,t,i){var f,e;u=Object.create(u);u[n.tagName.toLowerCase()]={element:n,style:t};f=r(t,"text-decoration");f&&f!="none"&&(e=r(t,"color"),f.split(/\s+/g).forEach(function(n){u[n]||(u[n]=e)}));ai(t)&&(u._stackingContext={element:n,group:i})}function ci(){u=Object.getPrototypeOf(u)}function pt(n){if(u._clipbox!=null){var t=n.bbox(u._matrix);u._clipbox=u._clipbox?h.Rect.intersect(u._clipbox,t):t}}function li(){var n=u._clipbox;return n==null?!0:n?n.width()===0||n.height()===0:void 0}function ai(n){function t(t){return r(n,t)}if(t("transform")!="none"||t("position")!="static"&&t("z-index")!="auto"||t("opacity")<1)return!0}function e(n,t){return window.getComputedStyle(n,t||null)}function r(n,t){return n.getPropertyValue(t)||o.webkit&&n.getPropertyValue("-webkit-"+t)||o.mozilla&&n.getPropertyValue("-moz-"+t)||o.opera&&n.getPropertyValue("-o-"+t)||o.msie&&n.getPropertyValue("-ms-"+t)}function it(n,t,i,r){n.setProperty(t,i,r);o.webkit?n.setProperty("-webkit-"+t,i,r):o.mozilla?n.setProperty("-moz-"+t,i,r):o.opera?n.setProperty("-o-"+t,i,r):o.msie&&(n.setProperty("-ms-"+t,i,r),t="ms"+t.replace(/(^|-)([a-z])/g,function(n,t,i){return t+i.toUpperCase()}),n[t]=i)}function vi(n){if(o.msie||o.chrome){var t=n.getClientRects();if(t.length==2&&t[1].width<=1)return t[0];if(t.length==3&&t[0].width<=1&&t[2].width<=1)return t[1]}return n.getBoundingClientRect()}function c(n,i){return i="border-"+i,{width:t(r(n,i+"-width")),style:r(n,i+"-style"),color:vt(r(n,i+"-color"),!0)}}function wt(n,t){var i=n.style.cssText,r=t();return n.style.cssText=i,r}function l(n,i){var u=r(n,"border-"+i+"-radius").split(/\s+/g).map(t);return u.length==1&&u.push(u[0]),rt({x:u[0],y:u[1]})}function yi(n){var t=n.getBoundingClientRect();return t=a(t,"border-*-width",n),a(t,"padding-*",n)}function a(n,i,u){var f,o,s,h,c;return typeof i=="string"?(f=e(u),o=t(r(f,i.replace("*","top"))),s=t(r(f,i.replace("*","right"))),h=t(r(f,i.replace("*","bottom"))),c=t(r(f,i.replace("*","left")))):typeof i=="number"&&(o=s=h=c=i),{top:n.top+o,right:n.right-s,bottom:n.bottom-h,left:n.left+c,width:n.right-n.left-s-c,height:n.bottom-n.top-h-o}}function pi(n){var f=r(n,"transform"),i,u;return f=="none"?null:(i=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(f),i?(u=r(n,"transform-origin"),i=i[1].split(/\s*,\s*/g).map(t),u=u.split(/\s+/g).map(t),{matrix:i,origin:u}):void 0)}function bt(n){return 180*n/i.PI%360}function wi(n){var r=t(n);return/grad$/.test(n)?i.PI*r/200:/rad$/.test(n)?r:/turn$/.test(n)?i.PI*r*2:/deg$/.test(n)?i.PI*r/180:void 0}function d(n,t){return t=new h.Matrix(t[0],t[1],t[2],t[3],t[4],t[5]),n.transform(t),t}function k(n,t){n.clip(t)}function v(n,t,i,r){for(var u=new h.Arc([t,i],r).curvePoints(),f=1;f<u.length;)n.curveTo(u[f++],u[f++],u[f++])}function rt(n){return(n.x<=0||n.y<=0)&&(n.x=n.y=0),n}function kt(n,t,r,u,f){var o=i.max(0,t.x),s=i.max(0,t.y),h=i.max(0,r.x),c=i.max(0,r.y),l=i.max(0,u.x),a=i.max(0,u.y),v=i.max(0,f.x),y=i.max(0,f.y),e=i.min(n.width/(o+h),n.height/(c+a),n.width/(l+v),n.height/(y+s));return e<1&&(o*=e,s*=e,h*=e,c*=e,l*=e,a*=e,v*=e,y*=e),{tl:{x:o,y:s},tr:{x:h,y:c},br:{x:l,y:a},bl:{x:v,y:y}}}function ut(n,i,u){var f=e(n),o=l(f,"top-left"),s=l(f,"top-right"),h=l(f,"bottom-left"),a=l(f,"bottom-right");if(u=="padding"||u=="content"){var v=c(f,"top"),y=c(f,"right"),p=c(f,"bottom"),w=c(f,"left");if(o.x-=w.width,o.y-=v.width,s.x-=y.width,s.y-=v.width,a.x-=y.width,a.y-=p.width,h.x-=w.width,h.y-=p.width,u=="content"){var b=t(r(f,"padding-top")),k=t(r(f,"padding-right")),d=t(r(f,"padding-bottom")),g=t(r(f,"padding-left"));o.x-=g;o.y-=b;s.x-=k;s.y-=b;a.x-=k;a.y-=d;h.x-=g;h.y-=d}}return typeof u=="number"&&(o.x-=u,o.y-=u,s.x-=u,s.y-=u,a.x-=u,a.y-=u,h.x-=u,h.y-=u),dt(i,o,s,a,h)}function dt(n,t,i,r,u){var l=kt(n,t,i,r,u),o=l.tl,s=l.tr,h=l.br,c=l.bl,e=new f.Path({fill:null,stroke:null});return e.moveTo(n.left,n.top+o.y),o.x&&v(e,n.left+o.x,n.top+o.y,{startAngle:-180,endAngle:-90,radiusX:o.x,radiusY:o.y}),e.lineTo(n.right-s.x,n.top),s.x&&v(e,n.right-s.x,n.top+s.y,{startAngle:-90,endAngle:0,radiusX:s.x,radiusY:s.y}),e.lineTo(n.right,n.bottom-h.y),h.x&&v(e,n.right-h.x,n.bottom-h.y,{startAngle:0,endAngle:90,radiusX:h.x,radiusY:h.y}),e.lineTo(n.left+c.x,n.bottom),c.x&&v(e,n.left+c.x,n.bottom-c.y,{startAngle:90,endAngle:180,radiusX:c.x,radiusY:c.y}),e.close()}function gt(n,i){var r=t(n)+"";switch(i){case"decimal-leading-zero":return r.length<2&&(r="0"+r),r;case"lower-roman":return nt(n);case"upper-roman":return nt(n).toUpperCase();case"lower-latin":case"lower-alpha":return tt(n-1);case"upper-latin":case"upper-alpha":return tt(n-1).toUpperCase();default:return r}}function bi(n,t){function u(n,t,i){return i?(i=i.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),ei(n).map(function(n){return gt(n,t)}).join(i)):gt(fi(n)||0,t)}var f=s(t,/^\s+/),r=[],i;return f.forEach(function(t){var f;(i=/^\s*(["'])(.*)\1\s*$/.exec(t))?r.push(i[2].replace(/\\([0-9a-f]{4})/gi,function(n,t){return String.fromCharCode(parseInt(t,16))})):(i=/^\s*counter\((.*?)\)\s*$/.exec(t))?(f=s(i[1]),r.push(u(f[0],f[1]))):(i=/^\s*counters\((.*?)\)\s*$/.exec(t))?(f=s(i[1]),r.push(u(f[0],f[2],f[1]))):(i=/^\s*attr\((.*?)\)\s*$/.exec(t))?r.push(n.getAttribute(i[1])||""):r.push(t)}),r.join("")}function ft(n){var i,t;if(n.cssText)return n.cssText;for(i=[],t=0;t<n.length;++t)i.push(n[t]+": "+r(n,n[t]));return i.join(";\n")}function ni(n,i){function f(i,f){var s=e(n,i),o;s.content&&s.content!="normal"&&s.content!="none"&&s.width!="0px"&&(o=n.ownerDocument.createElement(p),o.style.cssText=ft(s),o.textContent=bi(n,s.content),n.insertBefore(o,f),i!=":before"||/absolute|fixed/.test(r(o.style,"position"))||(o.style.marginLeft=t(r(o.style,"margin-left"))-o.offsetWidth+"px"),u.push(o))}if(n.tagName==p){ti(n,i);return}var u=[];f(":before",n.firstChild);f(":after",null);ti(n,i);u.forEach(function(t){n.removeChild(t)})}function ti(b,g){function ai(n){var t,i,f;if(/^td$/i.test(b.tagName)&&(t=u.table,t&&r(t.style,"border-collapse")=="collapse")){if(i=c(t.style,"left").width,f=c(t.style,"top").width,i===0&&f===0)return n;var e=t.element.getBoundingClientRect(),s=t.element.rows[0].cells[0],o=s.getBoundingClientRect();if(o.top==e.top||o.left==e.left)return et.call(n).map(function(n){return{left:n.left+i,top:n.top+f,right:n.right+i,bottom:n.bottom+f,height:n.height,width:n.width}})}return n}function ti(n,t,r,u,e,o,s,h){function a(t,u,e){var h=i.PI/2*t/(t+r),o={x:u.x-t,y:u.y-r},s=new f.Path({fill:{color:n},stroke:null}).moveTo(0,0);d(s,e);v(s,0,u.y,{startAngle:-90,endAngle:-bt(h),radiusX:u.x,radiusY:u.y});o.x>0&&o.y>0?(s.lineTo(o.x*i.cos(h),u.y-o.y*i.sin(h)),v(s,0,u.y,{startAngle:-bt(h),endAngle:-90,radiusX:o.x,radiusY:o.y,anticlockwise:!0})):o.x>0?s.lineTo(o.x,r).lineTo(0,r):s.lineTo(o.x,r).lineTo(o.x,0);c.append(s.close())}if(!(r<=0)){var l,c=new f.Group;d(c,h);g.append(c);rt(o);rt(s);l=new f.Path({fill:{color:n},stroke:null});c.append(l);l.moveTo(o.x?i.max(o.x,u):0,0).lineTo(t-(s.x?i.max(s.x,e):0),0).lineTo(t-i.max(s.x,e),r).lineTo(i.max(o.x,u),r).close();o.x&&a(u,o,[-1,0,0,1,o.x,0]);s.x&&a(e,s,[1,0,0,1,t-s.x,0])}}function vi(t){var r=new f.Group,u,i;for(k(r,dt(t,ii,ui,ei,fi)),g.append(r),b.tagName=="A"&&b.href&&!/^#?$/.test(n(b).attr("href"))&&(r._pdfLink={url:b.href,top:t.top,right:t.right,bottom:t.bottom,left:t.left}),ni&&(u=new f.Path({fill:{color:ni.toCssRgba()},stroke:null}),u.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),r.append(u)),i=si.length;--i>=0;)yi(r,t,si[i],hi[i%hi.length],oi[i%oi.length],ci[i%ci.length],li[i%li.length])}function yi(n,i,r,u,e,o,s){function l(n,i,r,f,c){function w(){while(l.origin.x>i.left)l.origin.x-=r}function k(){while(l.origin.y>i.top)l.origin.y-=f}function d(){while(l.origin.x<i.right)c(n,l.clone()),l.origin.x+=r}var nt=r/f,y=i,p,v,l,g;if(o=="content-box"?(y=a(y,"border-*-width",b),y=a(y,"padding-*",b)):o=="padding-box"&&(y=a(y,"border-*-width",b)),/^\s*auto(\s+auto)?\s*$/.test(s)||(p=s.split(/\s+/g),r=/%$/.test(p[0])?y.width*t(p[0])/100:t(p[0]),f=p.length==1||p[1]=="auto"?r/nt:/%$/.test(p[1])?y.height*t(p[1])/100:t(p[1])),v=(e+"").split(/\s+/),v.length==1&&(v[1]="50%"),v[0]=/%$/.test(v[0])?t(v[0])/100*(y.width-r):t(v[0]),v[1]=/%$/.test(v[1])?t(v[1])/100*(y.height-f):t(v[1]),l=new h.Rect([y.left+v[0],y.top+v[1]],[r,f]),u=="no-repeat")c(n,l);else if(u=="repeat-x")w(),d();else if(u=="repeat-y")for(k();l.origin.y<i.bottom;)c(n,l.clone()),l.origin.y+=f;else if(u=="repeat")for(w(),k(),g=l.origin.clone();l.origin.y<i.bottom;)l.origin.x=g.x,d(),l.origin.y+=f}if(r&&r!="none")if(r.type=="url"){if(/^url\(\"data:image\/svg/i.test(r.url))return;var c=w[r.url];c&&c.width>0&&c.height>0&&l(n,i,c.width,c.height,function(n,t){n.append(new f.Image(r.url,t))})}else if(r.type=="linear")l(n,i,i.width,i.height,ki(r));else return}function pi(){function t(n){wt(b,function(){b.style.position="relative";var t=b.ownerDocument.createElement(p);t.style.position="absolute";t.style.boxSizing="border-box";u=="outside"?(t.style.width="6em",t.style.left="-6.8em",t.style.textAlign="right"):t.style.left="0px";n(t);b.insertBefore(t,b.firstChild);y(t,g);b.removeChild(t)})}function i(n){var i=b.parentNode.children,r=b.getAttribute("kendo-split-index"),t;if(r!=null)return n(r|0,i.length);for(t=0;t<i.length;++t)if(i[t]===b)return n(t,i.length)}var n=r(it,"list-style-type"),f,u;if(n!="none"){f=r(it,"list-style-image");u=r(it,"list-style-position");switch(n){case"circle":case"disc":case"square":t(function(t){t.style.fontSize="60%";t.style.lineHeight="200%";t.style.paddingRight="0.5em";t.style.fontFamily="DejaVu Serif";t.innerHTML={disc:"●",circle:"◯",square:"■"}[n]});break;case"decimal":case"decimal-leading-zero":t(function(t){i(function(i){++i;n=="decimal-leading-zero"&&(i+"").length<2&&(i="0"+i);t.innerHTML=i+"."})});break;case"lower-roman":case"upper-roman":t(function(t){i(function(i){i=nt(i+1);n=="upper-roman"&&(i=i.toUpperCase());t.innerHTML=i+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":t(function(t){i(function(i){i=tt(i);/^upper/i.test(n)&&(i=i.toUpperCase());t.innerHTML=i+"."})})}}}function wi(n,t,i){function u(n){return{x:n.y,y:n.x}}var e,o,s;if(n.width!==0&&n.height!==0&&(vi(n),e=ct.width>0&&(t&&gt=="ltr"||i&&gt=="rtl"),o=ot.width>0&&(i&&gt=="ltr"||t&&gt=="rtl"),ft.width!==0||ct.width!==0||ot.width!==0||st.width!==0)){if(1){if(ft.color==ot.color&&ft.color==st.color&&ft.color==ct.color&&ft.width==ot.width&&ft.width==st.width&&ft.width==ct.width&&e&&o){n=a(n,ft.width/2);s=ut(b,n,ft.width/2);s.options.stroke={color:ft.color,width:ft.width};g.append(s);return}if(ii.x===0&&ui.x===0&&ei.x===0&&fi.x===0&&ft.width<2&&ct.width<2&&ot.width<2&&st.width<2){ft.width>0&&g.append(new f.Path({stroke:{width:ft.width,color:ft.color}}).moveTo(n.left,n.top+ft.width/2).lineTo(n.right,n.top+ft.width/2));st.width>0&&g.append(new f.Path({stroke:{width:st.width,color:st.color}}).moveTo(n.left,n.bottom-st.width/2).lineTo(n.right,n.bottom-st.width/2));e&&g.append(new f.Path({stroke:{width:ct.width,color:ct.color}}).moveTo(n.left+ct.width/2,n.top).lineTo(n.left+ct.width/2,n.bottom));o&&g.append(new f.Path({stroke:{width:ot.width,color:ot.color}}).moveTo(n.right-ot.width/2,n.top).lineTo(n.right-ot.width/2,n.bottom));return}}var r=kt(n,ii,ui,ei,fi),h=r.tl,c=r.tr,l=r.br,v=r.bl;ti(ft.color,n.width,ft.width,ct.width,ot.width,h,c,[1,0,0,1,n.left,n.top]);ti(st.color,n.width,st.width,ot.width,ct.width,l,v,[-1,0,0,-1,n.right,n.bottom]);ti(ct.color,n.height,ct.width,st.width,ft.width,u(v),u(h),[0,-1,1,0,n.left,n.bottom]);ti(ot.color,n.height,ot.width,ft.width,st.width,u(c),u(l),[0,1,-1,0,n.right,n.top])}}var it=e(b),ft=c(it,"top"),ot=c(it,"right"),st=c(it,"bottom"),ct=c(it,"left"),ii=l(it,"top-left"),ui=l(it,"top-right"),fi=l(it,"bottom-left"),ei=l(it,"bottom-right"),gt=r(it,"direction"),ni=r(it,"background-color"),lt,at,yt;ni=vt(ni);var si=ht(r(it,"background-image")),hi=s(r(it,"background-repeat")),oi=s(r(it,"background-position")),ci=s(r(it,"background-origin")),li=s(r(it,"background-size"));for(o.msie&&o.version<10&&(oi=s(b.currentStyle.backgroundPosition)),lt=a(b.getBoundingClientRect(),"border-*-width",b),function(){var l=r(it,"clip"),u=/^\s*rect\((.*)\)\s*$/.exec(l);if(u){var n=u[1].split(/[ ,]+/g),e=n[0]=="auto"?lt.top:t(n[0])+lt.top,o=n[1]=="auto"?lt.right:t(n[1])+lt.left,s=n[2]=="auto"?lt.bottom:t(n[2])+lt.top,h=n[3]=="auto"?lt.left:t(n[3])+lt.left,i=new f.Group,c=(new f.Path).moveTo(h,e).lineTo(o,e).lineTo(o,s).lineTo(h,s).close();k(i,c);g.append(i);g=i;pt(c)}}(),at=b.getClientRects(),at.length==1&&(at=[b.getBoundingClientRect()]),at=ai(at),yt=0;yt<at.length;++yt)wi(at[yt],yt===0,yt==at.length-1);return at.length>0&&r(it,"display")=="list-item"&&pi(at[0]),function(){function n(){var t=ut(b,lt,"padding"),n=new f.Group;k(n,t);g.append(n);g=n;pt(t)}gi(b)?n():/^(hidden|auto|scroll)/.test(r(it,"overflow"))?n():/^(hidden|auto|scroll)/.test(r(it,"overflow-x"))?n():/^(hidden|auto|scroll)/.test(r(it,"overflow-y"))&&n()}(),di(b,g)||ri(b,g),g}function ki(n){return function(r,u){var o=u.width(),s=u.height(),nt=u.topLeft(),e;switch(n.type){case"linear":e=n.angle!=null?n.angle:i.PI;switch(n.to){case"top":e=0;break;case"left":e=-i.PI/2;break;case"bottom":e=i.PI;break;case"right":e=i.PI/2;break;case"top left":case"left top":e=-i.atan2(s,o);break;case"top right":case"right top":e=i.atan2(s,o);break;case"bottom left":case"left bottom":e=i.PI+i.atan2(s,o);break;case"bottom right":case"right bottom":e=i.PI-i.atan2(s,o)}n.reverse&&(e-=i.PI);e%=2*i.PI;e<0&&(e+=2*i.PI);var b=i.abs(o*i.sin(e))+i.abs(s*i.cos(e)),v=i.atan(o*i.tan(e)/s),y=i.sin(v),p=i.cos(v),w=i.abs(y)+i.abs(p),h=w/2*y,c=w/2*p;e>i.PI/2&&e<=3*i.PI/2&&(h=-h,c=-c);var l=[],a=0,k=n.stops.map(function(i,r){var u=i.percent,f;return u?u=t(u)/100:i.length?u=t(i.length)/b:r===0?u=0:r==n.stops.length-1&&(u=1),f={color:i.color.toCssRgba(),offset:u},u!=null?(a=u,l.forEach(function(n,t){var i=n.stop;i.offset=n.left+(a-n.left)*(t+1)/(l.length+1)}),l=[]):l.push({left:a,stop:f}),f}),d=[.5-h,.5+c],g=[.5+h,.5-c];r.append(f.Path.fromRect(u).stroke(null).fill(new f.LinearGradient({start:d,end:g,stops:k,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}}function di(t,i){var r,e,u,o;if(t.getAttribute(kendo.attr("role"))&&(r=kendo.widgetInstance(n(t)),r&&(r.exportDOMVisual||r.exportVisual)))return(e=r.exportDOMVisual?r.exportDOMVisual():r.exportVisual(),!e)?!1:(u=new f.Group,u.children.push(e),o=t.getBoundingClientRect(),u.transform(h.transform().translate(o.left,o.top)),i.append(u),!0)}function ii(n,t,i){var r=yi(n),e=new h.Rect([r.left,r.top],[r.width,r.height]),u=new f.Image(t,e);k(u,ut(n,r,"content"));i.append(u)}function g(n,i){var o=e(n),s=e(i),u=t(r(o,"z-index")),f=t(r(s,"z-index")),h=r(o,"position"),c=r(s,"position");return isNaN(u)&&isNaN(f)?/static|absolute/.test(h)&&/static|absolute/.test(c)?0:h=="static"?-1:c=="static"?1:0:isNaN(u)?f===0?0:f>0?-1:1:isNaN(f)?u===0?0:u>0?1:-1:t(u)-t(f)}function gi(n){return/^(?:textarea|select|input)$/i.test(n.tagName)}function nr(n){return n.selectedOptions&&n.selectedOptions.length>0?n.selectedOptions[0]:n.options[n.selectedIndex]}function tr(n,t){var s=e(n),o=r(s,"color"),u=n.getBoundingClientRect();n.type=="checkbox"?(t.append(f.Path.fromRect(new h.Rect([u.left+1,u.top+1],[u.width-2,u.height-2])).stroke(o,1)),n.checked&&t.append((new f.Path).stroke(o,1.2).moveTo(u.left+.22*u.width,u.top+.55*u.height).lineTo(u.left+.45*u.width,u.top+.75*u.height).lineTo(u.left+.78*u.width,u.top+.22*u.width))):(t.append(new f.Circle(new h.Circle([(u.left+u.right)/2,(u.top+u.bottom)/2],i.min(u.width-2,u.height-2)/2)).stroke(o,1)),n.checked&&t.append(new f.Circle(new h.Circle([(u.left+u.right)/2,(u.top+u.bottom)/2],i.min(u.width-8,u.height-8)/2)).fill(o).stroke(null)))}function ir(n,t){var u=n.tagName.toLowerCase(),f;if(u=="input"&&(n.type=="checkbox"||n.type=="radio"))return tr(n,t);var o=n.parentNode,s=n.ownerDocument,i=s.createElement(p),r;if(i.style.cssText=ft(e(n)),i.style.display="inline-block",u=="input"&&(i.style.whiteSpace="pre"),(u=="select"||u=="textarea")&&(i.style.overflow="auto"),u=="select")if(n.multiple)for(f=0;f<n.options.length;++f)r=s.createElement(p),r.style.cssText=ft(e(n.options[f])),r.style.display="block",r.textContent=n.options[f].textContent,i.appendChild(r);else r=nr(n),r&&(i.textContent=r.textContent);else i.textContent=n.value;o.insertBefore(i,n);i.scrollLeft=n.scrollLeft;i.scrollTop=n.scrollTop;ri(i,t);o.removeChild(i)}function ri(n,t){var i;u._stackingContext.element===n&&(u._stackingContext.group=t);switch(n.tagName.toLowerCase()){case"img":ii(n,n.src,t);break;case"canvas":try{ii(n,n.toDataURL("image/png"),t)}catch(p){}break;case"textarea":case"input":case"select":ir(n,t);break;default:var o=[],s=[],h=[],c=[];for(i=n.firstChild;i;i=i.nextSibling)switch(i.nodeType){case 3:/\S/.test(i.data)&&rr(n,i,t);break;case 1:var f=e(i),l=r(f,"display"),a=r(f,"float"),v=r(f,"position");v!="static"?c.push(i):l!="inline"?a!="none"?s.push(i):o.push(i):h.push(i)}o.sort(g).forEach(function(n){y(n,t)});s.sort(g).forEach(function(n){y(n,t)});h.sort(g).forEach(function(n){y(n,t)});c.sort(g).forEach(function(n){y(n,t)})}}function rr(n,s,c){function rt(){var y=a,t,n=p.substr(a).search(/\S/),e,h,r,u,f,v;if(a+=n,n<0||a>=w)return!0;if(l.setStart(s,a),l.setEnd(s,a+1),t=l.getBoundingClientRect(),e=!1,tt&&(n=p.substr(a).search(/\s/),n>=0&&(l.setEnd(s,a+n),h=l.getBoundingClientRect(),h.bottom==t.bottom&&(t=h,e=!0,a+=n))),!e){if(n=function c(n,i,r){l.setEnd(s,i);var u=vi(l);return u.bottom!=t.bottom&&n<i?c(n,n+i>>1,i):u.right!=t.right?(t=u,i<r?c(i,i+r>>1,r):i):i}(a,i.min(w,a+k),w),n==a)return!0;if(a=n,n=l.toString().search(/\s+$/),n===0)return;n>0&&(l.setEnd(s,l.startOffset+n),t=l.getBoundingClientRect())}if(o.msie&&(t=l.getClientRects()[0]),r=l.toString(),/^(?:pre|pre-wrap)$/i.test(it)){if(/\t/.test(r)){for(u=0,n=y;n<l.startOffset;++n)f=p.charCodeAt(n),f==9?u+=8-u%8:f==10||f==13?u=0:u++;while((n=r.search("\t"))>=0)v="        ".substr(0,8-(u+n)%8),r=r.substr(0,n)+v+r.substr(n+1)}}else r=r.replace(/\s+/g," ");ut(r,t)}function ut(n,t){var i,r,u;o.msie&&!isNaN(b)&&(i=f.util.measureText(n,{font:d}),r=(t.top+t.bottom-i.height)/2,t={top:r,right:t.right,bottom:r+i.height,left:t.left,height:i.height,width:t.right-t.left});u=new ot(n,new h.Rect([t.left,t.top],[t.width,t.height]),{font:d,fill:{color:g}});c.append(u);ft(t)}function ft(n){function t(t,i){if(t){var r=y/12,u=new f.Path({stroke:{width:r,color:t}});i-=r;u.moveTo(n.left,i).lineTo(n.right,i);c.append(u)}}t(u.underline,n.bottom);t(u["line-through"],n.bottom-n.height/2.7);t(u.overline,n.top)}var v;if(!li()&&(v=e(n),!(t(r(v,"text-indent"))<-500))){var p=s.data,a=0,w=p.search(/\S\s*$/)+1;if(w){var y=r(v,"font-size"),b=r(v,"line-height"),d=[r(v,"font-style"),r(v,"font-variant"),r(v,"font-weight"),y,r(v,"font-family")].join(" ");if(y=t(y),b=t(b),y!==0){var g=r(v,"color"),l=n.ownerDocument.createRange(),nt=r(v,"text-align"),tt=nt=="justify",it=r(v,"white-space"),k=n.getBoundingClientRect().width/y*5;for(k===0&&(k=500);!rt(););return}}}}function ur(n,i,r){var o,h,e,s,c,l;for(r!="auto"?(o=u._stackingContext.group,r=t(r)):(o=i,r=0),h=o.children,e=0;e<h.length;++e)if(h[e]._dom_zIndex!=null&&h[e]._dom_zIndex>r)break;return s=new f.Group,o.insertAt(s,e),s._dom_zIndex=r,o!==i&&u._clipbox&&(c=u._matrix.invert(),l=u._clipbox.transformCopy(c),k(s,f.Path.fromRect(l))),s}function y(n,i){var f=e(n),v=r(f,"counter-reset"),a,h,o,l;if((v&&at(s(v,/^\s+/),si,0),a=r(f,"counter-increment"),a&&at(s(a,/^\s+/),oi,1),!/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(n.tagName))&&u._clipbox!=null){var c=t(r(f,"opacity")),y=r(f,"visibility"),p=r(f,"display");c!==0&&y!="hidden"&&p!="none"&&(h=pi(f),l=r(f,"z-index"),(h||c<1)&&l=="auto"&&(l=0),o=ur(n,i,l),c<1&&o.opacity(c*o.opacity()),hi(n,f,o),h?wt(n,function(){it(n.style,"transform","none","important");it(n.style,"transition","none","important");r(f,"position")=="static"&&it(n.style,"position","relative","important");var i=n.getBoundingClientRect(),e=i.left+h.origin[0],s=i.top+h.origin[1],t=[1,0,0,1,-e,-s];t=ui(t,h.matrix);t=ui(t,[1,0,0,1,e,s]);t=d(o,t);u._matrix=u._matrix.multiplyCopy(t);ni(n,o)}):ni(n,o),ci())}}function ui(n,t){var e=n[0],o=n[1],s=n[2],h=n[3],c=n[4],l=n[5],i=t[0],r=t[1],u=t[2],f=t[3],a=t[4],v=t[5];return[e*i+o*u,e*r+o*f,s*i+h*u,s*r+h*f,c*i+l*u+a,c*r+l*f+v]}var f=kendo.drawing,h=kendo.geometry,et=Array.prototype.slice,o=kendo.support.browser,p="KENDO-PSEUDO-ELEMENT",w={},u={},ot;u._root=u;ot=f.Text.extend({nodeType:"Text",init:function(n,t,i){f.Text.fn.init.call(this,n,t.getOrigin(),i);this._pdfRect=t},rect:function(){return this._pdfRect},rawBBox:function(){return this._pdfRect}});f.drawDOM=st;st.getFontFaces=lt;var ht=function(){function y(u){function w(){var n=l.exec(u);n&&(u=u.substr(n[1].length))}function s(n){w();var t=n.exec(u);if(t)return u=u.substr(t[1].length),t[1]}function k(){var n=kendo.parseColor(u,!0),i,r;if(n)return u=u.substr(n.match[0].length),n=n.toRGB(),(i=s(h))||(r=s(t)),{color:n,length:i,percent:r}}function d(r){var l,o,h,w=[],a=!1,v,y,p;if(s(f)){for(l=s(c),l?(l=wi(l),s(n)):(o=s(i),o=="to"?o=s(i):o&&/^-/.test(r)&&(a=!0),h=s(i),s(n)),/-moz-/.test(r)&&l==null&&o==null&&(v=s(t),y=s(t),a=!0,v=="0%"?o="left":v=="100%"&&(o="right"),y=="0%"?h="top":y=="100%"&&(h="bottom"),s(n));u&&!s(e);){if(p=k(),!p)break;w.push(p);s(n)}return{type:"linear",angle:l,to:o&&h?o+" "+h:o?o:h?h:null,stops:w,reverse:a}}}function g(){if(s(f)){var n=s(v);return n=n.replace(/^['"]+|["']+$/g,""),s(e),{type:"url",url:n}}}var p=u,y;return b(r,p)?r[p]:((y=s(o))?y=d(y):(y=s(a))&&(y=g()),r[p]=y||{type:"none"})}var o=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,t=/^([-0-9.]+%)/,h=/^([-0-9.]+px)/,i=/^(left|right|top|bottom|to|center)\W/,c=/^([-0-9.]+(deg|grad|rad|turn))/,l=/^(\s+)/,f=/^(\()/,e=/^(\))/,n=/^(,)/,a=/^(url)\(/,v=/^(.*?)\)/,r={},u={};return function(n){return b(u,n)?u[n]:u[n]=s(n).map(y)}}(),s=function(){var n={};return function(t,i){function f(n){return s=n.exec(t.substr(r))}function l(n){return n.replace(/^\s+|\s+$/g,"")}var o;if(i||(i=/^\s*,\s*/),o=t+i,b(n,o))return n[o];for(var h=[],e=0,r=0,c=0,u=!1,s;r<t.length;)!u&&f(/^[\(\[\{]/)?(c++,r++):!u&&f(/^[\)\]\}]/)?(c--,r++):!u&&f(/^[\"\']/)?(u=s[0],r++):u=="'"&&f(/^\\\'/)?r+=2:u=='"'&&f(/^\\\"/)?r+=2:u=="'"&&f(/^\'/)?(u=!1,r++):u=='"'&&f(/^\"/)?(u=!1,r++):f(i)?(!u&&!c&&r>e&&(h.push(l(t.substring(e,r))),e=r+s[0].length),r+=s[0].length):r++;return e<r&&h.push(l(t.substring(e,r))),n[o]=h}}(),ct=function(){var n={};return function(t){var i=n[t],r;return i||((r=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(t))?i=n[t]=r[2]:(r=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(t))&&(i=n[t]=r[2])),i}}()}(window.kendo.jQuery,parseFloat,Math),function(n){var h=document,u=n.noop,t=window.kendo,o=t.Class,r=t.util,s=t.animationFrame,f=t.deepExtend,e=o.extend({init:function(n,t){var i=this;i.options=f({},i.options,t);i.element=n},options:{duration:500,easing:"swing"},setup:u,step:u,play:function(){var t=this,u=t.options,o=n.easing[u.easing],i=u.duration,f=u.delay||0,e=r.now()+f,h=e+i;i===0?(t.step(1),t.abort()):setTimeout(function(){var n=function(){if(!t._stopped){var u=r.now(),f=r.limitValue(u-e,0,i),c=f/i,l=o(c,f,0,1,i);t.step(l);u<h?s(n):t.abort()}};n()},f)},abort:function(){this._stopped=!0},destroy:function(){this.abort()}}),i=function(){this._items=[]};i.prototype={register:function(n,t){this._items.push({name:n,type:t})},create:function(n,t){var r=this._items,u,f,i;if(t&&t.type)for(f=t.type.toLowerCase(),i=0;i<r.length;i++)if(r[i].name.toLowerCase()===f){u=r[i];break}if(u)return new u.type(n,t)}};i.current=new i;e.create=function(n,t,r){return i.current.create(n,t,r)};f(t.drawing,{Animation:e,AnimationFactory:i})}(window.kendo.jQuery,Math),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.color","./kendo.drawing"],n)}(function(){return function(n,t,i){"use strict";function g(){function n(){for(var r,u,e=0;e<arguments.length;++e)if(r=arguments[e],r===i)throw new Error("Cannot output undefined to PDF");else if(r instanceof it)r.beforeRender(n),r.render(n);else if(tt(r))ii(r,n);else if(ti(r))ri(r,n);else if(typeof r=="number"){if(isNaN(r))throw new Error("Cannot output NaN to PDF");u=r.toFixed(7);u.indexOf(".")>=0&&(u=u.replace(/\.?0+$/,""));u=="-0"&&(u="0");t.writeString(u)}else/string|boolean/.test(typeof r)?t.writeString(r+""):typeof r.get=="function"?t.write(r.get()):typeof r=="object"&&(r?n(new f(r)):t.writeString("null"))}var u=0,t=l();return n.writeData=function(n){t.write(n)},n.withIndent=function(t){++u;t(n);--u},n.indent=function(){n(r,at("",u*2,"  "));n.apply(null,arguments)},n.offset=function(){return t.offset()},n.toString=function(){throw new Error("FIX CALLER");},n.get=function(){return t.get()},n.stream=function(){return t},n}function kt(n,t){var i=n.beforeRender,r=n.render;n.beforeRender=function(){};n.render=function(n){n(t," 0 R")};n.renderFull=function(u){n._offset=u.offset();u(t," 0 obj ");i.call(n,u);r.call(n,u);u(" endobj")}}function ot(n){var i=n("paperSize",et.a4),t;if(!i)return{};if(typeof i=="string"&&(i=et[i.toLowerCase()],i==null))throw new Error("Unknown paper size");return i[0]=p(i[0]),i[1]=p(i[1]),n("landscape",!1)&&(i=[Math.max(i[0],i[1]),Math.min(i[0],i[1])]),t=n("margin"),t&&(typeof t=="string"||typeof t=="number"?(t=p(t,0),t={left:t,top:t,right:t,bottom:t}):t={left:p(t.left,0),top:p(t.top,0),right:p(t.right,0),bottom:p(t.bottom,0)},n("addMargin")&&(i[0]+=t.left+t.right,i[1]+=t.top+t.bottom)),{paperSize:i,margin:t}}function st(n){function e(t,i){return n&&n[t]!=null?n[t]:i}var t=this,i=g(),a=0,u=[],l,s;t.getOption=e;t.attach=function(n){return u.indexOf(n)<0&&(kt(n,++a),u.push(n)),n};t.pages=[];t.FONTS={};t.IMAGES={};t.GRAD_COL_FUNCTIONS={};t.GRAD_OPC_FUNCTIONS={};t.GRAD_COL={};t.GRAD_OPC={};l=t.attach(new oi);s=t.attach(new si);l.setPages(s);t.addPage=function(n){var f=ot(function(t,i){return n&&n[t]!=null?n[t]:i}),u=f.paperSize,i=f.margin,e=u[0],o=u[1];i&&(e-=i.left+i.right,o-=i.top+i.bottom);var h=new c(g(),null,!0),l={Contents:t.attach(h),Parent:s,MediaBox:[0,0,u[0],u[1]]},r=new wt(t,l);return r._content=h,s.addPage(t.attach(r)),r.transform(1,0,0,-1,0,u[1]),i&&(r.translate(i.left,i.top),r.rect(0,0,e,o),r.clip()),t.pages.push(r),r};t.render=function(){var n,t;for(i("%PDF-1.4",r,"%ÂÁÚÏÎ",r,r),n=0;n<u.length;++n)u[n].renderFull(i),i(r,r);for(t=i.offset(),i("xref",r,0," ",u.length+1,r),i("0000000000 65535 f ",r),n=0;n<u.length;++n)i(o(u[n]._offset,10)," 00000 n ",r);return i(r),i("trailer",r),i(new f({Size:u.length+1,Root:l,Info:new f({Producer:new h(e("producer","Kendo UI PDF Generator")),Title:new h(e("title","")),Author:new h(e("author","")),Subject:new h(e("subject","")),Keywords:new h(e("keywords","")),Creator:new h(e("creator","Kendo UI PDF Generator")),CreationDate:e("date",new Date)})}),r,r),i("startxref",r,t,r),i("%%EOF",r),i.stream().offset(0)}}function dt(t,i){function u(){n.console&&(n.console.error?n.console.error("Cannot load URL: %s",t):n.console.log("Cannot load URL: %s",t));i(null)}var r=new XMLHttpRequest;r.open("GET",t,!0);v&&(r.responseType="arraybuffer");r.onload=function(){r.status==200||r.status==304?v?i(new Uint8Array(r.response)):i(new VBArray(r.responseBody).toArray()):u()};r.onerror=u;r.send(null)}function gt(n,t){var i=nt[n];i?t(i):dt(n,function(i){if(i==null)throw new Error("Cannot load font from "+n);else{var r=new d.pdf.TTFFont(i);nt[n]=r;t(r)}})}function ni(n,t){function o(n){i.src=n;i.complete&&!d.support.browser.msie?s():(i.onload=s,i.onerror=e)}function e(){t(w[n]="TAINTED")}function s(){var v,r,y,b,p,h,a;if(f&&/^image\/jpe?g$/i.test(f.type)){v=new FileReader;v.onload=function(){i=new pt(i.width,i.height,l(new Uint8Array(this.result)));URL.revokeObjectURL(u);t(w[n]=i)};v.readAsArrayBuffer(f);return}r=document.createElement("canvas");r.width=i.width;r.height=i.height;y=r.getContext("2d");y.drawImage(i,0,0);try{b=y.getImageData(0,0,i.width,i.height)}catch(g){return e()}finally{u&&URL.revokeObjectURL(u)}for(var k=!1,c=l(),d=l(),o=b.data,s=0;s<o.length;)c.writeByte(o[s++]),c.writeByte(o[s++]),c.writeByte(o[s++]),p=o[s++],p<255&&(k=!0),d.writeByte(p);k?i=new hi(i.width,i.height,c,d):(h=r.toDataURL("image/jpeg"),h=h.substr(h.indexOf(";base64,")+8),a=l(),a.writeBase64(h),a.offset(0),i=new pt(i.width,i.height,a));t(w[n]=i)}var i=w[n],u,f,r;i?t(i):(i=new Image,/^data:/i.test(n)||(i.crossOrigin="Anonymous"),v&&!/^data:/i.test(n)?(r=new XMLHttpRequest,r.onload=function(){f=r.response;u=URL.createObjectURL(f);o(u)},r.onerror=e,r.open("GET",n,!0),r.responseType="blob",r.send()):o(n))}function ht(n){return function(t,i){var r=t.length,u=r;if(r===0)return i();while(u-->0)n(t[u],function(){--r==0&&i()})}}function at(n,t,i){while(n.length<t)n=i+n;return n}function o(n,t){return at(n+"",t,"0")}function k(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ti(n){return n instanceof Date}function ii(n,t){t("[");n.length>0&&t.withIndent(function(){for(var i=0;i<n.length;++i)i>0&&i%8==0?t.indent(n[i]):t(" ",n[i])});t(" ]")}function ri(n,t){t("(D:",o(n.getUTCFullYear(),4),o(n.getUTCMonth()+1,2),o(n.getUTCDate(),2),o(n.getUTCHours(),2),o(n.getUTCMinutes(),2),o(n.getUTCSeconds(),2),"Z)")}function vt(n){return n*(72/25.4)}function ui(n){return vt(n*10)}function fi(n){return n*72}function p(n,i){var r,u;if(typeof n=="number")return n;if(typeof n=="string"&&(r=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(n),r&&(u=t(r[1]),!isNaN(u))))return r[2]=="pt"?u:{mm:vt,cm:ui,"in":fi}[r[2]](u);if(i!=null)return i;throw new Error("Can't parse unit: "+n);}function it(){}function s(n,t,i){i||(i=it);n.prototype=new i;for(var r in t)k(t,r)&&(n.prototype[r]=t[r]);return n}function u(n){return k(rt,n)?rt[n]:rt[n]=new yt(n)}function pt(n,t,i){this.asStream=function(){var r=new c(i,{Type:u("XObject"),Subtype:u("Image"),Width:n,Height:t,BitsPerComponent:8,ColorSpace:u("DeviceRGB"),Filter:u("DCTDecode")});return r._resourceName=u("I"+ ++y),r}}function hi(n,t,i,r){this.asStream=function(f){var o=new c(r,{Type:u("XObject"),Subtype:u("Image"),Width:n,Height:t,BitsPerComponent:8,ColorSpace:u("DeviceGray")},!0),e=new c(i,{Type:u("XObject"),Subtype:u("Image"),Width:n,Height:t,BitsPerComponent:8,ColorSpace:u("DeviceRGB"),SMask:f.attach(o)},!0);return e._resourceName=u("I"+ ++y),e}}function b(n){return n.map(function(n){return tt(n)?b(n):typeof n=="number"?(Math.round(n*1e3)/1e3).toFixed(3):n}).join(" ")}function ai(n,t,i,r,u,e,o){var h=b([t,i,r,u,e,o]),s=n.GRAD_COL_FUNCTIONS[h];return s||(s=n.GRAD_COL_FUNCTIONS[h]=n.attach(new f({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[t,i,r],C1:[u,e,o]}))),s}function vi(n,t,i){var u=b([t,i]),r=n.GRAD_OPC_FUNCTIONS[u];return r||(r=n.GRAD_OPC_FUNCTIONS[u]=n.attach(new f({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[t],C1:[i]}))),r}function yi(n,t){function a(n){return n.length==1?n[0]:{FunctionType:3,Functions:n,Domain:[0,1],Bounds:s,Encode:l}}for(var e=!1,h=[],c=[],s=[],l=[],o,f,r,u,i=1;i<t.length;++i)o=t[i-1],f=t[i],r=o.color,u=f.color,c.push(ai(n,r.r,r.g,r.b,u.r,u.g,u.b)),(r.a<1||u.a<1)&&(e=!0),s.push(f.offset),l.push(0,1);if(e)for(i=1;i<t.length;++i)o=t[i-1],f=t[i],r=o.color,u=f.color,h.push(vi(n,r.a,u.a));return s.pop(),{hasAlpha:e,colors:a(c),opacities:e?a(h):null}}function pi(n,t,i,r,e,o){var s,h,c;return o||(c=[t].concat(r),i.forEach(function(n){c.push(n.offset,n.color.r,n.color.g,n.color.b)}),h=b(c),s=n.GRAD_COL[h]),s||(s=new f({Type:u("Shading"),ShadingType:t?3:2,ColorSpace:u("DeviceRGB"),Coords:r,Domain:[0,1],Function:e,Extend:[!0,!0]}),n.attach(s),s._resourceName="S"+ ++y,h&&(n.GRAD_COL[h]=s)),s}function wi(n,t,i,r,e,o){var s,h,l;return o||(l=[t].concat(r),i.forEach(function(n){l.push(n.offset,n.color.a)}),h=b(l),s=n.GRAD_OPC[h]),s||(s=new f({Type:u("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:u("Mask"),S:u("Luminosity"),G:n.attach(new c("/a0 gs /s0 sh",{Type:u("XObject"),Subtype:u("Form"),FormType:1,BBox:o?[o.left,o.top+o.height,o.left+o.width,o.top]:[0,1,1,0],Group:{Type:u("Group"),S:u("Transparency"),CS:u("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:u("DeviceGray"),Coords:r,Domain:[0,1],ShadingType:t?3:2,Function:e,Extend:[!0,!0]}}}}))}}),n.attach(s),s._resourceName="O"+ ++y,h&&(n.GRAD_OPC[h]=s)),s}function bi(n,t,i){var u=t.type=="radial",r=yi(n,t.stops),f=u?[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r]:[t.start.x,t.start.y,t.end.x,t.end.y],e=pi(n,u,t.stops,f,r.colors,t.userSpace&&i),o=r.hasAlpha?wi(n,u,t.stops,f,r.opacities,t.userSpace&&i):null;return{hasAlpha:r.hasAlpha,shading:e,opacity:o}}function l(t){function nt(){return i>=r}function f(){return i<r?t[i++]:0}function u(n){l(i);t[i++]=n&255;i>r&&(r=i)}function e(){return f()<<8|f()}function o(n){u(n>>8);u(n)}function tt(){var n=e();return n>=32768?n-65536:n}function it(n){o(n<0?n+65536:n)}function h(){return e()*65536+e()}function c(n){o(n>>>16&65535);o(n&65535)}function p(){var n=h();return n>=2147483648?n-4294967296:n}function w(n){c(n<0?n+4294967296:n)}function rt(){return h()/65536}function ut(n){c(Math.round(n*65536))}function et(){return p()/65536}function ot(n){w(Math.round(n*65536))}function b(n){return k(n,f)}function st(n){return String.fromCharCode.apply(String,b(n))}function s(n){for(var t=0;t<n.length;++t)u(n.charCodeAt(t))}function k(n,t){for(var r=new Array(n),i=0;i<n;++i)r[i]=t();return r}var i=0,r=0,d;t==null?t=v?new Uint8Array(256):[]:r=t.length;var l=v?function(n){if(n>=t.length){var i=new Uint8Array(Math.max(n+256,t.length*2));i.set(t,0);t=i}}:function(){},a=v?function(){return new Uint8Array(t.buffer,0,r)}:function(){return t},y=v?function(n){if(typeof n=="string")return s(n);var u=n.length;l(i+u);t.set(n,i);i+=u;i>r&&(r=i)}:function(n){if(typeof n=="string")return s(n);for(var t=0;t<n.length;++t)u(n[t])},g=v?function(n,i){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(n,n+i));var r=new Uint8Array(i);return r.set(new Uint8Array(t.buffer,n,i)),r}:function(n,i){return t.slice(n,n+i)};return d={eof:nt,readByte:f,writeByte:u,readShort:e,writeShort:o,readLong:h,writeLong:c,readFixed:rt,writeFixed:ut,readShort_:tt,writeShort_:it,readLong_:p,writeLong_:w,readFixed_:et,writeFixed_:ot,read:b,write:y,readString:st,writeString:s,times:k,get:a,slice:g,offset:function(n){return n!=null?(i=n,d):i},skip:function(n){i+=n},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!");},length:function(){return r},saveExcursion:function(n){var t=i;try{return n()}finally{i=t}},writeBase64:function(t){n.atob?s(n.atob(t)):y(ft.decode(t))},base64:function(){return ft.encode(a())}}}function ki(n){return n.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function di(n){var t=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i.exec(n),i;return t?(i=t[8]?parseInt(t[8],10):12,{italic:t[2]&&t[2].toLowerCase()=="italic",variant:t[4],bold:t[6]&&/bold|700/i.test(t[6]),fontSize:i,lineHeight:t[12]?t[12]=="normal"?i:parseInt(t[12],10):null,fontFamily:t[14].split(/\s*,\s*/g).map(ki)}):{fontSize:12,fontFamily:"sans-serif"}}function gi(n){function f(t){return n.bold&&(t+="|bold"),n.italic&&(t+="|italic"),t.toLowerCase()}var i=n.fontFamily,u,t,r;if(i instanceof Array){for(r=0;r<i.length;++r)if(u=f(i[r]),t=e[u],t)break}else t=e[i.toLowerCase()];while(typeof t=="function")t=t();return t||(t="Times-Roman"),t}function a(n,t){n=n.toLowerCase();e[n]=function(){return e[t]};e[n+"|bold"]=function(){return e[t+"|bold"]};e[n+"|italic"]=function(){return e[t+"|italic"]};e[n+"|bold|italic"]=function(){return e[t+"|bold|italic"]}}function bt(n,t){if(arguments.length==1)for(var i in n)k(n,i)&&bt(i,n[i]);else{n=n.toLowerCase();e[n]=t;switch(n){case"dejavu sans":e["sans-serif"]=t;break;case"dejavu sans|bold":e["sans-serif|bold"]=t;break;case"dejavu sans|italic":e["sans-serif|italic"]=t;break;case"dejavu sans|bold|italic":e["sans-serif|bold|italic"]=t;break;case"dejavu serif":e.serif=t;break;case"dejavu serif|bold":e["serif|bold"]=t;break;case"dejavu serif|italic":e["serif|italic"]=t;break;case"dejavu serif|bold|italic":e["serif|bold|italic"]=t;break;case"dejavu mono":e.monospace=t;break;case"dejavu mono|bold":e["monospace|bold"]=t;break;case"dejavu mono|italic":e["monospace|italic"]=t;break;case"dejavu mono|bold|italic":e["monospace|bold|italic"]=t}}}function nr(n,t){var e=n[0],o=n[1],s=n[2],h=n[3],c=n[4],l=n[5],i=t[0],r=t[1],u=t[2],f=t[3],a=t[4],v=t[5];return[e*i+o*u,e*r+o*f,s*i+h*u,s*r+h*f,c*i+l*u+a,c*r+l*f+v]}function tr(n){return n[0]===1&&n[1]===0&&n[2]===0&&n[3]===1&&n[4]===0&&n[5]===0}var d=n.kendo,v=!!n.Uint8Array,r="\n",y=0,ft=function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(t){for(var i=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=0,s=i.length,u=[];r<s;){var h=n.indexOf(i.charAt(r++)),e=n.indexOf(i.charAt(r++)),f=n.indexOf(i.charAt(r++)),o=n.indexOf(i.charAt(r++)),c=h<<2|e>>>4,l=(e&15)<<4|f>>>2,a=(f&3)<<6|o;u.push(c);f!=64&&u.push(l);o!=64&&u.push(a)}return u},encode:function(t){for(var i=0,r=t.length,f="";i<r;){var e=t[i++],o=t[i++],s=t[i++],c=e>>>2,l=(e&3)<<4|o>>>4,h=(o&15)<<2|s>>>6,u=s&63;i-r==2?h=u=64:i-r==1&&(u=64);f+=n.charAt(c)+n.charAt(l)+n.charAt(h)+n.charAt(u)}return f}}}(),et={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]},nt={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0},w={},ct=ht(gt),lt=ht(ni),tt,wt,e;st.prototype={loadFonts:ct,loadImages:lt,getFont:function(n){var t=this.FONTS[n];if(!t){if(t=nt[n],!t)throw new Error("Font "+n+" has not been loaded");t=t===!0?this.attach(new ci(n)):this.attach(new ut(this,t));this.FONTS[n]=t}return t},getImage:function(n){var t=this.IMAGES[n];if(!t){if(t=w[n],!t)throw new Error("Image "+n+" has not been loaded");if(t==="TAINTED")return null;t=this.IMAGES[n]=this.attach(t.asStream(this))}return t},getOpacityGS:function(n,i){var e=t(n).toFixed(3),s,r,o;return n=t(e),e+=i?"S":"F",s=this._opacityGSCache||(this._opacityGSCache={}),r=s[e],r||(o={Type:u("ExtGState")},i?o.CA=n:o.ca=n,r=this.attach(new f(o)),r._resourceName=u("GS"+ ++y),s[e]=r),r},dict:function(n){return new f(n)},name:function(n){return u(n)},stream:function(n,t){return new c(t,n)}};tt=Array.isArray||function(n){return n instanceof Array};it.prototype.beforeRender=function(){};var h=s(function(n){this.value=n},{render:function(n){for(var i="",r=this.escape(),t=0;t<r.length;++t)i+=String.fromCharCode(r.charCodeAt(t)&255);n("(",i,")")},escape:function(){return this.value.replace(/([\(\)\\])/g,"\\$1")},toString:function(){return this.value}}),ei=s(function(n){this.value=n},{render:function(n){n("<");for(var t=0;t<this.value.length;++t)n(o(this.value.charCodeAt(t).toString(16),4));n(">")}},h),yt=s(function(n){this.name=n},{render:function(n){n("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(n){return"#"+o(n.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}}),rt={};yt.get=u;var f=s(function(n){this.props=n},{render:function(n){var t=this.props,i=!0;n("<<");n.withIndent(function(){for(var r in t)k(t,r)&&!/^_/.test(r)&&(i=!1,n.indent(u(r)," ",t[r]))});i||n.indent();n(">>")}}),c=s(function(n,t,i){if(typeof n=="string"){var r=l();r.write(n);n=r}this.data=n;this.props=t||{};this.compress=i},{render:function(t){var e=this.data.get(),i=this.props;this.compress&&n.pako&&typeof n.pako.deflate=="function"&&(i.Filter?i.Filter instanceof Array||(i.Filter=[i.Filter]):i.Filter=[],i.Filter.unshift(u("FlateDecode")),e=n.pako.deflate(e));i.Length=e.length;t(new f(i)," stream",r);t.writeData(e);t(r,"endstream")}}),oi=s(function(n){n=this.props=n||{};n.Type=u("Catalog")},{setPages:function(n){this.props.Pages=n}},f),si=s(function(){this.props={Type:u("Pages"),Kids:[],Count:0}},{addPage:function(n){this.props.Kids.push(n);this.props.Count++}},f);var ci=s(function(n){this.props={Type:u("Font"),Subtype:u("Type1"),BaseFont:u(n)};this._resourceName=u("F"+ ++y)},{encodeText:function(n){return new h(n+"")}},f),ut=s(function(n,t,i){var f,r;i=this.props=i||{};i.Type=u("Font");i.Subtype=u("Type0");i.Encoding=u("Identity-H");this._pdf=n;this._font=t;this._sub=t.makeSubset();this._resourceName=u("F"+ ++y);f=t.head;this.name=t.psName;r=this.scale=t.scale;this.bbox=[f.xMin*r,f.yMin*r,f.xMax*r,f.yMax*r];this.italicAngle=t.post.italicAngle;this.ascent=t.ascent*r;this.descent=t.descent*r;this.lineGap=t.lineGap*r;this.capHeight=t.os2.capHeight||this.ascent;this.xHeight=t.os2.xHeight||0;this.stemV=0;this.familyClass=(t.os2.familyClass||0)>>8;this.isSerif=this.familyClass>=1&&this.familyClass<=7;this.isScript=this.familyClass==10;this.flags=(t.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(this.italicAngle!==0?64:0)|32},{encodeText:function(n){return new ei(this._sub.encodeText(n+""))},getTextWidth:function(n,t){for(var r=0,f=this._font.cmap.getUnicodeEntry().codeMap,u,i=0;i<t.length;++i)u=f[t.charCodeAt(i)],r+=this._font.widthOfGlyph(u||0);return r*n/1e3},beforeRender:function(){var n=this,d=n._font,t=n._sub,s=t.render(),w=new c(l(s),{Length1:s.length},!0),b=n._pdf.attach(new f({Type:u("FontDescriptor"),FontName:u(n._sub.psName),FontBBox:n.bbox,Flags:n.flags,StemV:n.stemV,ItalicAngle:n.italicAngle,Ascent:n.ascent,Descent:n.descent,CapHeight:n.capHeight,XHeight:n.xHeight,FontFile2:n._pdf.attach(w)})),k=t.ncid2ogid,r=t.firstChar,e=t.lastChar,a=[],y,i,p,o;(function v(t,i){if(t<=e){var r=k[t];r==null?v(t+1):(i||a.push(t,i=[]),i.push(n._font.widthOfGlyph(r)),v(t+1,i))}})(r);y=new f({Type:u("Font"),Subtype:u("CIDFontType2"),BaseFont:u(n._sub.psName),CIDSystemInfo:new f({Registry:new h("Adobe"),Ordering:new h("Identity"),Supplement:0}),FontDescriptor:b,FirstChar:r,LastChar:e,DW:Math.round(n._font.widthOfGlyph(0)),W:a,CIDToGIDMap:n._pdf.attach(n._makeCidToGidMap())});i=n.props;i.BaseFont=u(n._sub.psName);i.DescendantFonts=[n._pdf.attach(y)];p=new li(r,e,t.subset);o=new c(g(),null,!0);o.data(p);i.ToUnicode=n._pdf.attach(o)},_makeCidToGidMap:function(){return new c(l(this._sub.cidToGidMap()),null,!0)}},f),li=s(function(n,t,i){this.firstChar=n;this.lastChar=t;this.map=i},{render:function(n){n.indent("/CIDInit /ProcSet findresource begin");n.indent("12 dict begin");n.indent("begincmap");n.indent("/CIDSystemInfo <<");n.indent("  /Registry (Adobe)");n.indent("  /Ordering (UCS)");n.indent("  /Supplement 0");n.indent(">> def");n.indent("/CMapName /Adobe-Identity-UCS def");n.indent("/CMapType 2 def");n.indent("1 begincodespacerange");n.indent("  <0000><ffff>");n.indent("endcodespacerange");var t=this;n.indent(t.lastChar-t.firstChar+1," beginbfchar");n.withIndent(function(){for(var r,i=t.firstChar;i<=t.lastChar;++i)r=t.map[i],n.indent("<",o(i.toString(16),4),">","<",o(r.toString(16),4),">")});n.indent("endbfchar");n.indent("endcmap");n.indent("CMapName currentdict /CMap defineresource pop");n.indent("end");n.indent("end")}});wt=s(function(n,t){this._pdf=n;this._rcount=0;this._textMode=!1;this._fontResources={};this._gsResources={};this._xResources={};this._patResources={};this._shResources={};this._opacity=1;this._matrix=[1,0,0,1,0,0];this._annotations=[];this._font=null;this._fontSize=null;this._contextStack=[];t=this.props=t||{};t.Type=u("Page");t.ProcSet=[u("PDF"),u("Text"),u("ImageB"),u("ImageC"),u("ImageI")];t.Resources=new f({Font:new f(this._fontResources),ExtGState:new f(this._gsResources),XObject:new f(this._xResources),Pattern:new f(this._patResources),Shading:new f(this._shResources)});t.Annots=this._annotations},{_out:function(){this._content.data.apply(null,arguments)},transform:function(n,t,i,u,f,e){tr(arguments)||(this._matrix=nr(arguments,this._matrix),this._out(n," ",t," ",i," ",u," ",f," ",e," cm"),this._out(r))},translate:function(n,t){this.transform(1,0,0,1,n,t)},scale:function(n,t){this.transform(n,0,0,t,0,0)},rotate:function(n){var t=Math.cos(n),i=Math.sin(n);this.transform(t,i,-i,t,0,0)},beginText:function(){this._textMode=!0;this._out("BT",r)},endText:function(){this._textMode=!1;this._out("ET",r)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first");},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first");},setFont:function(n,t){this._requireTextMode();n==null?n=this._font:n instanceof ut||(n=this._pdf.getFont(n));t==null&&(t=this._fontSize);this._fontResources[n._resourceName]=n;this._font=n;this._fontSize=t;this._out(n._resourceName," ",t," Tf",r)},setTextLeading:function(n){this._requireTextMode();this._out(n," TL",r)},setTextRenderingMode:function(n){this._requireTextMode();this._out(n," Tr",r)},showText:function(n,t){if(this._requireFont(),n.length>1&&t&&this._font instanceof ut){var i=this._font.getTextWidth(this._fontSize,n),u=t/i*100;this._out(u," Tz ")}this._out(this._font.encodeText(n)," Tj",r)},showTextNL:function(n){this._requireFont();this._out(this._font.encodeText(n)," '",r)},addLink:function(n,t){var i=this._toPage({x:t.left,y:t.bottom}),r=this._toPage({x:t.right,y:t.top});this._annotations.push(new f({Type:u("Annot"),Subtype:u("Link"),Rect:[i.x,i.y,r.x,r.y],Border:[0,0,0],A:new f({Type:u("Action"),S:u("URI"),URI:new h(n)})}))},setStrokeColor:function(n,t,i){this._out(n," ",t," ",i," RG",r)},setOpacity:function(n){this.setFillOpacity(n);this.setStrokeOpacity(n);this._opacity*=n},setStrokeOpacity:function(n){if(n<1){var t=this._pdf.getOpacityGS(this._opacity*n,!0);this._gsResources[t._resourceName]=t;this._out(t._resourceName," gs",r)}},setFillColor:function(n,t,i){this._out(n," ",t," ",i," rg",r)},setFillOpacity:function(n){if(n<1){var t=this._pdf.getOpacityGS(this._opacity*n,!1);this._gsResources[t._resourceName]=t;this._out(t._resourceName," gs",r)}},gradient:function(n,t){this.save();this.rect(t.left,t.top,t.width,t.height);this.clip();n.userSpace||this.transform(t.width,0,0,t.height,t.left,t.top);var i=bi(this._pdf,n,t),f=i.shading._resourceName,u;this._shResources[f]=i.shading;i.hasAlpha&&(u=i.opacity._resourceName,this._gsResources[u]=i.opacity,this._out("/"+u+" gs "));this._out("/"+f+" sh",r);this.restore()},setDashPattern:function(n,t){this._out(n," ",t," d",r)},setLineWidth:function(n){this._out(n," w",r)},setLineCap:function(n){this._out(n," J",r)},setLineJoin:function(n){this._out(n," j",r)},setMitterLimit:function(n){this._out(n," M",r)},save:function(){this._contextStack.push(this._context());this._out("q",r)},restore:function(){this._out("Q",r);this._context(this._contextStack.pop())},moveTo:function(n,t){this._out(n," ",t," m",r)},lineTo:function(n,t){this._out(n," ",t," l",r)},bezier:function(n,t,i,u,f,e){this._out(n," ",t," ",i," ",u," ",f," ",e," c",r)},bezier1:function(n,t,i,u){this._out(n," ",t," ",i," ",u," y",r)},bezier2:function(n,t,i,u){this._out(n," ",t," ",i," ",u," v",r)},close:function(){this._out("h",r)},rect:function(n,t,i,u){this._out(n," ",t," ",i," ",u," re",r)},ellipse:function(n,t,i,r){function u(t){return n+t}function f(n){return t+n}var e=.55228474983079356;this.moveTo(u(0),f(r));this.bezier(u(i*e),f(r),u(i),f(r*e),u(i),f(0));this.bezier(u(i),f(-r*e),u(i*e),f(-r),u(0),f(-r));this.bezier(u(-i*e),f(-r),u(-i),f(-r*e),u(-i),f(0));this.bezier(u(-i),f(r*e),u(-i*e),f(r),u(0),f(r))},circle:function(n,t,i){this.ellipse(n,t,i,i)},stroke:function(){this._out("S",r)},nop:function(){this._out("n",r)},clip:function(){this._out("W n",r)},clipStroke:function(){this._out("W S",r)},closeStroke:function(){this._out("s",r)},fill:function(){this._out("f",r)},fillStroke:function(){this._out("B",r)},drawImage:function(n){var t=this._pdf.getImage(n);t&&(this._xResources[t._resourceName]=t,this._out(t._resourceName," Do",r))},comment:function(n){var t=this;n.split(/\r?\n/g).forEach(function(n){t._out("% ",n,r)})},_context:function(n){if(n!=null)this._opacity=n.opacity,this._matrix=n.matrix;else return{opacity:this._opacity,matrix:this._matrix}},_toPage:function(n){var t=this._matrix,i=t[0],r=t[1],u=t[2],f=t[3],e=t[4],o=t[5];return{x:i*n.x+u*n.y+e,y:r*n.x+f*n.y+o}}},f);e={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};a("Times New Roman","serif");a("Courier New","monospace");a("Arial","sans-serif");a("Helvetica","sans-serif");a("Verdana","sans-serif");a("Tahoma","sans-serif");a("Georgia","sans-serif");a("Monaco","monospace");a("Andale Mono","monospace");d.pdf={Document:st,BinaryStream:l,defineFont:bt,parseFontDef:di,getFontURL:gi,loadFonts:ct,loadImages:lt,getPaperOptions:ot,TEXT_RENDERING_MODE:{fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7}}}(window,parseFloat),function(n){"use strict";function r(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function u(n){return Object.keys(n).sort(function(n,t){return n-t}).map(parseFloat)}function e(n){var r,t,i;for(this.raw=n,this.scalerType=n.readLong(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),r=this.tables={},t=0;t<this.tableCount;++t)i={tag:n.readString(4),checksum:n.readLong(),offset:n.readLong(),length:n.readLong()},r[i.tag]=i}function i(n){function t(n,t){this.definition=t;this.length=t.length;this.offset=t.offset;this.file=n;this.rawData=n.raw;this.parse(n.raw)}t.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var i in n)r(n,i)&&(t[i]=t.prototype[i]=n[i]);return t}function g(){for(var t="",i=s+"",n=0;n<i.length;++n)t+=String.fromCharCode(i.charCodeAt(n)- -17);return++s,t}function h(n){this.font=n;this.subset={};this.unicodes={};this.ogid2ngid={0:0};this.ngid2ogid={0:0};this.ncid2ogid={};this.next=this.firstChar=1;this.nextGid=1;this.psName=g()+"+"+this.font.psName}function c(n,i){var u=this,r=u.contents=t(n),s,e,f,o;if(r.readString(4)=="ttcf"){if(!i)throw new Error("Must specify a name for TTC files");for(s=r.readLong(),e=r.readLong(),f=0;f<e;++f)if(o=r.readLong(),r.saveExcursion(function(){r.offset(o);u.parse()}),u.psName==i)return;throw new Error("Font "+i+" not found in collection");}else r.offset(0),u.parse()}var f=n.kendo.pdf,t=f.BinaryStream;e.prototype={readTable:function(n,t){var i=this.tables[n];if(!i)throw new Error("Table "+n+" not found in directory");return this[n]=i.table=new t(this,i)},render:function(n){var o=Object.keys(n).length,h=Math.pow(2,Math.floor(Math.log(o)/Math.LN2)),c=h*16,y=Math.floor(Math.log(h)/Math.LN2),p=o*16-c,i=t(),f,e,a,v;i.writeLong(this.scalerType);i.writeShort(o);i.writeShort(c);i.writeShort(y);i.writeShort(p);var w=o*16,u=i.offset()+w,l=null,s=t();for(f in n)if(r(n,f))for(e=n[f],i.writeString(f),i.writeLong(this.checksum(e)),i.writeLong(u),i.writeLong(e.length),s.write(e),f=="head"&&(l=u),u+=e.length;u%4;)s.writeByte(0),u++;return i.write(s.get()),a=this.checksum(i.get()),v=2981146554-a,i.offset(l+8),i.writeLong(v),i.get()},checksum:function(n){n=t(n);for(var i=0;!n.eof();)i+=n.readLong();return i&4294967295}};var l=i({parse:function(n){n.offset(this.offset);this.version=n.readLong();this.revision=n.readLong();this.checkSumAdjustment=n.readLong();this.magicNumber=n.readLong();this.flags=n.readShort();this.unitsPerEm=n.readShort();this.created=n.read(8);this.modified=n.read(8);this.xMin=n.readShort_();this.yMin=n.readShort_();this.xMax=n.readShort_();this.yMax=n.readShort_();this.macStyle=n.readShort();this.lowestRecPPEM=n.readShort();this.fontDirectionHint=n.readShort_();this.indexToLocFormat=n.readShort_();this.glyphDataFormat=n.readShort_()},render:function(n){var i=t();return i.writeLong(this.version),i.writeLong(this.revision),i.writeLong(0),i.writeLong(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.write(this.created),i.write(this.modified),i.writeShort_(this.xMin),i.writeShort_(this.yMin),i.writeShort_(this.xMax),i.writeShort_(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort_(this.fontDirectionHint),i.writeShort_(n),i.writeShort_(this.glyphDataFormat),i.get()}}),a=i({parse:function(n){n.offset(this.offset);var t=this.file.head.indexToLocFormat;this.offsets=t===0?n.times(this.length/2,function(){return 2*n.readShort()}):n.times(this.length/4,n.readLong)},offsetOf:function(n){return this.offsets[n]},lengthOf:function(n){return this.offsets[n+1]-this.offsets[n]},render:function(n){for(var r=t(),u=n[n.length-1]>65535,i=0;i<n.length;++i)u?r.writeLong(n[i]):r.writeShort(n[i]/2);return{format:u?1:0,table:r.get()}}}),v=i({parse:function(n){n.offset(this.offset);this.version=n.readLong();this.ascent=n.readShort_();this.descent=n.readShort_();this.lineGap=n.readShort_();this.advanceWidthMax=n.readShort();this.minLeftSideBearing=n.readShort_();this.minRightSideBearing=n.readShort_();this.xMaxExtent=n.readShort_();this.caretSlopeRise=n.readShort_();this.caretSlopeRun=n.readShort_();this.caretOffset=n.readShort_();n.skip(8);this.metricDataFormat=n.readShort_();this.numOfLongHorMetrics=n.readShort()},render:function(n){var i=t();return i.writeLong(this.version),i.writeShort_(this.ascent),i.writeShort_(this.descent),i.writeShort_(this.lineGap),i.writeShort(this.advanceWidthMax),i.writeShort_(this.minLeftSideBearing),i.writeShort_(this.minRightSideBearing),i.writeShort_(this.xMaxExtent),i.writeShort_(this.caretSlopeRise),i.writeShort_(this.caretSlopeRun),i.writeShort_(this.caretOffset),i.write([0,0,0,0,0,0,0,0]),i.writeShort_(this.metricDataFormat),i.writeShort(n.length),i.get()}}),y=i({parse:function(n){n.offset(this.offset);this.version=n.readLong();this.numGlyphs=n.readShort();this.maxPoints=n.readShort();this.maxContours=n.readShort();this.maxComponentPoints=n.readShort();this.maxComponentContours=n.readShort();this.maxZones=n.readShort();this.maxTwilightPoints=n.readShort();this.maxStorage=n.readShort();this.maxFunctionDefs=n.readShort();this.maxInstructionDefs=n.readShort();this.maxStackElements=n.readShort();this.maxSizeOfInstructions=n.readShort();this.maxComponentElements=n.readShort();this.maxComponentDepth=n.readShort()},render:function(n){var i=t();return i.writeLong(this.version),i.writeShort(n.length),i.writeShort(this.maxPoints),i.writeShort(this.maxContours),i.writeShort(this.maxComponentPoints),i.writeShort(this.maxComponentContours),i.writeShort(this.maxZones),i.writeShort(this.maxTwilightPoints),i.writeShort(this.maxStorage),i.writeShort(this.maxFunctionDefs),i.writeShort(this.maxInstructionDefs),i.writeShort(this.maxStackElements),i.writeShort(this.maxSizeOfInstructions),i.writeShort(this.maxComponentElements),i.writeShort(this.maxComponentDepth),i.get()}}),p=i({parse:function(n){var t,i,r;n.offset(this.offset);t=this.file;i=t.hhea;this.metrics=n.times(i.numOfLongHorMetrics,function(){return{advance:n.readShort(),lsb:n.readShort_()}});r=t.maxp.numGlyphs-t.hhea.numOfLongHorMetrics;this.leftSideBearings=n.times(r,n.readShort_)},forGlyph:function(n){var t=this.metrics,i=t.length;return n<i?t[n]:{advance:t[i-1].advance,lsb:this.leftSideBearings[n-i]}},render:function(n){for(var r=t(),u,i=0;i<n.length;++i)u=this.forGlyph(n[i]),r.writeShort(u.advance),r.writeShort_(u.lsb);return r.get()}}),w=function(){function n(n){this.raw=n}function u(n){var i,r,t;for(this.raw=n,i=this.glyphIds=[],r=this.idOffsets=[];;){if(t=n.readShort(),r.push(n.offset()),i.push(n.readShort()),!(t&o))break;n.skip(t&f?4:2);t&h?n.skip(8):t&s?n.skip(4):t&e&&n.skip(2)}}n.prototype={compound:!1,render:function(){return this.raw.get()}};var f=1,e=8,o=32,s=64,h=128;return u.prototype={compound:!0,render:function(n){for(var r=t(this.raw.get()),u,i=0;i<this.glyphIds.length;++i)u=this.glyphIds[i],r.offset(this.idOffsets[i]),r.writeShort(n[u]);return r.get()}},i({parse:function(){this.cache={}},glyphFor:function(i){var o=this.cache,s,h;if(r(o,i))return o[i];if(s=this.file.loca,h=s.lengthOf(i),h===0)return o[i]=null;var l=this.rawData,a=this.offset+s.offsetOf(i),f=t(l.slice(a,h)),c=f.readShort_(),v=f.readShort_(),y=f.readShort_(),p=f.readShort_(),w=f.readShort_(),e=o[i]=c==-1?new u(f):new n(f);return e.numberOfContours=c,e.xMin=v,e.yMin=y,e.xMax=p,e.yMax=w,e},render:function(n,i,r){for(var u=t(),e=[],s,o,f=0;f<i.length;++f)s=i[f],o=n[s],e.push(u.offset()),o&&u.write(o.render(r));return e.push(u.offset()),{table:u.get(),offsets:e}}})}(),b=function(){function n(n,t){this.text=n;this.length=n.length;this.platformID=t.platformID;this.platformSpecificID=t.platformSpecificID;this.languageID=t.languageID;this.nameID=t.nameID}return i({parse:function(t){var u,i,e;t.offset(this.offset);var h=t.readShort(),o=t.readShort(),s=this.offset+t.readShort(),f=t.times(o,function(){return{platformID:t.readShort(),platformSpecificID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:t.readShort()+s}}),r=this.strings={};for(u=0;u<f.length;++u)i=f[u],t.offset(i.offset),e=t.readString(i.length),r[i.nameID]||(r[i.nameID]=[]),r[i.nameID].push(new n(e,i));this.postscriptEntry=r[6][0];this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(i){var o=this.strings,c=0,f,u,s,l,h,e;for(f in o)r(o,f)&&(c+=o[f].length);u=t();s=t();u.writeShort(0);u.writeShort(c);u.writeShort(6+12*c);for(f in o)if(r(o,f))for(l=f==6?[new n(i,this.postscriptEntry)]:o[f],h=0;h<l.length;++h)e=l[h],u.writeShort(e.platformID),u.writeShort(e.platformSpecificID),u.writeShort(e.languageID),u.writeShort(e.nameID),u.writeShort(e.length),u.writeShort(s.offset()),s.writeString(e.text);return u.write(s.get()),u.get()}})}(),k=function(){var n=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return i({parse:function(n){var t,i;n.offset(this.offset);this.format=n.readLong();this.italicAngle=n.readFixed_();this.underlinePosition=n.readShort_();this.underlineThickness=n.readShort_();this.isFixedPitch=n.readLong();this.minMemType42=n.readLong();this.maxMemType42=n.readLong();this.minMemType1=n.readLong();this.maxMemType1=n.readLong();switch(this.format){case 131072:for(t=n.readShort(),this.glyphNameIndex=n.times(t,n.readShort),this.names=[],i=this.offset+this.length;n.offset()<i;)this.names.push(n.readString(n.readByte()));break;case 151552:t=n.readShort();this.offsets=n.read(t);break;case 262144:this.map=n.times(this.file.maxp.numGlyphs,n.readShort)}},glyphFor:function(t){switch(this.format){case 65536:return n[t]||".notdef";case 131072:var i=this.glyphNameIndex[t];return i<n.length?n[i]:this.names[i-n.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[t]||65535}},render:function(i){var u,e,f,r;if(this.format==196608)return this.raw();for(u=t(this.rawData.slice(this.offset,32)),u.writeLong(131072),u.offset(32),e=[],f=[],r=0;r<i.length;++r){var h=i[r],o=this.glyphFor(h),s=n.indexOf(o);s>=0?e.push(s):(e.push(n.length+f.length),f.push(o))}for(u.writeShort(i.length),r=0;r<e.length;++r)u.writeShort(e[r]);for(r=0;r<f.length;++r)u.writeByte(f[r].length),u.writeString(f[r]);return u.get()}})}(),o=function(){function n(n,t){var i=this;i.platformID=n.readShort();i.platformSpecificID=n.readShort();i.offset=t+n.readLong();n.saveExcursion(function(){var t,r,o,e,c,u,f,l;n.offset(i.offset);i.format=n.readShort();i.length=n.readShort();i.language=n.readShort();i.isUnicode=i.platformID==3&&i.platformSpecificID==1&&i.format==4||i.platformID===0&&i.format==4;i.codeMap={};switch(i.format){case 0:for(t=0;t<256;++t)i.codeMap[t]=n.readByte();break;case 4:r=n.readShort()/2;n.skip(6);o=n.times(r,n.readShort);n.skip(2);var a=n.times(r,n.readShort),s=n.times(r,n.readShort_),h=n.times(r,n.readShort),v=(i.length+i.offset-n.offset())/2,y=n.times(v,n.readShort);for(t=0;t<r;++t)for(e=a[t],c=o[t],u=e;u<=c;++u)h[t]===0?f=u+s[t]:(l=h[t]/2-(r-t)+(u-e),f=y[l]||0,f!==0&&(f+=s[t])),i.codeMap[u]=f&65535}})}function r(n,i){function w(t){return i[n[t]]}for(var d=u(n),s=[],h=[],e=null,g=null,o,it,k,p,r,f=0;f<d.length;++f){var l=d[f],rt=w(l),nt=rt-l;(e==null||nt!==g)&&(e&&h.push(e),s.push(l),g=nt);e=l}e&&h.push(e);h.push(65535);s.push(65535);var c=s.length,tt=c*2,b=2*Math.pow(2,Math.floor(Math.log(c)/Math.LN2)),ut=Math.log(b/2)/Math.LN2,ft=tt-b,a=[],v=[],y=[];for(f=0;f<c;++f){if(o=s[f],it=h[f],o==65535){a.push(0);v.push(0);break}if(k=w(o),o-k>=32768)for(a.push(0),v.push(2*(y.length+c-f)),p=o;p<=it;++p)y.push(w(p));else a.push(k-o),v.push(0)}return r=t(),r.writeShort(3),r.writeShort(1),r.writeLong(12),r.writeShort(4),r.writeShort(16+c*8+y.length*2),r.writeShort(0),r.writeShort(tt),r.writeShort(b),r.writeShort(ut),r.writeShort(ft),h.forEach(r.writeShort),r.writeShort(0),s.forEach(r.writeShort),a.forEach(r.writeShort_),v.forEach(r.writeShort),y.forEach(r.writeShort),r.get()}return i({parse:function(t){var i=this,r=i.offset,u;t.offset(r);i.version=t.readShort();u=t.readShort();i.unicodeEntry=null;i.tables=t.times(u,function(){var u=new n(t,r);return u.isUnicode&&(i.unicodeEntry=u),u})},render:function(n,i){var u=t();return u.writeShort(0),u.writeShort(1),u.write(r(n,i)),u.get()},getUnicodeEntry:function(){if(!this.unicodeEntry)throw new Error("Font doesn't have an Unicode encoding");return this.unicodeEntry}})}(),d=i({parse:function(n){n.offset(this.offset);this.version=n.readShort();this.averageCharWidth=n.readShort_();this.weightClass=n.readShort();this.widthClass=n.readShort();this.type=n.readShort();this.ySubscriptXSize=n.readShort_();this.ySubscriptYSize=n.readShort_();this.ySubscriptXOffset=n.readShort_();this.ySubscriptYOffset=n.readShort_();this.ySuperscriptXSize=n.readShort_();this.ySuperscriptYSize=n.readShort_();this.ySuperscriptXOffset=n.readShort_();this.ySuperscriptYOffset=n.readShort_();this.yStrikeoutSize=n.readShort_();this.yStrikeoutPosition=n.readShort_();this.familyClass=n.readShort_();this.panose=n.times(10,n.readByte);this.charRange=n.times(4,n.readLong);this.vendorID=n.readString(4);this.selection=n.readShort();this.firstCharIndex=n.readShort();this.lastCharIndex=n.readShort();this.version>0&&(this.ascent=n.readShort_(),this.descent=n.readShort_(),this.lineGap=n.readShort_(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=n.times(2,n.readLong),this.version>1&&(this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()))},render:function(){return this.raw()}}),s=1e5;h.prototype={use:function(n){var t,u,r,i,f;if(typeof n=="string"){for(u="",r=0;r<n.length;++r)t=this.use(n.charCodeAt(r)),u+=String.fromCharCode(t);return u}return t=this.unicodes[n],t||(t=this.next++,this.subset[t]=n,this.unicodes[n]=t,i=this.font.cmap.getUnicodeEntry().codeMap[n],i&&(this.ncid2ogid[t]=i,this.ogid2ngid[i]==null&&(f=this.nextGid++,this.ogid2ngid[i]=f,this.ngid2ogid[f]=i))),t},encodeText:function(n){return this.use(n)},glyphIds:function(){return u(this.ogid2ngid)},glyphsFor:function(n,t){var i,r,u;for(t||(t={}),i=0;i<n.length;++i)r=n[i],t[r]||(u=t[r]=this.font.glyf.glyphFor(r),u&&u.compound&&this.glyphsFor(u.glyphIds,t));return t},render:function(){var f=this.glyphsFor(this.glyphIds()),t,e,c;for(t in f)r(f,t)&&(t=parseInt(t,10),this.ogid2ngid[t]==null&&(e=this.nextGid++,this.ogid2ngid[t]=e,this.ngid2ogid[e]=t));var l=u(this.ngid2ogid),i=l.map(function(n){return this.ngid2ogid[n]},this),n=this.font,s=n.glyf.render(f,i,this.ogid2ngid),h=n.loca.render(s.offsets);return this.lastChar=this.next-1,c={cmap:o.render(this.ncid2ogid,this.ogid2ngid),glyf:s.table,loca:h.table,hmtx:n.hmtx.render(i),hhea:n.hhea.render(i),maxp:n.maxp.render(i),post:n.post.render(i),name:n.name.render(this.psName),head:n.head.render(h.format),"OS/2":n.os2.render()},this.font.directory.render(c)},cidToGidMap:function(){for(var i=t(),r=0,u,f,n=this.firstChar;n<this.next;++n){while(r<n)i.writeShort(0),r++;u=this.ncid2ogid[n];u?(f=this.ogid2ngid[u],i.writeShort(f)):i.writeShort(0);r++}return i.get()}};c.prototype={parse:function(){var n=this.directory=new e(this.contents);this.head=n.readTable("head",l);this.loca=n.readTable("loca",a);this.hhea=n.readTable("hhea",v);this.maxp=n.readTable("maxp",y);this.hmtx=n.readTable("hmtx",p);this.glyf=n.readTable("glyf",w);this.name=n.readTable("name",b);this.post=n.readTable("post",k);this.cmap=n.readTable("cmap",o);this.os2=n.readTable("OS/2",d);this.psName=this.name.postscriptName;this.ascent=this.os2.ascent||this.hhea.ascent;this.descent=this.os2.descent||this.hhea.descent;this.lineGap=this.os2.lineGap||this.hhea.lineGap;this.scale=1e3/this.head.unitsPerEm},widthOfGlyph:function(n){return this.hmtx.forGlyph(n).advance*this.scale},makeSubset:function(){return new h(this)}};f.TTFFont=c}(window),function(n,t){"use strict";function o(t,r){function f(n,t,i){return(i||(i=l),i.pdf&&i.pdf[n]!=null)?i.pdf[n]:t}function h(){function o(n){var o=n.options,t=ct(n),s=t.bbox,r,h,c,l,a;n=t.root;r=f("paperSize",f("paperSize","auto"),o);h=!1;r=="auto"&&(s?(c=s.getSize(),r=[c.width,c.height],h=!0,l=s.getOrigin(),t=new i.Group,t.transform(new u.Matrix(1,0,0,1,-l.x,-l.y)),t.append(n),n=t):r="A4");a=e.addPage({paperSize:r,margin:f("margin",f("margin"),o),addMargin:h,landscape:f("landscape",f("landscape",!1),o)});v(n,a,e)}if(!(--c>0)){var e=new n.pdf.Document({producer:f("producer"),title:f("title"),author:f("author"),subject:f("subject"),keywords:f("keywords"),creator:f("creator"),date:f("date")});a?t.children.forEach(o):o(t);r(e.render(),e)}}var e=[],o=[],l=t.options,a=f("multiPage"),c;t.traverse(function(t){s({Image:function(n){o.indexOf(n.src())<0&&o.push(n.src())},Text:function(t){var r=n.pdf.parseFontDef(t.options.font),i=n.pdf.getFontURL(r);e.indexOf(i)<0&&e.push(i)}},t)});c=2;n.pdf.loadFonts(e,h);n.pdf.loadImages(o,h)}function l(n,t){o(n,function(n){t("data:application/pdf;base64,"+n.base64())})}function a(n,t){o(n,function(n){t(new Blob([n.get()],{type:"application/pdf"}))})}function k(t,i,r,u){window.Blob&&!n.support.browser.safari?a(t,function(t){n.saveAs({dataURI:t,fileName:i});u&&u(t)}):l(t,function(t){n.saveAs({dataURI:t,fileName:i,proxyURL:r});u&&u(t)})}function s(n,t){var i=n[t.nodeType];return i?i.call.apply(i,arguments):t}function v(n,t,i){var f,u,r;n.options._pdfDebug&&t.comment("BEGIN: "+n.options._pdfDebug);f=n.transform();u=n.opacity();t.save();u!=null&&u<1&&t.setOpacity(u);d(n,t,i);g(n,t,i);nt(n,t,i);f&&(r=f.matrix(),t.transform(r.a,r.b,r.c,r.d,r.e,r.f));s({Path:it,MultiPath:rt,Circle:ut,Arc:ft,Text:et,Image:st,Group:ot},n,t,i);t.restore();n.options._pdfDebug&&t.comment("END: "+n.options._pdfDebug)}function d(n,t){var r=n.stroke&&n.stroke(),i,u,f,e,o,s;if(r){if(i=r.color,i){if(i=c(i),i==null)return;t.setStrokeColor(i.r,i.g,i.b);i.a!=1&&t.setStrokeOpacity(i.a)}if(u=r.width,u!=null){if(u===0)return;t.setLineWidth(u)}f=r.dashType;f&&t.setDashPattern(p[f],0);e=r.lineCap;e&&t.setLineCap(w[e]);o=r.lineJoin;o&&t.setLineJoin(b[o]);s=r.opacity;s!=null&&t.setStrokeOpacity(s)}}function g(n,t){var u=n.fill&&n.fill(),r,f;if(u&&!(u instanceof i.Gradient)){if(r=u.color,r){if(r=c(r),r==null)return;t.setFillColor(r.r,r.g,r.b);r.a!=1&&t.setFillOpacity(r.a)}f=u.opacity;f!=null&&t.setFillOpacity(f)}}function nt(n,t,i){var r=n.clip();r&&(h(r,t,i),t.clip())}function r(n){return n&&(n instanceof i.Gradient||n.color&&!/^(none|transparent)$/i.test(n.color)&&(n.width==null||n.width>0)&&(n.opacity==null||n.opacity>0))}function y(n,t,r,u){var f=n.fill(),o,s,h;if(f instanceof i.Gradient){u?t.clipStroke():t.clip();o=f instanceof i.RadialGradient;o?(s={x:f.center().x,y:f.center().y,r:0},h={x:f.center().x,y:f.center().y,r:f.radius()}):(s={x:f.start().x,y:f.start().y},h={x:f.end().x,y:f.end().y});var v={type:o?"radial":"linear",start:s,end:h,userSpace:f.userSpace(),stops:f.stops.elements().map(function(n){var t=n.offset(),i;return t=/%$/.test(t)?parseFloat(t)/100:parseFloat(t),i=c(n.color()),i.a*=n.opacity(),{offset:t,color:i}})},e=n.rawBBox(),l=e.topLeft(),a=e.getSize();return e={left:l.x,top:l.y,width:a.width,height:a.height},t.gradient(v,e),!0}}function f(n,t,i){r(n.fill())&&r(n.stroke())?y(n,t,i,!0)||t.fillStroke():r(n.fill())?y(n,t,i,!1)||t.fill():r(n.stroke())?t.stroke():t.nop()}function tt(n,t){var u=n.segments,i,r,f;if(u.length==4&&n.options.closed){for(i=[],r=0;r<u.length;++r){if(u[r].controlIn())return!1;i[r]=u[r].anchor()}if(f=i[0].y==i[1].y&&i[1].x==i[2].x&&i[2].y==i[3].y&&i[3].x==i[0].x||i[0].x==i[1].x&&i[1].y==i[2].y&&i[2].x==i[3].x&&i[3].y==i[0].y,f)return t.rect(i[0].x,i[0].y,i[2].x-i[0].x,i[2].y-i[0].y),!0}}function h(n,t,i){var s=n.segments,h,u,f,r,e,o;if(s.length!==0&&!tt(n,t,i)){for(u=0;u<s.length;++u)f=s[u],r=f.anchor(),h?(e=h.controlOut(),o=f.controlIn(),e&&o?t.bezier(e.x,e.y,o.x,o.y,r.x,r.y):t.lineTo(r.x,r.y)):t.moveTo(r.x,r.y),h=f;n.options.closed&&t.close()}}function it(n,t,i){h(n,t,i);f(n,t,i)}function rt(n,t,i){for(var u=n.paths,r=0;r<u.length;++r)h(u[r],t,i);f(n,t,i)}function ut(n,t,i){var r=n.geometry();t.circle(r.center.x,r.center.y,r.radius);f(n,t,i)}function ft(n,t,i){var r=n.geometry().curvePoints(),u;for(t.moveTo(r[0].x,r[0].y),u=1;u<r.length;)t.bezier(r[u].x,r[u++].y,r[u].x,r[u++].y,r[u].x,r[u++].y);f(n,t,i)}function et(t,i){var u=n.pdf.parseFontDef(t.options.font),f=t._position,r;t.fill()&&t.stroke()?r=e.fillAndStroke:t.fill()?r=e.fill:t.stroke()&&(r=e.stroke);i.transform(1,0,0,-1,f.x,f.y+u.fontSize);i.beginText();i.setFont(n.pdf.getFontURL(u),u.fontSize);i.setTextRenderingMode(r);i.showText(t.content(),t._pdfRect?t._pdfRect.width():null);i.endText()}function ot(n,t,i){var u,r;for(n._pdfLink&&t.addLink(n._pdfLink.url,n._pdfLink),u=n.children,r=0;r<u.length;++r)v(u[r],t,i)}function st(n,t){var r=n.src();if(r){var u=n.rect(),f=u.getOrigin(),i=u.getSize();t.transform(i.width,0,0,-i.height,f.x,f.y+i.height);t.drawImage(r)}}function ht(n,r){var f=t.Deferred(),u;for(u in r)n.options.set("pdf."+u,r[u]);return i.pdf.toDataURL(n,f.resolve),f.promise()}function c(t){var i=n.parseColor(t,!0);return i?i.toRGB():null}function ct(n){function t(n){return c=!0,n}function o(n){return n.visible()&&n.opacity()>0&&(r(n.fill())||r(n.stroke()))}function l(n){for(var r=[],i,t=0;t<n.length;++t)i=a(n[t]),i!=null&&r.push(i);return r}function v(n,t){var r=f,o=e,i;n.transform()&&(e=e.multiplyCopy(n.transform().matrix()));i=n.clip();i&&(i=i.bbox(),i&&(i=i.bbox(e),f=f?u.Rect.intersect(f,i):i));try{return t()}finally{f=r;e=o}}function y(n){if(f==null)return!1;var t=n.rawBBox().bbox(e);return f&&t&&(t=u.Rect.intersect(t,f)),t}function a(r){return v(r,function(){if(!(r instanceof i.Group||r instanceof i.MultiPath)){var f=y(r);if(!f)return t(null);h=h?u.Rect.union(h,f):f}return s({Path:function(n){return n.segments.length===0||!o(n)?t(null):n},MultiPath:function(n){if(!o(n))return t(null);var r=new i.MultiPath(n.options);return(r.paths=l(n.paths),r.paths.length===0)?t(null):r},Circle:function(n){return o(n)?n:t(null)},Arc:function(n){return o(n)?n:t(null)},Text:function(n){return!/\S/.test(n.content())||!o(n)?t(null):n},Image:function(n){return(n.visible()&&n.opacity()>0)?n:t(null)},Group:function(r){var u=new i.Group(r.options);return(u.children=l(r.children),u._pdfLink=r._pdfLink,r!==n&&u.children.length===0&&!r._pdfLink)?t(null):u}},r)})}var f=!1,e=u.Matrix.unit(),h=null,c;do c=!1,n=a(n);while(n&&c);return{root:n,bbox:h}}var i=n.drawing,u=n.geometry,lt=i.Color,e=n.pdf.TEXT_RENDERING_MODE,p={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},w={butt:0,round:1,square:2},b={miter:0,round:1,bevel:2};n.deepExtend(i,{exportPDF:ht,pdf:{toDataURL:l,toBlob:a,saveAs:k,toStream:o}})}(window.kendo,window.kendo.jQuery),function(n,t){n.PDFMixin={extend:function(n){n.events.push("pdfExport");n.options.pdf=this.options;n.saveAsPDF=this.saveAsPDF;n._drawPDF=this._drawPDF;n._drawPDFShadow=this._drawPDFShadow},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:!1,landscape:!1,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator",date:null},saveAsPDF:function(){var r=new t.Deferred,u=r.promise(),f={promise:u},i;if(!this.trigger("pdfExport",f))return i=this.options.pdf,i.multiPage=i.allPages,this._drawPDF(r).then(function(t){return n.drawing.exportPDF(t,i)}).done(function(t){n.saveAs({dataURI:t,fileName:i.fileName,proxyURL:i.proxyURL,forceProxy:i.forceProxy,proxyTarget:i.proxyTarget});r.resolve()}).fail(function(n){r.reject(n)}),u},_drawPDF:function(i){var r=new t.Deferred;return n.drawing.drawDOM(this.wrapper).done(function(n){var t={page:n,pageNumber:1,progress:1,totalPages:1};i.notify(t);r.resolve(t.page)}).fail(function(n){r.reject(n)}),r},_drawPDFShadow:function(i){var f,u,r;return i=i||{},f=this.wrapper,u=t("<div class='k-pdf-export-shadow'>"),i.width&&u.css({width:i.width,overflow:"visible"}),f.before(u),u.append(i.content||f.clone(!0,!0)),r=t.Deferred(),setTimeout(function(){var t=n.drawing.drawDOM(u);t.always(function(){u.remove()}).then(function(){r.resolve.apply(r,arguments)}).fail(function(){r.reject.apply(r,arguments)}).progress(function(){r.progress.apply(r,arguments)})},15),r.promise()}}}(kendo,window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.data","./kendo.editable","./kendo.selectable"],n)}(function(){return function(n,t){var i=window.kendo,f="change",c="cancel",l="dataBound",a="dataBinding",o=i.ui.Widget,r=i.keys,v=">*",y="progress",p="error",s="k-state-focused",w="k-state-selected",h="k-edit-item",b="edit",k="remove",d="save",tt="click",u=".kendoListView",e=n.proxy,g=i._activeElement,nt=i.ui.progress,it=i.data.DataSource,rt=i.ui.DataBoundWidget.extend({init:function(t,r){var u=this;r=n.isArray(r)?{dataSource:r}:r;o.fn.init.call(u,t,r);r=u.options;u.wrapper=t=u.element;t[0].id&&(u._itemId=t[0].id+"_lv_active");u._element();u._dataSource();u._templates();u._navigatable();u._selectable();u._pageable();u._crudHandlers();u.options.autoBind&&u.dataSource.fetch();i.notify(u)},events:[f,c,a,l,b,k,d],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},setOptions:function(n){o.fn.setOptions.call(this,n);this._templates();this.selectable&&(this.selectable.destroy(),this.selectable=null);this._selectable()},_templates:function(){var n=this.options;this.template=i.template(n.template||"");this.altTemplate=i.template(n.altTemplate||n.template);this.editTemplate=i.template(n.editTemplate||"")},_item:function(n){return this.element.children()[n]()},items:function(){return this.element.children()},dataItem:function(t){var r=i.attr("uid"),u=n(t).closest("["+r+"]").attr(r);return this.dataSource.getByUid(u)},setDataSource:function(n){this.options.dataSource=n;this._dataSource();this.options.autoBind&&n.fetch()},_unbindDataSource:function(){var n=this;n.dataSource.unbind(f,n._refreshHandler).unbind(y,n._progressHandler).unbind(p,n._errorHandler)},_dataSource:function(){var n=this;n.dataSource&&n._refreshHandler?n._unbindDataSource():(n._refreshHandler=e(n.refresh,n),n._progressHandler=e(n._progress,n),n._errorHandler=e(n._error,n));n.dataSource=it.create(n.options.dataSource).bind(f,n._refreshHandler).bind(y,n._progressHandler).bind(p,n._errorHandler)},_progress:function(){nt(this.element,!0)},_error:function(){nt(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(n){var t=this,e=t.dataSource.view(),f,s,u,h="",r,o,c=t.template,v=t.altTemplate,y=g();if(n=n||{},n.action==="itemchange"){t._hasBindingTarget()||t.editable||(f=n.items[0],u=t.items().filter("["+i.attr("uid")+"="+f.uid+"]"),u.length>0&&(r=u.index(),t.angular("cleanup",function(){return{elements:[u]}}),u.replaceWith(c(f)),u=t.items().eq(r),u.attr(i.attr("uid"),f.uid),t.angular("compile",function(){return{elements:[u],data:[{dataItem:f}]}}),t.trigger("itemChange",{item:u,data:f})));return}if(!t.trigger(a,{action:n.action||"rebind",items:n.items,index:n.index})){for(t._angularItems("cleanup"),t._destroyEditable(),r=0,o=e.length;r<o;r++)h+=r%2?v(e[r]):c(e[r]);for(t.element.html(h),s=t.items(),r=0,o=e.length;r<o;r++)s.eq(r).attr(i.attr("uid"),e[r].uid).attr("role","option").attr("aria-selected","false");t.element[0]===y&&t.options.navigatable&&t.current(s.eq(0));t._angularItems("compile");t.trigger(l)}},_pageable:function(){var t=this,r=t.options.pageable,u,f;n.isPlainObject(r)&&(f=r.pagerId,u=n.extend({},r,{dataSource:t.dataSource,pagerId:null}),t.pager=new i.ui.Pager(n("#"+f),u))},_selectable:function(){var n=this,e,t,o=n.options.selectable,s=n.options.navigatable;if(o&&(e=i.ui.Selectable.parseOptions(o).multiple,n.selectable=new i.ui.Selectable(n.element,{aria:!0,multiple:e,filter:v,change:function(){n.trigger(f)}}),s))n.element.on("keydown"+u,function(i){if(i.keyCode===r.SPACEBAR){if(t=n.current(),i.target==i.currentTarget&&i.preventDefault(),e)if(i.ctrlKey){if(t&&t.hasClass(w)){t.removeClass(w);return}}else n.selectable.clear();else n.selectable.clear();n.selectable.value(t)}})},current:function(n){var r=this,f=r.element,i=r._current,u=r._itemId;if(n===t)return i;i&&i[0]&&(i[0].id===u&&i.removeAttr("id"),i.removeClass(s),f.removeAttr("aria-activedescendant"));n&&n[0]&&(u=n[0].id||u,r._scrollTo(n[0]),f.attr("aria-activedescendant",u),n.addClass(s).attr("id",u));r._current=n},_scrollTo:function(t){var u=this,i,e=!1,r="scroll",f;u.wrapper.css("overflow")=="auto"||u.wrapper.css("overflow")==r?i=u.wrapper[0]:(i=window,e=!0);f=function(u,f){var o=e?n(t).offset()[u.toLowerCase()]:t["offset"+u],s=t["client"+f],h=n(i)[r+u](),c=n(i)[f.toLowerCase()]();o+s>h+c?n(i)[r+u](o+s-c):o<h&&n(i)[r+u](o)};f("Top","Height");f("Left","Width")},_navigatable:function(){var t=this,o=t.options.navigatable,f=t.element,c=function(i){t.current(n(i.currentTarget));n(i.target).is(":button,a,:input,a>.k-icon,textarea")||f.focus()};if(o){t._tabindex();f.on("focus"+u,function(){var n=t._current;n&&n.is(":visible")||(n=t._item("first"));t.current(n)}).on("focusout"+u,function(){t._current&&t._current.removeClass(s)}).on("keydown"+u,function(u){var e=u.keyCode,o=t.current(),v=n(u.target),y=!v.is(":button,textarea,a,a>.t-icon,input"),a=v.is(":text"),s=i.preventDefault,c=f.find("."+h),p=g(),l,w;if((y||a||r.ESC==e)&&(!a||r.ESC==e||r.ENTER==e))if(r.UP===e||r.LEFT===e)o&&(o=o.prev()),t.current(!o||!o[0]?t._item("last"):o),s(u);else if(r.DOWN===e||r.RIGHT===e)o&&(o=o.next()),t.current(!o||!o[0]?t._item("first"):o),s(u);else if(r.PAGEUP===e)t.current(null),t.dataSource.page(t.dataSource.page()-1),s(u);else if(r.PAGEDOWN===e)t.current(null),t.dataSource.page(t.dataSource.page()+1),s(u);else if(r.HOME===e)t.current(t._item("first")),s(u);else if(r.END===e)t.current(t._item("last")),s(u);else if(r.ENTER===e)if(c.length!==0&&(y||a)){l=t.items().index(c);p&&p.blur();t.save();w=function(){t.element.trigger("focus");t.current(t.items().eq(l))};t.one("dataBound",w)}else t.options.editTemplate!==""&&t.edit(o);else if(r.ESC===e){if(c=f.find("."+h),c.length===0)return;l=t.items().index(c);t.cancel();t.element.trigger("focus");t.current(t.items().eq(l))}});f.on("mousedown"+u+" touchstart"+u,v,e(c,t))}},clearSelection:function(){var n=this;n.selectable.clear();n.trigger(f)},select:function(t){var r=this,i=r.selectable;if(t=n(t),t.length){i.options.multiple||(i.clear(),t=t.first());i.value(t);return}return i.value()},_destroyEditable:function(){var n=this;n.editable&&(n.editable.destroy(),delete n.editable)},_modelFromElement:function(n){var t=n.attr(i.attr("uid"));return this.dataSource.getByUid(t)},_closeEditable:function(){var n=this,t=n.editable,r,u,f,e=n.template;return t&&(t.element.index()%2&&(e=n.altTemplate),n.angular("cleanup",function(){return{elements:[t.element]}}),r=n._modelFromElement(t.element),n._destroyEditable(),f=t.element.index(),t.element.replaceWith(e(r)),u=n.items().eq(f),u.attr(i.attr("uid"),r.uid),n._hasBindingTarget()&&i.bind(u,r),n.angular("compile",function(){return{elements:[u],data:[{dataItem:r}]}})),!0},edit:function(n){var t=this,r=t._modelFromElement(n),u,e=r.uid,f;t.cancel();n=t.items().filter("["+i.attr("uid")+"="+e+"]");f=n.index();n.replaceWith(t.editTemplate(r));u=t.items().eq(f).addClass(h).attr(i.attr("uid"),r.uid);t.editable=u.kendoEditable({model:r,clearContainer:!1,errorTemplate:!1,target:t}).data("kendoEditable");t.trigger(b,{model:r,item:u})},save:function(){var n=this,t=n.editable,r,i;t&&(i=t.element,r=n._modelFromElement(i),t.end()&&!n.trigger(d,{model:r,item:i})&&(n._closeEditable(),n.dataSource.sync()))},remove:function(n){var t=this,i=t.dataSource,r=t._modelFromElement(n);t.editable&&(i.cancelChanges(t._modelFromElement(t.editable.element)),t._closeEditable());t.trigger(k,{model:r,item:n})||(n.hide(),i.remove(r),i.sync())},add:function(){var n=this,t=n.dataSource,i=t.indexOf((t.view()||[])[0]);i<0&&(i=0);n.cancel();t.insert(i,{});n.edit(n.element.children().first())},cancel:function(){var n=this,r=n.dataSource,t,i;n.editable&&(t=n.editable.element,i=n._modelFromElement(t),n.trigger(c,{model:i,container:t})||(r.cancelChanges(i),n._closeEditable()))},_crudHandlers:function(){var t=this,r=tt+u;t.element.on(r,".k-edit-button",function(r){var u=n(this).closest("["+i.attr("uid")+"]");t.edit(u);r.preventDefault()});t.element.on(r,".k-delete-button",function(r){var u=n(this).closest("["+i.attr("uid")+"]");t.remove(u);r.preventDefault()});t.element.on(r,".k-update-button",function(n){t.save();n.preventDefault()});t.element.on(r,".k-cancel-button",function(n){t.cancel();n.preventDefault()})},destroy:function(){var n=this;o.fn.destroy.call(n);n._unbindDataSource();n._destroyEditable();n.element.off(u);n.pager&&n.pager.destroy();i.destroy(n.element)}});i.ui.plugin(rt)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n,t){var o=window.kendo,tt=o.ui,f=tt.Widget,u="horizontal",l="vertical",a=5,v="k-progressbar",it="k-progressbar-reverse",s="k-progressbar-indeterminate",y="k-complete",p="k-state-selected",w="k-progress-status",h="k-state-selected",b="k-state-default",k="k-state-disabled",i={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},d="change",g="complete",rt="boolean",r=Math,ut=n.extend,e=n.proxy,c=100,ft=400,et=3,nt={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'><\/span><\/span>"},ot=f.extend({init:function(n,t){var i=this;f.fn.init.call(this,n,t);t=i.options;i._progressProperty=t.orientation===u?"width":"height";i._fields();t.value=i._validateValue(t.value);i._validateType(t.type);i._wrapper();i._progressAnimation();t.value!==t.min&&t.value!==!1&&i._updateProgress()},setOptions:function(n){var t=this;f.fn.setOptions.call(t,n);n.hasOwnProperty("reverse")&&t.wrapper.toggleClass("k-progressbar-reverse",n.reverse);n.hasOwnProperty("enable")&&t.enable(n.enable);t._progressAnimation();t._validateValue();t._updateProgress()},events:[d,g],options:{name:"ProgressBar",orientation:u,reverse:!1,min:0,max:100,value:0,enable:!0,type:i.VALUE,chunkCount:a,showStatus:!0,animation:{}},_fields:function(){var t=this;t._isStarted=!1;t.progressWrapper=t.progressStatus=n()},_validateType:function(t){var r=!1;if(n.each(i,function(n,i){if(i===t)return r=!0,!1}),!r)throw new Error(o.format("Invalid ProgressBar type '{0}'",t));},_wrapper:function(){var t=this,r=t.wrapper=t.element,n=t.options,e=n.orientation,f;r.addClass("k-widget "+v);r.addClass(v+"-"+(e===u?u:l));n.enable===!1&&r.addClass(k);n.reverse&&r.addClass(it);n.value===!1&&r.addClass(s);n.type===i.CHUNK?t._addChunkProgressWrapper():n.showStatus&&(t.progressStatus=t.wrapper.prepend(nt.progressStatus).find("."+w),f=n.value!==!1?n.value:n.min,n.type===i.VALUE?t.progressStatus.text(f):t.progressStatus.text(t._calculatePercentage(f).toFixed()+"%"))},value:function(n){return this._value(n)},_value:function(n){var i=this,r=i.options,u;if(n===t)return r.value;typeof n!==rt?(n=i._roundValue(n),isNaN(n)||(u=i._validateValue(n),u!==r.value&&(i.wrapper.removeClass(s),r.value=u,i._isStarted=!0,i._updateProgress()))):n||(i.wrapper.addClass(s),r.value=!1)},_roundValue:function(n){n=parseFloat(n);var t=r.pow(10,et);return r.floor(n*t)/t},_validateValue:function(n){var i=this,t=i.options;if(n!==!1){if(n<=t.min||n===!0)return t.min;if(n>=t.max)return t.max}else if(n===!1)return!1;return isNaN(i._roundValue(n))?t.min:n},_updateProgress:function(){var n=this,t=n.options,r=n._calculatePercentage();t.type===i.CHUNK?(n._updateChunks(r),n._onProgressUpdateAlways(t.value)):n._updateProgressWrapper(r)},_updateChunks:function(n){var i=this,t=i.options,o=t.chunkCount,s=parseInt(c/o*100,10)/100,a=parseInt(n*100,10)/100,f=r.floor(a/s),e;e=t.orientation===u&&!t.reverse||t.orientation===l&&t.reverse?i.wrapper.find("li.k-item:lt("+f+")"):i.wrapper.find("li.k-item:gt(-"+(f+1)+")");i.wrapper.find("."+h).removeClass(h).addClass(b);e.removeClass(b).addClass(h)},_updateProgressWrapper:function(n){var t=this,i=t.options,u=t.wrapper.find("."+p),f=t._isStarted?t._animation.duration:0,r={};u.length===0&&t._addRegularProgressWrapper();r[t._progressProperty]=n+"%";t.progressWrapper.animate(r,{duration:f,start:e(t._onProgressAnimateStart,t),progress:e(t._onProgressAnimate,t),complete:e(t._onProgressAnimateComplete,t,i.value),always:e(t._onProgressUpdateAlways,t,i.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(n){var t=this,r=t.options,f=parseFloat(n.elem.style[t._progressProperty],10),u;r.showStatus&&(u=1e4/parseFloat(t.progressWrapper[0].style[t._progressProperty]),t.progressWrapper.find(".k-progress-status-wrap").css(t._progressProperty,u+"%"));r.type!==i.CHUNK&&f<=98&&t.progressWrapper.removeClass(y)},_onProgressAnimateComplete:function(n){var t=this,u=t.options,e=parseFloat(t.progressWrapper[0].style[t._progressProperty]),f;u.type!==i.CHUNK&&e>98&&t.progressWrapper.addClass(y);u.showStatus&&(f=u.type===i.VALUE?n:u.type==i.PERCENT?t._calculatePercentage(n).toFixed()+"%":r.floor(t._calculatePercentage(n))+"%",t.progressStatus.text(f));n===u.min&&t.progressWrapper.hide()},_onProgressUpdateAlways:function(n){var t=this,i=t.options;t._isStarted&&t.trigger(d,{value:n});n===i.max&&t._isStarted&&t.trigger(g,{value:i.max})},enable:function(n){var t=this,i=t.options;i.enable=typeof n=="undefined"?!0:n;t.wrapper.toggleClass(k,!i.enable)},destroy:function(){var n=this;f.fn.destroy.call(n)},_addChunkProgressWrapper:function(){var n=this,t=n.options,u=n.wrapper,f=c/t.chunkCount,i="",r;for(t.chunkCount<=1&&(t.chunkCount=a),i+="<ul class='k-reset'>",r=t.chunkCount-1;r>=0;r--)i+="<li class='k-item k-state-default'><\/li>";i+="<\/ul>";u.append(i).find(".k-item").css(n._progressProperty,f+"%").first().addClass("k-first").end().last().addClass("k-last");n._normalizeChunkSize()},_normalizeChunkSize:function(){var n=this,u=n.options,t=n.wrapper.find(".k-item:last"),i=parseFloat(t[0].style[n._progressProperty]),r=c-u.chunkCount*i;r>0&&t.css(n._progressProperty,i+r+"%")},_addRegularProgressWrapper:function(){var t=this;t.progressWrapper=n("<div class='"+p+"'><\/div>").appendTo(t.wrapper);t.options.showStatus&&(t.progressWrapper.append(nt.progressStatus),t.progressStatus=t.wrapper.find("."+w))},_calculateChunkSize:function(){var n=this,t=n.options.chunkCount,i=n.wrapper.find("ul.k-reset");return(parseInt(i.css(n._progressProperty),10)-(t-1))/t},_calculatePercentage:function(n){var i=this,u=i.options,e=n!==t?n:u.value,f=u.min,o=u.max;return i._onePercent=r.abs((o-f)/100),r.abs((e-f)/i._onePercent)},_progressAnimation:function(){var n=this,t=n.options,i=t.animation;n._animation=i===!1?{duration:0}:ut({duration:ft},t.animation)}});o.ui.plugin(ot)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.data","./kendo.columnsorter","./kendo.editable","./kendo.window","./kendo.filtermenu","./kendo.columnmenu","./kendo.groupable","./kendo.pager","./kendo.selectable","./kendo.sortable","./kendo.reorderable","./kendo.resizable","./kendo.mobile.actionsheet","./kendo.mobile.pane","./kendo.ooxml","./kendo.excel","./kendo.progressbar","./kendo.pdf"],n)}(function(){return function(n,t){function ci(n){return new Array(n+1).join('<td class="k-group-cell">&nbsp;<\/td>')}function ti(n){var t,i=" ";if(n){if(typeof n===p)return n;for(t in n)i+=t+'="'+n[t]+'"'}return i}function rr(t,i){n("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",i)}function ct(t,i,r,u,f){var o=i,e;for(i=n(),f=f||1,e=0;e<f;e++)i=i.add(t.eq(o+e));typeof r=="number"?i[u?"insertBefore":"insertAfter"](t.eq(r)):i.appendTo(r)}function tt(t,i,r){return n(t).add(i).find(r)}function af(n,t,i){var f,s,u,o;for(i=at(i)?i:[i],f=0,s=i.length;f<s;f++)if(u=i[f],c(u)&&u.click){o=u.name||u.text;t.on(l+r,"a.k-grid-"+(o||"").replace(/\s/g,""),{commandName:o},e(u.click,n))}}function su(n,t,r){return kt(n,function(n){var u,e;return n=typeof n===p?{field:n}:n,(!rt(n)||r)&&(n.attributes=ai(n.attributes),n.footerAttributes=ai(n.footerAttributes),n.headerAttributes=ai(n.headerAttributes),u=!0),n.columns&&(n.columns=su(n.columns,t,u)),e=i.guid(),n.headerAttributes=f({id:e},n.headerAttributes),f({encoded:t,hidden:u},n)})}function ur(n,t){var i=[];return fr(n,t,i),i[i.length-1]}function fr(n,t,i){var r,u;for(i=i||[],r=0;r<t.length;r++){if(n===t[r])return!0;if(t[r].columns){if(u=i.length,i.push(t[r]),fr(n,t[r].columns,i))return!0;i.splice(u,i.length-u)}}return!1}function ii(n,t){var i=t?df:ai;n.hidden=!t;n.attributes=i(n.attributes);n.footerAttributes=i(n.footerAttributes);n.headerAttributes=i(n.headerAttributes)}function er(){return this.style.display!=="none"}function rt(n){return g([n]).length>0}function g(n){return a(n,function(n){var t=!n.hidden;return t&&n.columns&&(t=g(n.columns).length>0),t})}function vf(t){return n(t).map(function(){return this.toArray()})}function yf(n,t,i){var r=ri(s(t)),u=ri(et(t)),f=n.rowSpan;n.rowSpan=i?r>u?f-(r-u)||1:f+(u-r):r>u?f+(r-u):f-(u-r)||1}function hu(t,i,r,u,f,e,o){var s=ri(t),h=ri([i]),c,l;s>h&&(c=new Array(o+1).join('<th class="k-group-cell k-header">&nbsp;<\/th>'),l=e.children(":not(.k-filter-row)"),n(new Array(s-h+1).join("<tr>"+c+"<\/tr>")).insertAfter(l.last()));bf(e,s-h);lu(r,u,f,e)}function cu(t,r,f){var e,h,c,o,l;f=f||0;c=r;r=u(r);var s={},a=t.find(">tr:not(.k-filter-row)"),v=function(){var t=n(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")};for(o=0,l=r.length;o<l;o++)e=pt(r[o],c),s[e.row]||(s[e.row]=a.eq(e.row).find(".k-header").filter(v)),h=s[e.row].eq(e.cell),h.attr(i.attr("index"),f+o);return r.length}function ri(n){for(var i=0,r,t=0;t<n.length;t++)n[t].columns&&(r=ri(n[t].columns),r>i&&(i=r));return 1+i}function lu(t,i,r,u){for(var o=or(t[0],i),h=r.find(">tr:not(.k-filter-row):eq("+o.row+")>th.k-header"),s=n(),c=o.cell,e,f=0;f<t.length;f++)s=s.add(h.eq(c+f));for(u.find(">tr:not(.k-filter-row)").eq(o.row).append(s),e=[],f=0;f<t.length;f++)t[f].columns&&(e=e.concat(t[f].columns));e.length&&lu(e,i,r,u)}function pt(n,t,i,r){var f,u;for(i=i||0,r=r||{},r[i]=r[i]||0,u=0;u<t.length;u++){if(t[u]==n){f={cell:r[i],row:i};break}else if(t[u].columns&&(f=pt(n,t[u].columns,i+1,r),f))break;r[i]++}return f}function pf(n,t,i,r){var u,f=i.locked;do u=n[t],t+=r?1:-1;while(u&&t>-1&&t<n.length&&u!=i&&!u.columns&&u.locked==f);return u}function au(n,t,i,r){var e,f,u,o;return t.columns?(t=t.columns,t[r?0:t.length-1]):(e=ur(t,n),f=e?e.columns:n,u=h(t,f),u===0&&r?u++:u!=f.length-1||r?(u>0||u===0&&!r)&&(u+=r?-1:1):u--,o=h(i,f),t=pf(f,u,i,o>u),t&&t!=i&&t.columns)?au(n,t,i,r):null}function or(n,t,i,r){var f,u;for(i=i||0,r=r||{},r[i]=r[i]||0,u=0;u<t.length;u++){if(t[u]==n){f={cell:r[i],row:i};break}else if(t[u].columns&&(f=or(n,t[u].columns,i+1,r),f))break;t[u].hidden||r[i]++}return f}function sr(n){var t=ut(s(n));return t.concat(ut(et(n)))}function ut(n){for(var i=[],r=[],t=0;t<n.length;t++)i.push(n[t]),n[t].columns&&(r=r.concat(n[t].columns));return r.length&&(i=i.concat(ut(r))),i}function wt(n){for(var r=0,t,i=0;i<n.length;i++)t=n[i],t.columns?r+=wt(t.columns):t.hidden&&r++;return r}function vu(n){for(var t,r=0,i=0,u=n.length;i<u;i++)t=n[i].style.width,t&&t.indexOf("%")==-1&&(r+=parseInt(t,10));return r}function wf(n,t){for(var r=n.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),u,i=0;i<r.length;i++)u=r[i].rowSpan,u>1&&(r[i].rowSpan=u-t||1)}function bf(n,t){for(var r=n.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),i=0;i<r.length;i++)r[i].rowSpan+=t}function hr(t){for(var r=t.find("tr:not(.k-filter-row)"),f=r.filter(function(){return!n(this).children().length}).remove().length,u=r.find("th:not(.k-group-cell,.k-hierarchy-cell)"),i=0;i<u.length;i++)u[i].rowSpan>1&&(u[i].rowSpan-=f);return r.length-f}function li(n,t,i,r,u){for(var o,e=[],f=0,s=n.length;f<s;f++)o=i[r]||[],o.push(t.eq(u+f)),i[r]=o,n[f].columns&&(e=e.concat(n[f].columns));e.length&&li(e,t,i,r+1,u+n.length)}function s(n){return a(n,function(n){return n.locked})}function et(n){return a(n,function(n){return!n.locked})}function kf(n){return a(n,function(n){return!n.locked&&rt(n)})}function cr(n){return a(n,function(n){return n.locked&&rt(n)})}function ot(n){for(var i=[],t=0;t<n.length;t++)n[t].hidden||(n[t].columns?i=i.concat(ot(n[t].columns)):i.push(n[t]));return i}function u(n){for(var i=[],t=0;t<n.length;t++){if(!n[t].columns){i.push(n[t]);continue}i=i.concat(u(n[t].columns))}return i}function k(r){var f=r.find(">tr:not(.k-filter-row)"),o=function(){var t=n(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},u=n(),e;return f.length>1&&(u=f.find("th").filter(o).filter(function(){return this.rowSpan>1})),u=u.add(f.last().find("th").filter(o)),e=i.attr("index"),u.sort(function(i,r){i=n(i);r=n(r);var u=i.attr(e),f=r.attr(e);return u===t&&(u=n(i).index()),f===t&&(f=n(r).index()),u=parseInt(u,10),f=parseInt(f,10),u>f?1:u<f?-1:0}),u}function yu(t){var a=t.closest("table"),f=n().add(t),o=t.closest("tr"),s=a.find("tr:not(.k-filter-row)"),h=s.index(o),i,u;if(h>0){var v=s.eq(h-1),c=v.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!n(this).attr("rowspan")}),r=0,e=o.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(t),l=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1});for(i=0;i<l.length;i++)r+=l[i].colSpan||1;for(e+=Math.max(r-1,0),r=0,i=0;i<c.length;i++)if(u=c.eq(i),r+=u.attr("colSpan")?u[0].colSpan:1,e>=i&&e<r){f=yu(u).add(f);break}}return f}function ui(t){var y=t.closest("thead"),e=n().add(t),o=t.closest("tr"),a=y.find("tr:not(.k-filter-row)"),p=a.index(o)+t[0].rowSpan,s=i.attr("colspan"),h,v,c,l;if(p<=a.length-1){var u=o.next(),w=o.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(t),f=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)"),r;for(f=f.filter(function(){return!this.rowSpan||this.rowSpan===1}),h=0,r=0;r<f.length;r++)h+=parseInt(f.eq(r).attr(s),10)||1;for(v=u.find("th:not(.k-group-cell,.k-hierarchy-cell)"),c=parseInt(t.attr(s),10)||1,r=0;r<c;)u=v.eq(r+h),e=e.add(ui(u)),l=parseInt(u.attr(s),10),l>1&&(c-=l-1),r++}return e}function pu(t,i,r,u){var f,e=t;return u&&t.empty(),ff?t[0].innerHTML=r:(f=document.createElement("div"),f.innerHTML="<table><tbody>"+r+"<\/tbody><\/table>",t=f.firstChild.firstChild,i[0].replaceChild(t,e[0]),t=n(t)),t}function ai(n){n=n||{};var t=n.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===n.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",f({},n,{style:t})}function df(n){n=n||{};var t=n.style;return t&&(n.style=t.replace(/(display\s*:\s*none\s*;?)*/ig,"")),n}function vi(t,r,u,f){var e=t.find(">colgroup"),s,h=kt(r,function(n){return(s=n.width,s&&parseInt(s,10)!==0)?i.format('<col style="width:{0}"/>',typeof s===p?s:s+"px"):"<col />"});(u||e.find(".k-hierarchy-col").length)&&h.splice(0,0,'<col class="k-hierarchy-col" />');e.length&&e.remove();e=n(new Array(f+1).join('<col class="k-group-col">')+h.join(""));e.is("colgroup")||(e=n("<colgroup/>").append(e));t.prepend(e);o.msie&&o.version==8&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","")},1))}function gf(n,t){for(var u=0,r=n.find("th:not(.k-group-cell)"),i=0,f=t.length;i<f;i++)t[i].locked&&(r.eq(i).insertBefore(r.eq(u)),r=n.find("th:not(.k-group-cell)"),u++)}function wu(n){for(var r={},i,t=0,u=n.length;t<u;t++)i=n[t],r[i.value]=i.text;return r}function ne(n,t,r,u){var e=r&&r.length&&c(r[0])&&"value"in r[0],f=e?wu(r)[n]:n;return f=f!=null?f:"",t?i.format(t,f):u===!1?f:i.htmlEncode(f)}function st(n,t,i){for(var u=0,f,r=n[u];r;){if(f=i?!0:r.style.display!=="none",f&&!hf.test(r.className)&&--t<0){r.style.display=i?"":"none";break}r=n[++u]}}function bu(t,i){for(var f=0,e=t.length,r,u;f<e;f+=1)u=t.eq(f),u.is(".k-grouping-row,.k-detail-row")?(r=u.children(":not(.k-group-cell):first,.k-detail-cell").last(),r.attr("colspan",parseInt(r.attr("colspan"),10)-1)):(u.hasClass("k-grid-edit-row")&&(r=u.children(".k-edit-container")[0])&&(r=n(r),r.attr("colspan",parseInt(r.attr("colspan"),10)-1),r.find("col").eq(i).remove(),u=r.find("tr:first")),st(u[0].cells,i,!1))}function ku(n){for(var i=[],t,r=0;r<n.length;r++){if(t=n[r],!("field"in t&&"value"in t&&"items"in t))break;i.push(t);t.hasSubgroups&&(i=i.concat(ku(t.items)))}return i}function du(n){for(var i=[],t,r=0;r<n.length;r++){if(t=n[r],!("field"in t&&"value"in t&&"items"in t))break;t.hasSubgroups&&(i=i.concat(du(t.items)));i.push(t.aggregates)}return i}function gu(t,i){for(var f=0,e=t.length,r,u,o;f<e;f+=1)u=t.eq(f),u.is(".k-grouping-row,.k-detail-row")?(r=u.children(":not(.k-group-cell):first,.k-detail-cell").last(),r.attr("colspan",parseInt(r.attr("colspan"),10)+1)):(u.hasClass("k-grid-edit-row")&&(r=u.children(".k-edit-container")[0])&&(r=n(r),r.attr("colspan",parseInt(r.attr("colspan"),10)+1),vi(r.find(">form>table"),g(o),!1,0),u=r.find("tr:first")),st(u[0].cells,i,!0))}function nf(n,t,i){i=i||1;for(var r,u=0,f=n.length;u<f;u++)r=n.eq(u).children().last(),r.attr("colspan",parseInt(r.attr("colspan"),10)+i),r=t.eq(u).children().last(),r.attr("colspan",parseInt(r.attr("colspan"),10)-i)}function tf(n){for(var r=0,u=n.find(">colgroup>col"),t=0,i=u.length;t<i;t+=1)r+=parseInt(u[t].style.width,10);return r}function te(n,t){if(n=n[0],t=t[0],n.rows.length!==t.rows.length){var r=n.offsetHeight,u=t.offsetHeight,i,f;r>u?(i=t.rows[t.rows.length-1],eu.test(i.className)&&(i=t.rows[t.rows.length-2]),f=r-u):(i=n.rows[n.rows.length-1],eu.test(i.className)&&(i=n.rows[n.rows.length-2]),f=u-r);i.style.height=i.offsetHeight+f+"px"}}function ei(n,t){var i,r=n.offsetHeight,u=t.offsetHeight;r>u?i=r+"px":r<u&&(i=u+"px");i&&(n.style.height=t.style.height=i)}function lr(n,t){var r,u,i;if(typeof n===p&&n===t||c(n)&&n.name===t)return n;if(at(n))for(r=0,u=n.length;r<u;r++)if(i=n[r],typeof i===p&&i===t||i.name===t)return i;return null}function w(t,i){var u=o.msie,r,f,e;if(i===!0){if(t=n(t),r=!0||u&&t.parent().is(".k-grid-content,.k-grid-header-wrap"),r&&(f=t.parent().scrollTop(),e=t.parent().scrollLeft()),u)try{t[0].setActive()}catch(s){t[0].focus()}else t[0].focus();r&&(t.parent().scrollTop(f),t.parent().scrollLeft(e))}else n(t).one("focusin",function(n){n.preventDefault()}).focus()}function rf(t){var r=n(t.currentTarget),f=r.is("th"),e=this.table.add(this.lockedTable),o=this.thead.parent().add(n(">table",this.lockedHeader)),s=n(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon"),u=r.closest("table")[0];if(!i.support.touch){if(s&&r.find(i.roleSelector("filtercell")).length){this.current(r);return}(u===e[0]||u===e[1]||u===o[0]||u===o[1])&&(n(t.target).is("a.k-i-collapse, a.k-i-expand")||(this.options.navigatable&&this.current(r),(f||!s)&&setTimeout(function(){lf&&n(i._activeElement()).hasClass("k-widget")||w(u,!0)}),f&&t.preventDefault()))}}function ie(n){return n&&(n.hasClass("k-edit-cell")||n.parent().hasClass("k-grid-edit-row"))}function uf(n,t,i){return'<tr role="row" class="k-grouping-row">'+ci(t)+'<td colspan="'+n+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"><\/a>'+i+"<\/p><\/td><\/tr>"}function re(n){return'<tr role="row" class="k-grouping-row"><td colspan="'+n+'" aria-expanded="true"><p class="k-reset">&nbsp;<\/p><\/td><\/tr>'}var i=window.kendo,lt=i.ui,ar=i.data.DataSource,ff=i.support.tbodyInnerHtml,ht=i._activeElement,bt=lt.Widget,y=i.keys,c=n.isPlainObject,f=n.extend,kt=n.map,a=n.grep,at=n.isArray,h=n.inArray,vr=Array.prototype.push,e=n.proxy,ef=i.isFunction,yr=n.isEmptyObject,ft=Math,yi="progress",pi="error",v=":not(.k-group-cell):not(.k-hierarchy-cell):visible",of="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",it="tr:not(.k-footer-template):visible",vt=":not(.k-group-cell):not(.k-hierarchy-cell):visible",pr=it+":first>"+vt+":first",wi="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",r=".kendoGrid",oi="edit",bi="save",wr="remove",ki="detailInit",br="filterMenuInit",kr="columnMenuInit",d="change",di="columnHide",gi="columnShow",dr="saveChanges",nr="dataBound",gr="detailExpand",nu="detailCollapse",dt="k-state-focused",tu="k-state-selected",iu="k-grid-norecords",tr="columnResize",ru="columnReorder",uu="columnLock",fu="columnUnlock",l="click",ir="height",gt="tabIndex",yt="function",p="string",sf=/(\}|\#)/ig,si=/#/ig,hi="[\\x20\\t\\r\\n\\f]",hf=new RegExp("(^|"+hi+")(k-group-cell|k-hierarchy-cell)("+hi+"|$)"),eu=new RegExp("(^|"+hi+")(k-filter-row)("+hi+"|$)"),cf='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"><\/span>#=text#<\/a>',nt=!1,o=i.support.browser,ni=o.msie&&o.version==7,lf=o.msie&&o.version==8,ou=bt.extend({init:function(n,t){var i=this;bt.fn.init.call(i,n,t);i._refreshHandler=e(i.refresh,i);i.setDataSource(t.dataSource);i.wrap()},setDataSource:function(n){var t=this;t.dataSource&&t.dataSource.unbind(d,t._refreshHandler);t.dataSource=n;t.dataSource.bind(d,t._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:n.noop,prefetch:!0},destroy:function(){var n=this;bt.fn.destroy.call(n);n.dataSource.unbind(d,n._refreshHandler);n.wrapper.add(n.verticalScrollbar).off(r);n.drag&&(n.drag.destroy(),n.drag=null);n.wrapper=n.element=n.verticalScrollbar=null;n._refreshHandler=null},wrap:function(){var t=this,o=i.support.scrollbar()+1,u=t.element,f;u.css({width:"auto",overflow:"hidden"}).css(nt?"padding-left":"padding-right",o);t.content=u.children().first();f=t.wrapper=t.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+r+" mousewheel"+r,e(t._wheelScroll,t));i.support.kineticScrollNeeded&&(t.drag=new i.UserEvents(t.wrapper,{global:!0,start:function(n){n.sender.capture()},move:function(n){t.verticalScrollbar.scrollTop(t.verticalScrollbar.scrollTop()-n.y.delta);f.scrollLeft(f.scrollLeft()-n.x.delta);n.preventDefault()}}));t.verticalScrollbar=n('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:o}).appendTo(u).bind("scroll"+r,e(t._scroll,t))},_wheelScroll:function(t){if(!t.ctrlKey){var f=this.verticalScrollbar,e=f.scrollTop(),u=i.wheelDeltaY(t);if(u&&!(u>0&&e===0)&&!(u<0&&e+f[0].clientHeight==f[0].scrollHeight)){t.preventDefault();n(t.currentTarget).one("wheel"+r,!1);this.verticalScrollbar.scrollTop(e+-u)}}},_scroll:function(n){var t=this,u=!t.options.prefetch,i=n.currentTarget.scrollTop,e=t.dataSource,r=t.itemHeight,o=e.skip()||0,s=t._rangeStart||o,h=t.element.innerHeight(),c=!!(t._scrollbarTop&&t._scrollbarTop>i),f=ft.max(ft.floor(i/r),0),l=ft.max(f+ft.floor(h/r),0);t._scrollTop=i-s*r;t._scrollbarTop=i;t._scrolling=u;t._fetch(f,l,c)||(t.wrapper[0].scrollTop=t._scrollTop);u&&(t._scrollingTimeout&&clearTimeout(t._scrollingTimeout),t._scrollingTimeout=setTimeout(function(){t._scrolling=!1;t._page(t._rangeStart,t.dataSource.take())},100))},itemIndex:function(n){var t=this._rangeStart||this.dataSource.skip()||0;return t+n},position:function(n){var t=this._rangeStart||this.dataSource.skip()||0,r=this.dataSource.pageSize(),i;return i=n>t?n-t+1:t-n-1,i>r?r:i},scrollIntoView:function(n){var i=this.wrapper[0],t=i.clientHeight,r=this._scrollTop||i.scrollTop,u=n[0].offsetTop,f=n[0].offsetHeight;r>u?this.verticalScrollbar[0].scrollTop-=t/2:u+f>=r+t&&(this.verticalScrollbar[0].scrollTop+=t/2)},_fetch:function(t,i,r){var f=this,o=f.dataSource,c=f.itemHeight,u=o.take(),e=f._rangeStart||o.skip()||0,s=ft.floor(t/u)*u,h=!1,l=.33;return t<e?(h=!0,e=ft.max(0,i-u),f._scrollTop=(t-e)*c,f._page(e,u)):i>=e+u&&!r?(h=!0,e=t,f._scrollTop=c,f._page(e,u)):!f._fetching&&f.options.prefetch&&(t<s+u-u*l&&t>u&&o.prefetch(s-u,u,n.noop),i>s+u*l&&o.prefetch(s+u,u,n.noop)),h},fetching:function(){return this._fetching},_page:function(n,t){var r=this,f=!r.options.prefetch,u=r.dataSource;clearTimeout(r._timeout);r._fetching=!0;r._rangeStart=n;u.inRange(n,t)?u.range(n,t):(f||i.ui.progress(r.wrapper.parent(),!0),r._timeout=setTimeout(function(){r._scrolling||(f&&i.ui.progress(r.wrapper.parent(),!0),u.range(n,t))},100))},repaintScrollbar:function(){var n=this,u="",t=25e4,h=n.dataSource,c=i.support.kineticScrollNeeded?0:i.support.scrollbar(),f=n.wrapper[0],r,e,o,s;for(o=n.itemHeight=n.options.itemHeight()||0,s=f.scrollWidth>f.offsetWidth?c:0,r=h.total()*o+s,e=0;e<ft.floor(r/t);e++)u+='<div style="width:1px;height:'+t+'px"><\/div>';r%t&&(u+='<div style="width:1px;height:'+r%t+'px"><\/div>');n.verticalScrollbar.html(u);f.scrollTop=n._scrollTop},refresh:function(){var n=this,t=n.dataSource,r=n._rangeStart;i.ui.progress(n.wrapper.parent(),!1);clearTimeout(n._timeout);n.repaintScrollbar();n.drag&&n.drag.cancel();r&&!n._fetching&&(n._rangeStart=t.skip(),t.page()===1&&(n.verticalScrollbar[0].scrollTop=0));n._fetching=!1}}),b={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-primary k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"},excel:{text:"Export to Excel",imageClass:"k-i-excel",className:"k-grid-excel",iconClass:"k-icon"},pdf:{text:"Export to PDF",imageClass:"k-i-pdf",className:"k-grid-pdf",iconClass:"k-icon"}},fi=i.ui.DataBoundWidget.extend({init:function(t,u,f){var e=this;if(u=at(u)?{dataSource:u}:u,bt.fn.init.call(e,t,u),f&&(e._events=f),nt=i.support.isRtl(t),e._element(),e._aria(),e._columns(e.options.columns),e._dataSource(),e._tbody(),e._pageable(),e._thead(),e._groupable(),e._toolbar(),e._setContentHeight(),e._templates(),e._navigatable(),e._selectable(),e._clipboard(),e._details(),e._editable(),e._attachCustomCommandsEvent(),e._minScreenSupport(),e.options.autoBind?e.dataSource.fetch():e._footer(),e.lockedContent){e.wrapper.addClass("k-grid-lockedcolumns");e._resizeHandler=function(){e.resize()};n(window).on("resize"+r,e._resizeHandler)}i.notify(e)},events:[d,"dataBinding","cancel",nr,gr,nu,ki,br,kr,oi,bi,wr,dr,tr,ru,gi,di,uu,fu],setDataSource:function(n){var t=this,i=t.options.scrollable;t.options.dataSource=n;t._dataSource();t._pageable();t._thead();i&&(i.virtual?t.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0):t.content.scrollLeft(0));t.options.groupable&&t._groupable();t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource);t.options.navigatable&&t._navigatable();t.options.selectable&&t._selectable();t.options.autoBind&&n.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",noRecords:!1,dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:"Cancel",confirmation:"Are you sure you want to delete this record?",confirmDelete:"Delete"},commands:{create:b.create.text,cancel:b.cancel.text,save:b.save.text,destroy:b.destroy.text,edit:b.edit.text,update:b.update.text,canceledit:b.canceledit.text,excel:b.excel.text,pdf:b.pdf.text},noRecords:"No records available."}},destroy:function(){var t=this,u;t._angularItems("cleanup");t._destroyColumnAttachments();bt.fn.destroy.call(t);this._navigatableTables=null;t._resizeHandler&&n(window).off("resize"+r,t._resizeHandler);t.pager&&t.pager.element&&t.pager.destroy();t.pager=null;t.groupable&&t.groupable.element&&t.groupable.element.kendoGroupable("destroy");t.groupable=null;t.options.reorderable&&t.wrapper.data("kendoReorderable").destroy();t.selectable&&t.selectable.element&&(t.selectable.destroy(),t.clearArea(),t.copyHandler&&(t.wrapper.off("keydown",t.copyHandler),t.unbind(t.copyHandler)),t.updateClipBoardState&&(t.unbind(t.updateClipBoardState),t.updateClipBoardState=null),t.clearAreaHandler&&t.wrapper.off("keyup",t.clearAreaHandler));t.selectable=null;t.resizable&&(t.resizable.destroy(),t._resizeUserEvents&&(t._resizeHandleDocumentClickHandler&&n(document).off("click",t._resizeHandleDocumentClickHandler),t._resizeUserEvents.destroy(),t._resizeUserEvents=null),t.resizable=null);t.virtualScrollable&&t.virtualScrollable.element&&t.virtualScrollable.destroy();t.virtualScrollable=null;t._destroyEditable();t.dataSource&&(t.dataSource.unbind(d,t._refreshHandler).unbind(yi,t._progressHandler).unbind(pi,t._errorHandler),t._refreshHandler=t._progressHandler=t._errorHandler=null);u=t.element.add(t.wrapper).add(t.table).add(t.thead).add(t.wrapper.find(">.k-grid-toolbar"));t.content&&(u=u.add(t.content).add(t.content.find(">.k-virtual-scrollable-wrap")));t.lockedHeader&&t._removeLockedContainers();t.pane&&t.pane.destroy();t.minScreenResizeHandler&&n(window).off("resize",t.minScreenResizeHandler);t._draggableInstance&&t._draggableInstance.element&&t._draggableInstance.destroy();t._draggableInstance=null;u.off(r);i.destroy(t.wrapper);t.rowTemplate=t.altRowTemplate=t.lockedRowTemplate=t.lockedAltRowTemplate=t.detailTemplate=t.footerTemplate=t.groupFooterTemplate=t.lockedGroupFooterTemplate=t.noRecordsTemplate=null;t.scrollables=t.thead=t.tbody=t.element=t.table=t.content=t.footer=t.wrapper=t._groupableClickHandler=t._setContentWidthHandler=null},getOptions:function(){var o=this.options,r,u,e;return o.dataSource=null,r=f(!0,{},this.options),r.columns=i.deepExtend([],this.columns),u=this.dataSource,e=u.options.data&&u._data,u.options.data=null,r.dataSource=n.extend(!0,{},u.options),u.options.data=e,r.dataSource.data=e,r.dataSource.page=u.page(),r.dataSource.filter=u.filter(),r.dataSource.pageSize=u.pageSize(),r.dataSource.sort=u.sort(),r.dataSource.group=u.group(),r.dataSource.aggregate=u.aggregate(),r.dataSource.transport&&(r.dataSource.transport.dataSource=null),r.$angular=t,r},setOptions:function(n){var r=this.getOptions(),f;i.deepExtend(r,n);n.dataSource||(r.dataSource=this.dataSource);var t=this.wrapper,e=this._events,u=this.element;this.destroy();this.options=null;this._isMobile&&(f=t.closest(i.roleSelector("pane")).parent(),f.after(t),f.remove(),t.removeClass("k-grid-mobile"));t[0]!==u[0]&&(t.before(u),t.remove());u.empty();this.init(u,r,e);this._setEvents(r)},items:function(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody)},_items:function(t){return t.children().filter(function(){var t=n(this);return!t.hasClass("k-grouping-row")&&!t.hasClass("k-detail-row")&&!t.hasClass("k-group-footer")})},dataItems:function(){var t=i.ui.DataBoundWidget.fn.dataItems.call(this),r,u,n;if(this.lockedContent){for(r=t.length,u=new Array(2*r),n=r;--n>=0;)u[n]=u[n+r]=t[n];t=u}return t},_destroyColumnAttachments:function(){var t=this;(t.resizeHandle=null,t.thead)&&(this.angular("cleanup",function(){return{elements:t.thead.get()}}),t.thead.add(t.lockedHeader).find("th").each(function(){var t=n(this),i=t.data("kendoFilterMenu"),r=t.data("kendoColumnSorter"),u=t.data("kendoColumnMenu");i&&i.destroy();r&&r.destroy();u&&u.destroy()}))},_attachCustomCommandsEvent:function(){for(var t=this,r=u(t.columns||[]),i,n=0,f=r.length;n<f;n++)i=r[n].command,i&&af(t,t.wrapper,i)},_aria:function(){var n=this.element.attr("id")||"aria";n&&(this._cellId=n+"_active_cell")},_element:function(){var t=this,i=t.element;i.is("table")||(i=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),i.length||(i=n("<table />").appendTo(t.element)));ni&&i.attr("cellspacing",0);t.table=i.attr("role",t._hasDetails()?"treegrid":"grid");t._wrapper()},_createResizeHandle:function(t,i){var e=this,l=e.options.columnResizeHandleWidth,v=e.options.scrollable,u=e.resizeHandle,a=this._groups(),s,c,h;if(u&&e.lockedContent&&u.data("th")[0]!==i[0]&&(u.off(r).remove(),u=null),u||(u=e.resizeHandle=n('<div class="k-resize-handle"><div class="k-resize-handle-inner"><\/div><\/div>'),t.append(u)),nt){if(s=i.position().left,v){var f=i.closest(".k-grid-header-wrap, .k-grid-header-locked"),y=o.msie?f.scrollLeft():0,p=o.webkit?f[0].scrollWidth-f[0].offsetWidth-f.scrollLeft():0,w=o.mozilla?f[0].scrollWidth-f[0].offsetWidth-(f[0].scrollWidth-f[0].offsetWidth-f.scrollLeft()):0;s-=p-w+y}}else{for(s=i[0].offsetWidth,c=k(i.closest("thead")).filter(":visible"),h=0;h<c.length;h++){if(c[h]==i[0])break;s+=c[h].offsetWidth}a>0&&(s+=t.find(".k-group-cell:first").outerWidth()*a);e._hasDetails()&&(s+=t.find(".k-hierarchy-cell:first").outerWidth())}u.css({top:i.position().top,left:s-l,height:i.outerHeight(),width:l*3}).data("th",i).show();u.off("dblclick"+r).on("dblclick"+r,function(){e._autoFitLeafColumn(i.data("index"))})},_positionColumnResizeHandle:function(){var t=this,i=t.options.columnResizeHandleWidth,u=t.lockedHeader?t.lockedHeader.find("thead:first"):n();t.thead.add(u).on("mousemove"+r,"th",function(r){var u=n(this);if(!u.hasClass("k-group-cell")&&!u.hasClass("k-hierarchy-cell")){var f=r.clientX,e=n(window).scrollLeft(),o=u.offset().left+(nt?0:this.offsetWidth);f+e>o-i&&f+e<o+i?t._createResizeHandle(u.closest("div"),u):t.resizeHandle?t.resizeHandle.hide():rr(t.wrapper,"")}})},_resizeHandleDocumentClick:function(t){n(t.target).closest(".k-column-active").length||(n(document).off(t),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off(r).remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var t=this,r=t.lockedHeader?t.lockedHeader.find("thead:first"):n();t._resizeUserEvents=new i.UserEvents(r.add(t.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(i){var r=n(i.target);i.preventDefault();r.addClass("k-column-active");t._createResizeHandle(r.closest("div"),r);t._resizeHandleDocumentClickHandler||(t._resizeHandleDocumentClickHandler=e(t._resizeHandleDocumentClick,t));n(document).on("click",t._resizeHandleDocumentClickHandler)}})},_resizable:function(){var t=this,s=t.options,c,a,e,h,y=this._isMobile,v=i.support.mobileOS?0:i.support.scrollbar(),f,l,r;s.resizable&&(c=s.scrollable?t.wrapper.find(".k-grid-header-wrap:first"):t.wrapper,y?t._positionColumnResizeHandleTouch(c):t._positionColumnResizeHandle(c),t.resizable&&t.resizable.destroy(),t.resizable=new lt.Resizable(c.add(t.lockedHeader),{handle:(!s.scrollable?">":"")+".k-resize-handle",hint:function(i){return n('<div class="k-grid-resize-indicator" />').css({height:i.data("th").outerHeight()+t.tbody.attr("clientHeight")})},start:function(i){var v,u,c,p;r=n(i.currentTarget).data("th");y&&t._hideResizeHandle();v=r.closest("table");u=n.inArray(r[0],k(r.closest("thead")).filter(":visible"));f=v.parent().hasClass("k-grid-header-locked");c=f?t.lockedTable:t.table;p=t.footer||n();t.footer&&t.lockedContent&&(p=f?t.footer.children(".k-grid-footer-locked"):t.footer.children(".k-grid-footer-wrap"));rr(t.wrapper,"col-resize");l=s.scrollable?v.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+u+")").add(c.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+u+")")).add(p.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+u+")")):c.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+u+")");a=i.x.location;e=r.outerWidth();h=f?c.children("tbody").outerWidth():t.tbody.outerWidth();o.webkit&&t.wrapper.addClass("k-grid-column-resizing")},resize:function(i){var c=nt?-1:1,y=e+i.x.location*c-a*c,o;if(s.scrollable){f&&t.lockedFooter?o=t.lockedFooter.children("table"):t.footer&&(o=t.footer.find(">.k-grid-footer-wrap>table"));o&&o[0]||(o=n());var b=r.closest("table"),k=f?t.lockedTable:t.table,w=!1,p=t.wrapper.width()-v,u=y;f&&h-e+u>p&&(u=e+(p-h-v*2),u<0&&(u=y),w=!0);u>10&&(l.css("width",u),h&&(u=w?p-v*2:h+i.x.location*c-a*c,k.add(b).add(o).css("width",u),f||(t._footerWidth=u)))}else y>10&&l.css("width",y)},resizeend:function(){var f=r.outerWidth(),s,h,n;rr(t.wrapper,"");o.webkit&&t.wrapper.removeClass("k-grid-column-resizing");e!=f&&(h=t.lockedHeader?t.lockedHeader.find("thead:first tr:first").add(t.thead.find("tr:first")):r.parent(),n=r.attr(i.attr("index")),n||(n=h.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(r)),s=u(t.columns)[n],s.width=f,t.trigger(tr,{column:s,oldWidth:e,newWidth:f}),t._applyLockedContainersWidth(),t._syncLockedContentHeight(),t._syncLockedHeaderHeight());t._hideResizeHandle();r=null}}))},_draggable:function(){var t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),t._draggableInstance=t.wrapper.kendoDraggable({group:i.guid(),filter:t.content?".k-grid-header:first "+wi:"table:first>.k-grid-header "+wi,drag:function(){t._hideResizeHandle()},hint:function(t){return n('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(i.attr("title"))||t.attr(i.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var t=this,i;t.options.reorderable&&(t.wrapper.data("kendoReorderable")&&t.wrapper.data("kendoReorderable").destroy(),i=function(n,i,r){var f=n[i],e=n[r],u=ur(f,t.columns);return n=u?u.columns:t.columns,h(e,n)},t.wrapper.kendoReorderable({draggable:t._draggableInstance,dragOverContainers:function(n,r){var u=sr(t.columns);return u[n].lockable!==!1&&i(u,n,r)>-1},inSameContainer:function(r){return n(r.source).parent()[0]===n(r.target).parent()[0]&&i(sr(t.columns),r.sourceIndex,r.targetIndex)>-1},change:function(n){var r=sr(t.columns),u=r[n.oldIndex],f=i(r,n.oldIndex,n.newIndex);t.trigger(ru,{newIndex:f,oldIndex:h(u,r),column:u});t.reorderColumn(f,u,n.position==="before")}}))},_reorderHeader:function(n,t,i){for(var r=this,f=pt(n[0],r.columns),h=pt(t,r.columns),u=[],e=0;e<n.length;e++)n[e].columns&&(u=u.concat(n[e].columns));var l=tt(r.lockedHeader,r.thead,"tr:eq("+f.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"),o=s(n).length,c=s([t]).length;u.length?(o>0&&c===0?hu(n,t,u,r.columns,r.lockedHeader.find("thead"),r.thead,this._groups()):o===0&&c>0&&hu(n,t,u,r.columns,r.thead,r.lockedHeader.find("thead"),this._groups()),(t.columns||f.cell-h.cell>1||h.cell-f.cell>1)&&(t=au(r.columns,t,n[0],i),t&&r._reorderHeader(u,t,i))):o!==c&&yf(l[f.cell],r.columns,o);ct(l,f.cell,h.cell,i,n.length)},_reorderContent:function(t,i,r){var f=this,d=n(),nt=t[0],p=g(t),e=h(nt,u(f.columns)),l=h(i,u(f.columns)),w=h(nt,ot(f.columns)),a=h(i,ot(f.columns)),b=s(f.columns).length,rt=!!i.locked,o=f.footer||f.wrapper.find(".k-grid-footer"),v,y,k,c,it;for(v=y=a,i.hidden&&(rt?(a=f.lockedTable.find("colgroup"),v=f.lockedHeader.find("colgroup"),y=n(f.lockedFooter).find(">table>colgroup")):(a=f.tbody.prev(),v=f.thead.prev(),y=o.find(".k-grid-footer-wrap").find(">table>colgroup"))),f._hasFilterRow()&&ct(f.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),e,l,r,t.length),ct(tt(f.lockedHeader,f.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),w,v,r,p.length),f.options.scrollable&&ct(tt(f.lockedTable,f.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),w,a,r,p.length),o&&o.length&&(ct(tt(f.lockedFooter,o.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),w,y,r,p.length),ct(o.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),e,l,r,t.length)),k=f.tbody.children(":not(.k-grouping-row,.k-detail-row)"),f.lockedTable&&(b>l?b<=e&&nf(f.lockedTable.find(">tbody>tr.k-grouping-row"),f.table.find(">tbody>tr.k-grouping-row"),t.length):b>e&&nf(f.table.find(">tbody>tr.k-grouping-row"),f.lockedTable.find(">tbody>tr.k-grouping-row"),t.length),d=f.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")),c=0,it=k.length;c<it;c+=1)ct(tt(d[c],k[c],">td:not(.k-group-cell,.k-hierarchy-cell)"),e,l,r,t.length)},_autoFitLeafColumn:function(n){this.autoFitColumn(u(this.columns)[n])},autoFitColumn:function(t){var i=this,ot=i.options,e=i.columns,r,it,s,l,lt=i.lockedHeader?k(i.lockedHeader.find(">table>thead")).filter(er).length:0,w,b="col:not(.k-group-col):not(.k-hierarchy-col)",st="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)",v,ft,d,y,f,ht,g,et,nt,p,tt,ct;if(t=typeof t=="number"?e[t]:c(t)?a(ut(e),function(n){return n===t})[0]:a(ut(e),function(n){return n.field===t})[0],t&&rt(t)){for(r=h(t,u(e)),l=t.locked,s=l?i.lockedHeader.children("table"):i.thead.parent(),it=s.find("[data-index='"+r+"']"),v=l?i.lockedTable:i.table,ft=i.footer||n(),i.footer&&i.lockedContent&&(ft=l?i.footer.children(".k-grid-footer-locked"):i.footer.children(".k-grid-footer-wrap")),d=ft.find("table").first(),i.lockedHeader&&!l&&(r-=lt),y=0;y<e.length;y++)if(e[y]===t)break;else e[y].hidden&&r--;if(w=ot.scrollable?s.find(b).eq(r).add(v.children("colgroup").find(b).eq(r)).add(d.find("colgroup").find(b).eq(r)):v.children("colgroup").find(b).eq(r),f=s.add(v).add(d),ht=it.outerWidth(),w.width(""),f.css("table-layout","fixed"),w.width("auto"),f.addClass("k-autofitting"),f.css("table-layout",""),g=Math.ceil(Math.max(it.outerWidth(),v.find("tr:not(.k-grouping-row)").eq(0).children(st).eq(r).outerWidth(),d.find("tr").eq(0).children(st).eq(r).outerWidth()))+1,w.width(g),t.width=g,ot.scrollable){for(et=s.find("col"),p=0,tt=0,ct=et.length;tt<ct;tt+=1)if(nt=et[tt].style.width,nt&&nt.indexOf("%")==-1)p+=parseInt(nt,10);else{p=0;break}p&&f.each(function(){this.style.width=p+"px"})}o.msie&&o.version==8&&(f.css("display","inline-table"),setTimeout(function(){f.css("display","table")},1));f.removeClass("k-autofitting");i.trigger(tr,{column:t,oldWidth:ht,newWidth:g});i._applyLockedContainersWidth();i._syncLockedContentHeight();i._syncLockedHeaderHeight()}},reorderColumn:function(n,i,r){var f=this,y=ur(i,f.columns),l=y?y.columns:f.columns,o=h(i,l),e=l[n],a,c=!!e.locked,p=s(f.columns).length,v;o!==n&&(i.locked||!c||et(f.columns).length!=1)&&(!i.locked||c||p!=1)&&(f._hideResizeHandle(),r===t&&(r=n<o),v=[i],f._reorderHeader(v,e,r),f.lockedHeader&&(hr(f.thead),hr(f.lockedHeader)),e.columns&&(e=u(e.columns),e=e[r?0:e.length-1]),i.columns&&(v=u(i.columns)),f._reorderContent(v,e,r),a=!!i.locked,a=a!=c,i.locked=c,l.splice(r?n:n+1,0,i),l.splice(o<n?o:o+1,1),f._templates(),f._updateColumnCellIndex(),f._updateTablesWidth(),f._applyLockedContainersWidth(),f._syncLockedHeaderHeight(),f._syncLockedContentHeight(),f._updateFirstColumnClass(),a)&&(c?f.trigger(uu,{column:i}):f.trigger(fu,{column:i}))},_updateColumnCellIndex:function(){var n,t=0;this.lockedHeader&&(n=this.lockedHeader.find("thead"),t=cu(n,s(this.columns)));cu(this.thead,et(this.columns),t)},lockColumn:function(n){var t=this.columns,i;(n=typeof n=="number"?t[n]:a(t,function(t){return t.field===n})[0],!n||n.locked||n.hidden)||(i=s(t).length-1,this.reorderColumn(i,n,!1))},unlockColumn:function(n){var t=this.columns,i;(n=typeof n=="number"?t[n]:a(t,function(t){return t.field===n})[0],n&&n.locked&&!n.hidden)&&(i=s(t).length,this.reorderColumn(i,n,!0))},cellIndex:function(t){var i=0;return this.lockedTable&&!n.contains(this.lockedTable[0],t[0])&&(i=u(s(this.columns)).length),n(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)+i},_modelForContainer:function(t){t=n(t);t.is("tr")||this._editMode()==="popup"||(t=t.closest("tr"));var r=t.attr(i.attr("uid"));return this.dataSource.getByUid(r)},_editable:function(){var t=this,f=t.selectable&&t.selectable.options.multiple,i=t.options.editable,e=function(){var i=ht(),r=t._editContainer;!r||n.contains(r[0],i)||r[0]===i||n(i).closest(".k-animation-container").length||t.editable.end()&&t.closeCell()},u;if(i){if(u=t._editMode(),u==="incell"){if(i.update!==!1)t.wrapper.on(l+r,"tr:not(.k-grouping-row) > td",function(i){var r=n(this),u=t.lockedTable&&r.closest("table")[0]===t.lockedTable[0];r.hasClass("k-hierarchy-cell")||r.hasClass("k-detail-cell")||r.hasClass("k-group-cell")||r.hasClass("k-edit-cell")||r.has("a.k-grid-delete").length||r.has("button.k-grid-delete").length||r.closest("tbody")[0]!==t.tbody[0]&&!u||n(i.target).is(":input")||(t.editable?t.editable.end()&&(f&&n(ht()).blur(),t.closeCell(),t.editCell(r)):t.editCell(r))}).on("focusin"+r,function(){n.contains(this,ht())||(clearTimeout(t.timer),t.timer=null)}).on("focusout"+r,function(){t.timer=setTimeout(e,1)})}else if(i.update!==!1)t.wrapper.on(l+r,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(i){i.preventDefault();t.editRow(n(this).closest("tr"))});if(i.destroy!==!1)t.wrapper.on(l+r,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(i){i.preventDefault();i.stopPropagation();t.removeRow(n(this).closest("tr"))});else t.wrapper.on(l+r,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(n){n.stopPropagation();t._confirmation()||n.preventDefault()})}},editCell:function(t){var e;t=n(t);var i=this,r=u(i.columns)[i.cellIndex(t)],f=i._modelForContainer(t);i.closeCell();f&&(!f.editable||f.editable(r.field))&&!r.command&&r.field&&(i._attachModelChange(f),i._editContainer=t,i.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:r.field,format:r.format,editor:r.editor,values:r.values},model:f,target:i,change:function(n){i.trigger(bi,{values:n.values,container:t,model:f})&&n.preventDefault()}}).data("kendoEditable"),e=t.parent().addClass("k-grid-edit-row"),i.lockedContent&&ei(e[0],i._relatedRow(e).addClass("k-grid-edit-row")[0]),i.trigger(oi,{container:t,model:f}))},_adjustLockedHorizontalScrollBar:function(){var n=this.table,t=n.parent(),r=n[0].offsetWidth>t[0].clientWidth?i.support.scrollbar():0;this.lockedContent.height(t.height()-r)},_syncLockedContentHeight:function(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var n=this.lockedHeader.children("table"),t=this.thead.parent();this._adjustRowsHeight(n,t);te(n,t)}},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var n=this,t=function(){if(n.editable){var t=n.editView?n.editView.element:n._editContainer;t&&(t.off(l+r,"a.k-grid-cancel",n._editCancelClickHandler),t.off(l+r,"a.k-grid-update",n._editUpdateClickHandler));n._detachModelChange();n.editable.destroy();n.editable=null;n._editContainer=null;n._destroyEditView()}};n.editable&&(n._editMode()!=="popup"||n._isMobile?t():n._editContainer.data("kendoWindow").bind("deactivate",t).close());n._actionSheet&&(n._actionSheet.destroy(),n._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(n){var t=this;t._modelChangeHandler=function(n){t._modelChange({field:n.field,model:this})};n.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var n=this,i=n._editContainer,t=n._modelForContainer(i);t&&t.unbind(d,n._modelChangeHandler)},closeCell:function(t){var r=this,f=r._editContainer,s,h,e,o;f&&((s=f.closest("tr").attr(i.attr("uid")),o=r.dataSource.getByUid(s),t&&r.trigger("cancel",{container:f,model:o}))||(f.removeClass("k-edit-cell"),h=u(r.columns)[r.cellIndex(f)],e=f.parent().removeClass("k-grid-edit-row"),r._destroyEditable(),r._displayCell(f,h,o),f.hasClass("k-dirty-cell")&&n('<span class="k-dirty"/>').prependTo(f),r.lockedContent&&ei(e.css("height","")[0],r._relatedRow(e).css("height","")[0])))},_displayCell:function(n,t,r){var u=this,o={storage:{},count:0},h=f({},i.Template,u.options.templateSettings),s=i.template(u._cellTmpl(t,o),h);o.count>0&&(s=e(s,o.storage));n.empty().html(s(r));u.angular("compile",function(){return{elements:n,data:[{dataItem:r}]}})},removeRow:function(n){this._confirmation(n)&&this._removeRow(n)},_removeRow:function(t){var i=this,r,u=i._editMode();u!=="incell"&&i.cancelRow();t=n(t);i.lockedContent&&(t=t.add(i._relatedRow(t)));t=t.hide();r=i._modelForContainer(t);r&&!i.trigger(wr,{row:t,model:r})?(i.dataSource.remove(r),(u==="inline"||u==="popup")&&i.dataSource.sync()):u==="incell"&&i._destroyEditable()},_editMode:function(){var t="incell",n=this.options.editable;return n!==!0&&(t=typeof n=="string"?n:n.mode||t),t},editRow:function(t){var o,f=this,s,h;if(t instanceof i.data.ObservableObject?o=t:(t=n(t),o=f._modelForContainer(t)),s=f._editMode(),f.cancelRow(),o&&(f._attachModelChange(o),s==="popup"?f._createPopupEditor(o):s==="inline"?f._createInlineEditor(t,o):s==="incell"&&n(t).children(v).each(function(){var t=n(this),i=u(f.columns)[t.index()];return o=f._modelForContainer(t),o&&(!o.editable||o.editable(i.field))&&i.field?(f.editCell(t),!1):void 0}),h=f.editView?f.editView.element:f._editContainer,h)){this._editCancelClickHandler||(this._editCancelClickHandler=e(this._editCancelClick,this));h.on(l+r,"a.k-grid-cancel",this._editCancelClickHandler);this._editUpdateClickHandler||(this._editUpdateClickHandler=e(this._editUpdateClick,this));h.on(l+r,"a.k-grid-update",this._editUpdateClickHandler)}},_editUpdateClick:function(n){n.preventDefault();n.stopPropagation();this.saveRow()},_editCancelClick:function(t){var i=this,u=i.options.navigatable,f=i.editable.options.model,e=i.editView?i.editView.element:i._editContainer,r;(t.preventDefault(),t.stopPropagation(),i.trigger("cancel",{container:e,model:f}))||(r=i.items().index(n(i.current()).parent()),i.cancelRow(),u&&(i.current(i.items().eq(r).children().filter(vt).first()),w(i.table,!0)))},_createPopupEditor:function(t){var r=this,s="<div "+i.attr("uid")+'="'+t.uid+'" class="k-popup-edit-form'+(r._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',o,h,ft=[],l,k,d,it,rt,a,g=u(r.columns),v,ut=r.options.editable,y=ut.template,nt=c(ut)?ut.window:{},et=f({},i.Template,r.options.templateSettings),tt,b;if(nt=nt||{},y)for(typeof y===p&&(y=window.unescape(y)),s+=i.template(y,et)(t),l=0,k=g.length;l<k;l++)o=g[l],o.command&&(a=lr(o.command,"edit"),a&&(h=a));else for(l=0,k=g.length;l<k;l++)o=g[l],o.command?o.command&&(a=lr(o.command,"edit"),a&&(h=a)):(s+='<div class="k-edit-label"><label for="'+o.field+'">'+(o.title||o.field||"")+"<\/label><\/div>",(!t.editable||t.editable(o.field))&&o.field?(ft.push({field:o.field,format:o.format,editor:o.editor,values:o.values}),s+="<div "+i.attr("container-for")+'="'+o.field+'" class="k-edit-field"><\/div>'):(tt={storage:{},count:0},d=i.template(r._cellTmpl(o,tt),et),tt.count>0&&(d=e(d,tt.storage)),s+='<div class="k-edit-field">'+d(t)+"<\/div>"));h&&c(h)&&(h.text&&c(h.text)&&(it=h.text.update,rt=h.text.cancel),h.attr&&(v=h.attr));r._isMobile?(s+="<\/div><\/div>",r.editView=r.pane.append("<div data-"+i.ns+'role="view" data-'+i.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+i.ns+'role="header" class="k-header">'+r._createButton({name:"update",text:it,attr:v})+(nt.title||"Edit")+r._createButton({name:"canceledit",text:rt,attr:v})+"<\/div>"+s+"<\/div>"),b=r._editContainer=r.editView.element.find(".k-popup-edit-form")):(s+='<div class="k-edit-buttons k-state-default">',s+=r._createButton({name:"update",text:it,attr:v})+r._createButton({name:"canceledit",text:rt,attr:v}),s+="<\/div><\/div><\/div>",b=r._editContainer=n(s).appendTo(r.wrapper).eq(0).kendoWindow(f({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(i){if(i.userTriggered){if(i.sender.element.focus(),r.trigger("cancel",{container:b,model:t})){i.preventDefault();return}var u=r.items().index(n(r.current()).parent());r.cancelRow();r.options.navigatable&&(r.current(r.items().eq(u).children().filter(vt).first()),w(r.table,!0))}}},nt)));r.editable=r._editContainer.kendoEditable({fields:ft,model:t,clearContainer:!1,target:r}).data("kendoEditable");r._isMobile&&b.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){n(this).next().children("input").click()});r._openPopUpEditor();r.trigger(oi,{container:b,model:t})},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(t,r){var f=this,e,s,o,h=[];f.lockedContent&&(t=t.add(f._relatedRow(t)));t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(s=n(this),e=u(f.columns)[f.cellIndex(s)],!e.command&&e.field&&(!r.editable||r.editable(e.field)))h.push({field:e.field,format:e.format,editor:e.editor,values:e.values}),s.attr(i.attr("container-for"),e.field),s.empty();else if(e.command&&(o=lr(e.command,"edit"),o)){s.empty();var l,a,t;c(o)&&(o.text&&c(o.text)&&(l=o.text.update,a=o.text.cancel),o.attr&&(t=o.attr));n(f._createButton({name:"update",text:l,attr:t})+f._createButton({name:"canceledit",text:a,attr:t})).appendTo(s)}});f._editContainer=t;f.editable=new i.ui.Editable(t.addClass("k-grid-edit-row"),{target:f,fields:h,model:r,clearContainer:!1});t.length>1&&(ei(t[0],t[1]),f._applyLockedContainersWidth());f.trigger(oi,{container:t,model:r})},cancelRow:function(){var n=this,t=n._editContainer,r;t&&(r=n._modelForContainer(t),n._destroyEditable(),n.dataSource.cancelChanges(r),n._editMode()!=="popup"?n._displayRow(t):n._displayRow(n.tbody.find("["+i.attr("uid")+"="+r.uid+"]")))},saveRow:function(){var n=this,t=n._editContainer,r=n._modelForContainer(t),i=n.editable;t&&i&&i.end()&&!n.trigger(bi,{container:t,model:r})&&n.dataSource.sync()},_displayRow:function(t){var i=this,f=i._modelForContainer(t),u,r,e,s=t.hasClass("k-state-selected"),o=t.hasClass("k-alt");f&&(i.lockedContent&&(u=n((o?i.lockedAltRowTemplate:i.lockedRowTemplate)(f)),i._relatedRow(t.last()).replaceWith(u)),i.angular("cleanup",function(){return{elements:t.get()}}),r=n((o?i.altRowTemplate:i.rowTemplate)(f)),t.replaceWith(r),i.angular("compile",function(){return{elements:r.get(),data:[{dataItem:f}]}}),s&&i.options.selectable&&i.select(r.add(u)),u&&ei(r[0],u[0]),e=r.next(),e.hasClass("k-detail-row")&&e.is(":visible")&&r.find(".k-hierarchy-cell .k-icon").removeClass("k-plus").addClass("k-minus"))},_showMessage:function(t,r){var u=this;if(!u._isMobile)return window.confirm(t.title);var f=i.template('<ul><li class="km-actionsheet-title">#:title#<\/li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#<\/a><\/li><\/ul>'),e=n(f(t)).appendTo(u.view.element),o=u._actionSheet=new i.mobile.ui.ActionSheet(e,{cancel:t.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#<\/a><\/li>',close:function(){this.destroy()},command:function(t){var i=n(t.currentTarget).parent();i.hasClass("km-actionsheet-cancel")||u._removeRow(r)},popup:u._actionSheetPopupOptions});return o.open(r),!1},_confirmation:function(n){var t=this,r=t.options.editable,i=r===!0||typeof r===p?t.options.messages.editable.confirmation:r.confirmation;return i!==!1&&i!=null?(typeof i===yt&&(i=i(t._modelForContainer(n))),t._showMessage({confirmDelete:r.confirmDelete||t.options.messages.editable.confirmDelete,cancelDelete:r.cancelDelete||t.options.messages.editable.cancelDelete,title:i===!0?t.options.messages.editable.confirmation:i},n)):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var n=this;(n.editable&&n.editable.end()||!n.editable)&&!n.trigger(dr)&&n.dataSource.sync()},addRow:function(){var n=this,r,t=n.dataSource,f=n._editMode(),s=n.options.editable.createAt||"",e=t.pageSize(),o=t.view()||[];if(n.editable&&n.editable.end()||!n.editable){f!="incell"&&n.cancelRow();r=t.indexOf(o[0]);s.toLowerCase()=="bottom"&&(r+=o.length,e&&!t.options.serverPaging&&e<=o.length&&(r-=1));r<0&&(r=t.page()>t.totalPages()?(t.page()-1)*e:0);var h=t.insert(r,{}),l=h.uid,a=n.lockedContent?n.lockedTable:n.table,u=a.find("tr["+i.attr("uid")+"="+l+"]"),c=u.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(n._firstEditableColumnIndex(u));f==="inline"&&u.length?n.editRow(u):f==="popup"?n.editRow(h):c.length&&n.editCell(c);s.toLowerCase()=="bottom"&&n.lockedContent&&(n.lockedContent[0].scrollTop=n.content[0].scrollTop=n.content[0].offsetHeight)}},_firstEditableColumnIndex:function(n){for(var f=this,t,e=u(f.columns),r=f._modelForContainer(n),i=0,o=e.length;i<o;i++)if(t=e[i],r&&(!r.editable||r.editable(t.field))&&!t.command&&t.field&&t.hidden!==!0)return i;return-1},_toolbar:function(){var t=this,s=t.wrapper,u=t.options.toolbar,o=t.options.editable,f;if(u){if(f=t.wrapper.find(".k-grid-toolbar"),f.length||(ef(u)||(u=typeof u===p?u:t._toolbarTmpl(u).replace(si,"\\#"),u=e(i.template(u),t)),f=n('<div class="k-header k-grid-toolbar" />').html(u({})).prependTo(s),t.angular("compile",function(){return{elements:f.get()}})),o&&o.create!==!1)f.on(l+r,".k-grid-add",function(n){n.preventDefault();t.addRow()}).on(l+r,".k-grid-cancel-changes",function(n){n.preventDefault();t.cancelChanges()}).on(l+r,".k-grid-save-changes",function(n){n.preventDefault();t.saveChanges()});f.on(l+r,".k-grid-excel",function(n){n.preventDefault();t.saveAsExcel()});f.on(l+r,".k-grid-pdf",function(n){n.preventDefault();t.saveAsPDF()})}},_toolbarTmpl:function(n){var u=this,t,i,r="";if(at(n))for(t=0,i=n.length;t<i;t++)r+=u._createButton(n[t]);return r},_createButton:function(n){var s=n.template||cf,r=typeof n===p?n:n.name||n.text,l=b[r]?b[r].className:"k-grid-"+(r||"").replace(/\s/g,""),u={className:l,text:r,imageClass:"",attr:"",iconClass:""},o=this.options.messages.commands,e;if(!r&&!(c(n)&&n.template))throw new Error("Custom commands should have name specified");return c(n)?(n.className&&h(u.className,n.className.split(" "))<0?n.className+=" "+u.className:n.className===t&&(n.className=u.className),r==="edit"&&c(n.text)&&(n=f(!0,{},n),n.text=n.text.edit),n.attr&&(c(n.attr)&&(n.attr=ti(n.attr)),typeof n.attr===p&&(e=n.attr.match(/class="(.+?)"/),e&&h(e[1],n.className.split(" "))<0&&(n.className+=" "+e[1]))),u=f(!0,u,b[r],{text:o[r]},n)):u=f(!0,u,b[r],{text:o[r]}),i.template(s)(u)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var t=this;if(t._groupableClickHandler?t.table.add(t.lockedTable).off(l+r,t._groupableClickHandler):t._groupableClickHandler=function(i){var r=n(this),u=r.closest("tr");r.hasClass("k-i-collapse")?t.collapseGroup(u):t.expandGroup(u);i.preventDefault();i.stopPropagation()},t._isLocked())t.lockedTable.on(l+r,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler);else t.table.on(l+r,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler);t._attachGroupable()},_attachGroupable:function(){var t=this,r=t.wrapper,u=t.options.groupable,e=wi+"["+i.attr("field")+"]",o=t.content?".k-grid-header:first "+e:"table:first>.k-grid-header "+e;u&&u.enabled!==!1&&(r.has("div.k-grouping-header")[0]||n("<div>&nbsp;<\/div>").addClass("k-grouping-header").prependTo(r),t.groupable&&t.groupable.destroy(),t.groupable=new lt.Groupable(r,f({},u,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:o,filter:o,allowDrag:t.options.reorderable})))},_continuousItems:function(t,i){var r;if(this.lockedContent){var u=this,o=u.table.add(u.lockedTable),h=n(t,o[0]),c=n(t,o[1]),f=i?s(u.columns).length:1,l=i?u.columns.length-f:1,e=[];for(r=0;r<h.length;r+=f)vr.apply(e,h.slice(r,r+f)),vr.apply(e,c.splice(0,l));return e}},_selectable:function(){var t=this,s,f,u=[],c=t._isLocked(),o=t.options.selectable,e,l;if(o&&(t.selectable&&t.selectable.destroy(),o=i.ui.Selectable.parseOptions(o),s=o.multiple,f=o.cell,t._hasDetails()&&(u[u.length]=".k-detail-row"),(t.options.groupable||t._hasFooters())&&(u[u.length]=".k-grouping-row,.k-group-footer"),u=u.join(","),u!==""&&(u=":not("+u+")"),e=t.table,c&&(e=e.add(t.lockedTable)),l=">"+(f?of:"tbody>tr"+u),t.selectable=new i.ui.Selectable(e,{filter:l,aria:!0,multiple:s,change:function(){t.trigger(d)},useAllItems:c&&s&&f,relatedTarget:function(i){var e,r,u,o;if(!f&&c){for(r=n(),u=0,o=i.length;u<o;u++)e=t._relatedRow(i[u]),h(e[0],i)<0&&(r=r.add(e));return r}},continuousItems:function(){return t._continuousItems(l,f)}}),t.options.navigatable))e.on("keydown"+r,function(i){var r=t.current(),u=i.target;if(i.keyCode===y.SPACEBAR&&n.inArray(u,e)>-1&&!r.is(".k-edit-cell,.k-header")&&r.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(i.preventDefault(),i.stopPropagation(),r=f?r:r.parent(),c&&!f&&(r=r.add(t._relatedRow(r))),s)if(i.ctrlKey){if(r.hasClass(tu)){r.removeClass(tu);t.trigger(d);return}}else t.selectable.clear();else t.selectable.clear();t.selectable.value(r)}})},_clipboard:function(){var t=this.options,i=t.selectable,n;if(i&&t.allowCopy){if(n=this,!t.navigatable)n.table.add(n.lockedTable).attr("tabindex",0).on("mousedown"+r+" keydown"+r,".k-detail-cell",function(n){n.target!==n.currentTarget&&n.stopImmediatePropagation()}).on("mousedown"+r,it+">"+vt,e(rf,n));n.copyHandler=e(n.copySelection,n);n.updateClipBoardState=function(){n.areaClipBoard&&n.areaClipBoard.val(n.getTSV()).focus().select()};n.bind("change",n.updateClipBoardState);n.wrapper.on("keydown",n.copyHandler);n.clearAreaHandler=e(n.clearArea,n);n.wrapper.on("keyup",n.clearAreaHandler)}},copySelection:function(t){t instanceof jQuery.Event&&!t.ctrlKey&&!t.metaKey||n(t.target).is("input:visible,textarea:visible")||window.getSelection&&window.getSelection().toString()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=n("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSV:function(){var i=this,r=i.select(),c="\t",o=i.options.allowCopy,l=!0,u,e;if(n.isPlainObject(o)&&o.delimeter&&(c=o.delimeter),u="",r.length){r.eq(0).is("tr")&&(r=r.find("td:not(.k-group-cell)"));l&&r.filter(":visible");var t=[],h=this.columns.length,a=i._isLocked()&&s(i.columns).length,f=!0;n.each(r,function(r,u){var s;u=n(u);var c=u.closest("tr"),o=c.index(),e=u.index();l&&(e-=u.prevAll(":hidden").length);a&&f&&(f=n.contains(i.lockedTable[0],u[0]));i._groups()&&f&&(e-=i._groups());e=f?e:e+a;h>e&&(h=e);s=u.text();t[o]||(t[o]=[]);t[o][e]=s});e=t.length;t=n.each(t,function(n,i){i&&(t[n]=i.slice(h),e>n&&(e=n))});n.each(t.slice(e),function(n,t){u+=t?t.join(c)+"\r\n":"\r\n"})}return u},clearArea:function(t){this.areaClipBoard&&t&&t.target===this.areaClipBoard[0]&&(this.options.navigatable?n(this.current()).closest("table").focus():this.table.focus());this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_minScreenSupport:function(){var t=this.hideMinScreenCols();if(t){this.minScreenResizeHandler=e(this.hideMinScreenCols,this);n(window).on("resize",this.minScreenResizeHandler)}},hideMinScreenCols:function(){for(var u=this.columns,f=!1,e=window.innerWidth>0?window.innerWidth:screen.width,i,r,n=0;n<u.length;n++)i=u[n],r=i.minScreenWidth,r!==t&&r!==null&&(f=!0,r>e?this.hideColumn(i):this.showColumn(i));return f},_relatedRow:function(t){var r=this.lockedTable,i,u;return(t=n(t),!r)?t:(i=t.closest(this.table.add(this.lockedTable)),u=i.find(">tbody>tr").index(t),i=i[0]===this.table[0]?r:this.table,i.find(">tbody>tr").eq(u))},clearSelection:function(){var n=this;n.selectable.clear();n.trigger(d)},select:function(t){var r=this,i=r.selectable;if(t=n(t),t.length){i.options.multiple||(i.clear(),t=t.first());r._isLocked()&&(t=t.add(t.map(function(){return r._relatedRow(this)})));i.value(t);return}return i.value()},_updateCurrentAttr:function(t,i){var r=n(t).data("headerId"),u;n(t).removeClass(dt).removeAttr("aria-describedby").closest("table").removeAttr("aria-activedescendant");r?(r=r.replace(this._cellId,""),n(t).attr("id",r)):n(t).removeAttr("id");i.data("headerId",i.attr("id")).attr("id",this._cellId).addClass(dt).closest("table").attr("aria-activedescendant",this._cellId);i.closest("tr").hasClass("k-grouping-row")||i.hasClass("k-header")?i.attr("aria-describedby",this._cellId):(u=this.columns[this.cellIndex(i)],u&&(r=u.headerAttributes.id),i.attr("aria-describedby",r+" "+this._cellId));this._current=i},_scrollCurrent:function(){var i=this._current,u=this.options.scrollable,e;if(i&&u){var t=i.parent(),f=t.closest("table").parent(),o=f.is(".k-grid-content-locked,.k-grid-header-locked"),s=f.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"),r=n(this.content).find(">.k-virtual-scrollable-wrap").andSelf().last()[0];s&&(u.virtual?(e=Math.max(h(t[0],this._items(t.parent())),0),this._rowVirtualIndex=this.virtualScrollable.itemIndex(e),this.virtualScrollable.scrollIntoView(t)):this._scrollTo(this._relatedRow(t)[0],r));this.lockedContent&&(this.lockedContent[0].scrollTop=r.scrollTop);o||this._scrollTo(i[0],r)}},current:function(t){var i=this._current;return t=n(t),t.length&&(i&&i[0]===t[0]||(this._updateCurrentAttr(i,t),this._scrollCurrent())),this._current},_removeCurrent:function(){this._current&&(this._current.removeClass(dt),this._current=null)},_scrollTo:function(t,r){var v=t.tagName.toLowerCase(),u=v==="td"||v==="th",e=t[u?"offsetLeft":"offsetTop"],y=t[u?"offsetWidth":"offsetHeight"],f=r[u?"scrollLeft":"scrollTop"],h=r[u?"clientWidth":"clientHeight"],p=e+y,s=0,c=0,l=0,a;nt&&u&&(a=n(t).closest("table")[0],o.msie?c=a.offsetLeft:o.mozilla&&(l=a.offsetLeft-i.support.scrollbar()));f=Math.abs(f+c-l);s=f>e?e:p>f+h?y<=h?p-h:e:f;s=Math.abs(s+c)+l;r[u?"scrollLeft":"scrollTop"]=s},_navigatable:function(){var t=this;if(t.options.navigatable){var f=t.table.add(t.lockedTable),o=t.thead.parent().add(n(">table",t.lockedHeader)),u=f;t.options.scrollable&&(u=u.add(o),o.attr(gt,-1));this._navigatableTables=u;u.off("mousedown"+r+" focus"+r+" focusout"+r+" keydown"+r);o.on("keydown"+r,e(t._openHeaderMenu,t)).find("a.k-link").attr("tabIndex",-1);f.attr(gt,ft.max(f.attr(gt)||0,0)).on("mousedown"+r+" keydown"+r,".k-detail-cell",function(n){n.target!==n.currentTarget&&n.stopImmediatePropagation()});u.on(i.support.touch?"touchstart"+r:"mousedown"+r,it+">"+vt,e(rf,t)).on("focus"+r,e(t._tableFocus,t)).on("focusout"+r,e(t._tableBlur,t)).on("keydown"+r,e(t._tableKeyDown,t))}},_openHeaderMenu:function(n){n.altKey&&n.keyCode==y.DOWN&&(this.current().find(".k-grid-filter, .k-header-column-menu").click(),n.stopImmediatePropagation())},_setTabIndex:function(n){this._navigatableTables.attr(gt,-1);n.attr(gt,0)},_tableFocus:function(t){if(!i.support.touch){var r=this.current(),u=n(t.currentTarget);r&&r.is(":visible")?r.addClass(dt):this.current(u.find(pr));this._setTabIndex(u)}},_tableBlur:function(){var n=this.current();n&&n.removeClass(dt)},_tableKeyDown:function(t){var i=this.current(),e=this.virtualScrollable&&this.virtualScrollable.fetching(),f=n(t.target),u=!t.isDefaultPrevented()&&!f.is(":button,a,:input,a>.k-icon"),r;if(e){t.preventDefault();return}(i=i?i:n(this.lockedTable).add(this.table).find(pr),i.length)&&(r=!1,u&&t.keyCode==y.UP&&(r=this._moveUp(i)),u&&t.keyCode==y.DOWN&&(r=this._moveDown(i)),u&&t.keyCode==(nt?y.LEFT:y.RIGHT)&&(r=this._moveRight(i,t.altKey)),u&&t.keyCode==(nt?y.RIGHT:y.LEFT)&&(r=this._moveLeft(i,t.altKey)),u&&t.keyCode==y.PAGEDOWN&&(r=this._handlePageDown()),u&&t.keyCode==y.PAGEUP&&(r=this._handlePageUp()),(t.keyCode==y.ENTER||t.keyCode==y.F2)&&(r=this._handleEnterKey(i,t.currentTarget,f)),t.keyCode==y.ESC&&(r=this._handleEscKey(i,t.currentTarget)),t.keyCode==y.TAB&&(r=this._handleTabKey(i,t.currentTarget,t.shiftKey)),r&&(t.preventDefault(),t.stopPropagation()))},_moveLeft:function(n,t){var r,u,f=n.parent(),i=f.parent();return t?this.collapseRow(f):(u=i.find(it).index(f),r=this._prevHorizontalCell(i,n,u),r[0]||(i=this._horizontalContainer(i),r=this._prevHorizontalCell(i,n,u),r[0]!==n[0]&&w(i.parent(),!0)),this.current(r)),!0},_moveRight:function(n,t){var r,u,f=n.parent(),i=f.parent();return t?this.expandRow(f):(u=i.find(it).index(f),r=this._nextHorizontalCell(i,n,u),r[0]||(i=this._horizontalContainer(i,!0),r=this._nextHorizontalCell(i,n,u),r[0]!==n[0]&&w(i.parent(),!0)),this.current(r)),!0},_moveUp:function(n){var t=n.parent().parent(),i=this._prevVerticalCell(t,n);return i[0]||(t=this._verticalContainer(t,!0),i=this._prevVerticalCell(t,n),i[0]&&w(t.parent(),!0)),this.current(i),!0},_moveDown:function(n){var t=n.parent().parent(),i=this._nextVerticalCell(t,n);return i[0]||(t=this._verticalContainer(t),i=this._nextVerticalCell(t,n),i[0]&&w(t.parent(),!0)),this.current(i),!0},_handlePageDown:function(){return this.options.pageable?(this.dataSource.page(this.dataSource.page()+1),!0):!1},_handlePageUp:function(){return this.options.pageable?(this.dataSource.page(this.dataSource.page()-1),!0):!1},_handleTabKey:function(t,i,r){var f=this.options.editable&&this._editMode()=="incell",u;return!f||t.is("th")?!1:(u=n(ht()).closest(".k-edit-cell"),u[0]&&u[0]!==t[0]&&(t=u),u=this._tabNext(t,i,r),u.length)?(this._handleEditing(t,u,u.closest("table")),!0):!1},_handleEscKey:function(t,i){var r=ht(),f=this._editMode()=="incell",u;return ie(t)?(f?this.closeCell(!0):(u=n(t).parent().index(),r&&r.blur(),this.cancelRow(),u>=0&&this.current(this.items().eq(u).children(vt).first())),o.msie&&o.version<9&&document.body.focus(),w(i,!0),!0):t.has(r).length?(w(i,!0),!0):!1},_toggleCurrent:function(n){var t=n.parent();return t.is(".k-master-row,.k-grouping-row")?(t.find(".k-icon:first").click(),!0):!1},_handleEnterKey:function(t,i,r){var e=this.options.editable,u=r.closest("[role=gridcell]"),f;return(r.is("table")||n.contains(t[0],r[0])||(t=u),t.is("th"))?(t.find(".k-link").click(),!0):!e&&this._toggleCurrent(t)?!0:(f=t.find(":kendoFocusable:first"),f[0]&&!t.hasClass("k-edit-cell")&&t.hasClass("k-state-focused"))?(f.focus(),!0):e&&!r.is(":button,.k-button,textarea")?(u[0]||(u=t),this._handleEditing(u,!1,i),!0):!1},_nextHorizontalCell:function(n,t,i){var f=t.nextAll(v),r,e,u;return!f.length&&(r=n.find(it),e=r.index(t.parent()),e==-1)?t.hasClass("k-header")?(u=[],li([s(this.columns)[0]],ui(r.eq(0).children().first()),u,0,0),u[i])?u[i][0]:t:t.parent().hasClass("k-filter-row")?r.last().children(v).first():r.eq(i).children(v).first():f.first()},_prevHorizontalCell:function(n,t,i){var e=t.prevAll(v),r,o,u,f;return!e.length&&(r=n.find(it),o=r.index(t.parent()),o==-1)?t.hasClass("k-header")?(u=[],f=s(this.columns),li([f[f.length-1]],ui(r.eq(0).children().last()),u,0,0),u[i])?u[i][0]:t:t.parent().hasClass("k-filter-row")?r.last().children(v).last():r.eq(i).children(v).last():e.first()},_currentDataIndex:function(n,i){var r=i.attr("data-index"),u;return r?(u=s(this.columns).length,u&&!n.closest("div").hasClass("k-grid-content-locked")[0])?r-u:r:t},_prevVerticalCell:function(t,i){var r,u=i.parent(),o=t.children(it),e=o.index(u),f=this._currentDataIndex(t,i);if(f||i.hasClass("k-header"))return r=yu(i),r.eq(r.length-2);if(f=u.children(v).index(i),u.hasClass("k-filter-row"))return k(t).eq(f);if(e==-1){if(u=t.find(".k-filter-row"),!u[0])return k(t).eq(f)}else u=e===0?n():o.eq(e-1);return(r=u.children(v),r.length>f)?r.eq(f):r.eq(0)},_nextVerticalCell:function(n,i){var u,f=i.parent(),e=n.children(it),o=e.index(f),r=this._currentDataIndex(n,i);return o!=-1&&r===t&&i.hasClass("k-header")?ui(i).eq(1):(r=r?parseInt(r,10):f.children(v).index(i),f=o==-1?e.eq(0):e.eq(o+i[0].rowSpan),u=f.children(v),u.length>r)?u.eq(r):u.eq(0)},_verticalContainer:function(n,t){var r=n.parent(),u=this._navigatableTables.length,f=Math.floor(u/2),i=h(r[0],this._navigatableTables);return t&&(f*=-1),i+=f,(i>=0||i<u)&&(r=this._navigatableTables.eq(i)),r.find(t?"thead":"tbody")},_horizontalContainer:function(n,t){var r=this._navigatableTables.length,u,i;return r<=2?n:(u=n.parent(),i=h(u[0],this._navigatableTables),i+=t?1:-1,t&&(i==2||i==r))?n:!t&&(i==1||i<0)?n:this._navigatableTables.eq(i).find("thead, tbody")},_tabNext:function(n,t,i){var u=!0,r=i?n.prevAll(v+":first"):n.nextAll(":visible:first");return r.length||(r=n.parent(),this.lockedTable&&(u=i&&t==this.lockedTable[0]||!i&&t==this.table[0],r=this._relatedRow(r)),u&&(r=r[i?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),r=r.children(v+(i?":last":":first"))),r},_handleEditing:function(t,i,r){var u=this,f=n(ht()),e=u._editMode(),l=o.msie,a=l&&o.version<9,s=u._editContainer,h,c;if(r=n(r),c=e=="incell"?t.hasClass("k-edit-cell"):t.parent().hasClass("k-grid-edit-row"),u.editable){if(n.contains(s[0],f[0])&&(o.opera||a?f.change().triggerHandler("blur"):(f.blur(),l&&f.blur())),!u.editable){w(r);return}if(u.editable.end())e=="incell"?u.closeCell():(u.saveRow(),c=!0);else{e=="incell"?u.current(s):u.current(s.children().filter(v).first());h=s.find(":kendoFocusable:first")[0];h&&h.focus();return}}i&&u.current(i);a&&document.body.focus();w(r,!0);(c||i)&&!i||(e=="incell"?u.editCell(u.current()):u.editRow(u.current().parent()))},_wrapper:function(){var n=this,r=n.table,i=n.options.height,t=n.element;t.is("div")||(t=t.wrap("<div/>").parent());n.wrapper=t.addClass("k-grid k-widget");i&&(n.wrapper.css(ir,i),r.css(ir,"auto"));n._initMobile()},_initMobile:function(){var r=this.options,t=this,u;this._isMobile=r.mobile===!0&&i.support.mobileOS||r.mobile==="phone"||r.mobile==="tablet";this._isMobile&&(u=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+i.ns+'role="view" data-'+i.ns+'init-widgets="false"><\/div>').parent(),this.pane=i.mobile.ui.Pane.wrap(u),this.view=this.pane.view(),this._actionSheetPopupOptions=n(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},r.height&&this.pane.element.parent().css(ir,r.height),this._editAnimation="slide",this.view.bind("show",function(){t._isLocked()&&(t._updateTablesWidth(),t._applyLockedContainersWidth(),t._syncLockedContentHeight(),t._syncLockedHeaderHeight(),t._syncLockedFooterHeight())}))},_tbody:function(){var i=this,r=i.table,t;t=r.find(">tbody");t.length||(t=n("<tbody/>").appendTo(r));i.tbody=t.attr("role","rowgroup")},_scrollable:function(){var t=this,f,e,l=t.options,o=l.scrollable,h=o!==!0&&o.virtual&&!t.virtualScrollable,c=!i.support.kineticScrollNeeded||h?i.support.scrollbar():0,s,u;if(o)if(f=t.wrapper.children(".k-grid-header"),f[0]||(f=n('<div class="k-grid-header" />').insertBefore(t.table)),f.css(nt?"padding-left":"padding-right",o.virtual?c+1:c),e=n('<table role="grid" />'),ni&&e.attr("cellspacing",0),e.width(t.table[0].style.width),e.append(t.thead),f.empty().append(n('<div class="k-grid-header-wrap" />').append(e)),t.content=t.table.parent(),t.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")&&(t.content=t.content.parent()),t.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(t.content=t.table.wrap('<div class="k-grid-content" />').parent()),h&&(t.virtualScrollable=new ou(t.content,{dataSource:t.dataSource,itemHeight:function(){return t._averageRowHeight()}})),t.scrollables=f.children(".k-grid-header-wrap"),s=t.wrapper.find(".k-grid-footer"),s.length&&(t.scrollables=t.scrollables.add(s.children(".k-grid-footer-wrap"))),o.virtual)t.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+r).bind("scroll"+r,function(){t.scrollables.scrollLeft(this.scrollLeft);t.lockedContent&&(t.lockedContent[0].scrollTop=this.scrollTop)});else if(t.content.unbind("scroll"+r).bind("scroll"+r,function(){t.scrollables.scrollLeft(this.scrollLeft);t.lockedContent&&(t.lockedContent[0].scrollTop=this.scrollTop)}),u=t.content.data("kendoTouchScroller"),u&&u.destroy(),u=i.touchScroller(t.content),u&&u.movable){t.touchScroller=u;u.movable.bind("change",function(n){t.scrollables.scrollLeft(-n.sender.x);t.lockedContent&&t.lockedContent.scrollTop(-n.sender.y)});t.one(nr,function(n){n.sender.wrapper.addClass("k-grid-backface")})}},_renderNoRecordsContent:function(){var t=this,i;t.options.noRecords&&(i=t.table.parent().children("."+iu),i.length&&i.remove(),t.dataSource&&t.dataSource.view().length||n(t.noRecordsTemplate({})).insertAfter(t.table))},_setContentWidth:function(t){var i=this,f="k-grid-content-expander",o='<div class="'+f+'"><\/div>',u=i.resizable,r;i.options.scrollable&&i.wrapper.is(":visible")&&(r=i.table.parent().children("."+f),i._setContentWidthHandler=e(i._setContentWidth,i),i.dataSource&&i.dataSource.view().length?r[0]&&(r.remove(),u&&u.unbind("resize",i._setContentWidthHandler)):(r[0]||(r=n(o).appendTo(i.table.parent()),u&&u.bind("resize",i._setContentWidthHandler)),i.thead&&(r.width(i.thead.width()),t&&i.content.scrollLeft(t))),i._applyLockedContainersWidth())},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var r=this.thead.parent(),u=r.parent(),t=this.wrapper[0].clientWidth,e=this._groups(),o=i.support.scrollbar(),h=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),c=r.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),n=vu(h),s=vu(c),f;e>0&&(n+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*e);n>=t&&(n=t-3*o);this.lockedHeader.add(this.lockedContent).width(n);u[0].style.width=u.parent().width()-n-2+"px";r.add(this.table).width(s);this.virtualScrollable&&(t-=o);this.content[0].style.width=t-n-2+"px";this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(n),f=this.footer.find(".k-grid-footer-wrap"),f[0].style.width=u[0].clientWidth+"px",f.children().first().width(s))}},_setContentHeight:function(){var n=this,u=n.options,t=n.wrapper.innerHeight(),e=n.wrapper.children(".k-grid-header"),r=i.support.scrollbar(),f;u.scrollable&&n.wrapper.is(":visible")&&(t-=e.outerHeight(),n.pager&&(t-=n.pager.element.outerHeight()),u.groupable&&(t-=n.wrapper.children(".k-grouping-header").outerHeight()),u.toolbar&&(t-=n.wrapper.children(".k-grid-toolbar").outerHeight()),n.footerTemplate&&(t-=n.wrapper.children(".k-grid-footer").outerHeight()),f=function(n){var t,i;return n[0].style.height?!0:(t=n.height(),n.height("auto"),i=n.height(),t!=i)?(n.height(""),!0):(n.height(""),!1)},f(n.wrapper)&&(t>r*2?(n.lockedContent&&(r=n.table[0].offsetWidth>n.table.parent()[0].clientWidth?r:0,n.lockedContent.height(t-r)),n.content.height(t)):n.content.height(r*2+1)))},_averageRowHeight:function(){var n=this,i=n._items(n.tbody).length,t=n._rowHeight,r;return i===0?t:(n._rowHeight||(n._rowHeight=t=n.table.outerHeight()/i,n._sum=t,n._measures=1),r=n.table.outerHeight()/i,t!==r&&(n._measures++,n._sum+=r,n._rowHeight=n._sum/n._measures),t)},_dataSource:function(){var n=this,u=n.options,r,i=u.dataSource;i=at(i)?{data:i}:i;c(i)&&(f(i,{table:n.table,fields:n.columns}),r=u.pageable,c(r)&&r.pageSize!==t&&(i.pageSize=r.pageSize));n.dataSource&&n._refreshHandler?n.dataSource.unbind(d,n._refreshHandler).unbind(yi,n._progressHandler).unbind(pi,n._errorHandler):(n._refreshHandler=e(n.refresh,n),n._progressHandler=e(n._requestStart,n),n._errorHandler=e(n._error,n));n.dataSource=ar.create(i).bind(d,n._refreshHandler).bind(yi,n._progressHandler).bind(pi,n._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var r=this,w=r.tbody,h=t.model,e=r.tbody.find("tr["+i.attr("uid")+"="+h.uid+"]"),o,s,l,b=e.hasClass("k-alt"),f,c=r._items(w).index(e),v=r.lockedContent,y,a,k,d,g,p;if(v&&(o=r._relatedRow(e)),e.add(o).children(".k-edit-cell").length&&!r.options.rowTemplate)e.add(o).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){s=n(this);l=u(r.columns)[r.cellIndex(s)];l.field===t.field&&(s.hasClass("k-edit-cell")?s.addClass("k-dirty-cell"):(r._displayCell(s,l,h),n('<span class="k-dirty"/>').prependTo(s)))});else if(!e.hasClass("k-grid-edit-row")){for(a=n().add(e),v&&(f=(b?r.lockedAltRowTemplate:r.lockedRowTemplate)(h),a=a.add(o),o.replaceWith(f)),r.angular("cleanup",function(){return{elements:a.get()}}),f=(b?r.altRowTemplate:r.rowTemplate)(h),e.replaceWith(f),f=r._items(w).eq(c),p=[{dataItem:h}],v&&(e=e.add(o),o=r._relatedRow(f)[0],ei(f[0],o),f=f.add(o),p.push({dataItem:h})),r.angular("compile",function(){return{elements:f.get(),data:p}}),y=r.options.selectable,y&&e.hasClass("k-state-selected")&&r.select(f),d=a.children(":not(.k-group-cell,.k-hierarchy-cell)"),k=f.children(":not(.k-group-cell,.k-hierarchy-cell)"),c=0,g=r.columns.length;c<g;c++)l=r.columns[c],s=k.eq(c),y&&d.eq(c).hasClass("k-state-selected")&&s.addClass("k-state-selected"),l.field===t.field&&n('<span class="k-dirty"/>').prependTo(s);r.trigger("itemChange",{item:f,data:h,ns:lt})}},_pageable:function(){var t=this,u,r=t.options.pageable;r&&(u=t.wrapper.children("div.k-grid-pager"),u.length||(u=n('<div class="k-pager-wrap k-grid-pager"/>').appendTo(t.wrapper)),t.pager&&t.pager.destroy(),t.pager=typeof r=="object"&&r instanceof i.ui.Pager?r:new i.ui.Pager(u,f({},r,{dataSource:t.dataSource})))},_footer:function(){var t=this,s=t.dataSource.aggregates(),r="",h=t.footerTemplate,u=t.options,f,i=t.footer||t.wrapper.find(".k-grid-footer"),e,o,c;h?(r=n(t._wrapFooter(h(s))),i.length?(e=r,t.angular("cleanup",function(){return{elements:i.get()}}),i.replaceWith(e),i=t.footer=e):i=u.scrollable?t.footer=u.pageable?r.insertBefore(t.wrapper.children("div.k-grid-pager")):r.appendTo(t.wrapper):t.footer=r.insertBefore(t.tbody),t.angular("compile",function(){return{elements:i.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:kt(t.columns,function(n){return{column:n,aggregate:s[n.field]}})}})):i&&!t.footer&&(t.footer=i);i.length&&(u.scrollable&&(f=i.attr("tabindex",-1).children(".k-grid-footer-wrap"),t.scrollables=t.scrollables.filter(function(){return!n(this).is(".k-grid-footer-wrap")}).add(f)),t._footerWidth&&i.find("table").css("width",t._footerWidth),f&&(o=t.content.scrollLeft(),c=u.scrollable!==!0&&u.scrollable.virtual&&!t.virtualScrollable,c&&(o=t.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),f.scrollLeft(o)));t.lockedContent&&(t._appendLockedColumnFooter(),t._applyLockedContainersWidth(),t._syncLockedFooterHeight())},_wrapFooter:function(t){var u=this,r="",f=i.support.mobileOS?0:i.support.scrollbar();return u.options.scrollable?(r=n('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(ni?' cellspacing="0"':"")+"><tbody>"+t+"<\/tbody><\/table><\/div><\/div>"),u._appendCols(r.find("table")),r.css(nt?"padding-left":"padding-right",f),r):'<tfoot class="k-grid-footer">'+t+"<\/tfoot>"},_columnMenu:function(){var r=this,v,b=u(r.columns),n,o=r.options,e=o.columnMenu,y,d,h,p,tt=a(r.columns,function(n){return n.columns!==t}).length>0,it=this._isMobile,rt=function(n){r.trigger(kr,{field:n.field,container:n.container})},ut=function(n){w(n.closest("table"),!0)},g=o.$angular,c,nt,l;if(e)for(typeof e=="boolean"&&(e={}),p=k(r.thead),c=0,nt=p.length;c<nt;c++)n=b[c],l=p.eq(c),!n.command&&(n.field||l.attr("data-"+i.ns+"field"))&&(v=l.data("kendoColumnMenu"),v&&v.destroy(),d=n.sortable!==!1&&e.sortable!==!1&&o.sortable!==!1?f({},o.sortable,{compare:(n.sortable||{}).compare}):!1,h=o.filterable&&n.filterable!==!1&&e.filterable!==!1?f({pane:r.pane},o.filterable,n.filterable):!1,n.filterable&&n.filterable.dataSource&&(h.forceUnique=!1,h.checkSource=n.filterable.dataSource),h&&(h.format=n.format),y={dataSource:r.dataSource,values:n.values,columns:e.columns,sortable:d,filterable:h,messages:e.messages,owner:r,closeCallback:ut,init:rt,pane:r.pane,filter:it?":not(.k-column-active)":"",lockedColumns:!tt&&n.lockable!==!1&&s(b).length>0},g&&(y.$angular=g),l.kendoColumnMenu(y))},_headerCells:function(){return this.thead.find("th").filter(function(){var t=n(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")})},_filterable:function(){var e=this,r=u(e.columns),s,l,h,v=function(n){e.trigger(br,{field:n.field,container:n.container})},y=function(n){w(n.closest("table"),!0)},o=e.options.filterable,n,a,t,c;if(o&&typeof o.mode==p&&o.mode.indexOf("menu")==-1&&(o=!1),o&&!e.options.columnMenu)for(l=k(e.thead),n=0,a=l.length;n<a;n++)h=l.eq(n),r[n].filterable!==!1&&!r[n].command&&(r[n].field||h.attr("data-"+i.ns+"field"))&&(s=h.data("kendoFilterMenu"),s&&s.destroy(),s=h.data("kendoFilterMultiCheck"),s&&s.destroy(),t=r[n].filterable,c=f({},o,t,{dataSource:e.dataSource,values:r[n].values,format:r[n].format,closeCallback:y,title:r[n].title||r[n].field,init:v,pane:e.pane}),t&&t.messages&&(c.messages=f(!0,{},o.messages,t.messages)),t&&t.dataSource&&(c.forceUnique=!1,c.checkSource=t.dataSource),t&&t.multi?h.kendoFilterMultiCheck(c):h.kendoFilterMenu(c))},_filterRow:function(){var e=this,h,t,l;if(e._hasFilterRow()){var a=u(e.columns),p=e.options.filterable,w=e.thead.find(".k-filter-row");for(this._updateHeader(this.dataSource.group().length),h=0;h<a.length;h++){var o,r=a[h],v=e.options.filterable.operators,y=!1,s=n("<th/>"),c=r.field;if(r.hidden&&s.hide(),w.append(s),c&&r.filterable!==!1){if(t=r.filterable&&r.filterable.cell||{},o=e.options.dataSource,o instanceof ar&&(o=e.options.dataSource.options),l=f(!0,{},p.messages),r.filterable&&f(!0,l,r.filterable.messages),t.enabled===!1){s.html("&nbsp;");continue}t.dataSource&&(o=t.dataSource,y=!0);r.filterable&&r.filterable.operators&&(v=r.filterable.operators);n("<span/>").attr(i.attr("field"),c).kendoFilterCell({dataSource:e.dataSource,suggestDataSource:o,customDataSource:y,field:c,messages:l,values:r.values,template:t.template,delay:t.delay,inputWidth:t.inputWidth,suggestionOperator:t.suggestionOperator,minLength:t.minLength,dataTextField:t.dataTextField,operator:t.operator,operators:v,showOperators:t.showOperators}).appendTo(s)}else s.html("&nbsp;")}}},_sortable:function(){var r=this,l=u(r.columns),n,o,s,h=r.options.sortable,e,t,c;if(h){for(e=k(r.thead),t=0,c=e.length;t<c;t++)n=l[t],n.sortable!==!1&&!n.command&&n.field&&(s=e.eq(t),o=s.data("kendoColumnSorter"),o&&o.destroy(),s.attr("data-"+i.ns+"field",n.field).kendoColumnSorter(f({},h,n.sortable,{dataSource:r.dataSource,aria:!0,filter:":not(.k-column-active)"})));e=null}},_columns:function(t){var r=this,f=r.table,e,c=f.find("col"),u,o=r.options.dataSource,h;if(t=t.length?t:kt(f.find("th"),function(t,r){t=n(t);var f=t.attr(i.attr("sortable")),e=t.attr(i.attr("filterable")),o=t.attr(i.attr("type")),s=t.attr(i.attr("groupable")),u=t.attr(i.attr("field")),h=t.attr(i.attr("title")),l=t.attr(i.attr("menu"));return u||(u=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:u,type:o,title:h,sortable:f!=="false",filterable:e!=="false",groupable:s!=="false",menu:l,template:t.attr(i.attr("template")),width:c.eq(r).css("width")}}),e=!(r.table.find("tbody tr").length>0&&(!o||!o.transport)),r.options.scrollable){if(h=t,u=s(t),t=et(t),u.length>0&&t.length===0)throw new Error("There should be at least one non locked column");gf(r.element.find("tr:has(th):first"),h);t=u.concat(t)}r.columns=su(t,e)},_groups:function(){var n=this.dataSource.group();return n?n.length:0},_tmpl:function(n,t,r,u){var o=this,a=f({},i.Template,o.options.templateSettings),s,v=t.length,y,l={storage:{},count:0},h,b,p=o._hasDetails(),c=[],w=o._groups();if(!n){for(n="<tr",r&&c.push("k-alt"),p&&c.push("k-master-row"),c.length&&(n+=' class="'+c.join(" ")+'"'),v&&(n+=" "+i.attr("uid")+'="#='+i.expr("uid",a.paramName)+'#"'),n+=" role='row'>",w>0&&!u&&(n+=ci(w)),p&&(n+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"><\/a><\/td>'),s=0;s<v;s++)h=t[s],y=h.template,b=typeof y,n+="<td"+ti(h.attributes)+" role='gridcell'>",n+=o._cellTmpl(h,l),n+="<\/td>";n+="<\/tr>"}return(n=i.template(n,a),l.count>0)?e(n,l.storage):n},_headerCellText:function(n){var e=this,o=f({},i.Template,e.options.templateSettings),t=n.headerTemplate,u=typeof t,r=n.title||n.field||"";return u===yt?r=i.template(t,o)({}):u===p&&(r=t),r},_cellTmpl:function(n,t){var s=this,v=f({},i.Template,s.options.templateSettings),h=n.template,l=v.paramName,u=n.field,r="",o,y,a=n.format,w=typeof h,e=n.values;if(n.command){if(at(n.command)){for(o=0,y=n.command.length;o<y;o++)r+=s._createButton(n.command[o]);return r.replace(si,"\\#")}return s._createButton(n.command).replace(si,"\\#")}return w===yt?(t.storage["tmpl"+t.count]=h,r+="#=this.tmpl"+t.count+"("+l+")#",t.count++):w===p?r+=h:e&&e.length&&c(e[0])&&"value"in e[0]&&u?(r+="#var v ="+i.stringify(wu(e)).replace(si,"\\#")+"#",r+="#var f = v[",v.useWithBlock||(r+=l+"."),r+=u+"]#",r+="${f != null ? f : ''}"):(r+=n.encoded?"#:":"#=",a&&(r+='kendo.format("'+a.replace(sf,"\\$1")+'",'),u?(u=i.expr(u,l),r+=u+"==null?'':"+u):r+="''",a&&(r+=")"),r+="#"),r},_templates:function(){var t=this,i=t.options,h=t.dataSource,c=h.group(),l=t.footer||t.wrapper.find(".k-grid-footer"),r=h.aggregate(),o=u(t.columns),f=u(s(t.columns)),e=i.scrollable?u(et(t.columns)):o;if(i.scrollable&&f.length){if(i.rowTemplate||i.altRowTemplate)throw new Error("Having both row template and locked columns is not supported");t.rowTemplate=t._tmpl(i.rowTemplate,e,!1,!0);t.altRowTemplate=t._tmpl(i.altRowTemplate||i.rowTemplate,e,!0,!0);t.lockedRowTemplate=t._tmpl(i.rowTemplate,f);t.lockedAltRowTemplate=t._tmpl(i.altRowTemplate||i.rowTemplate,f,!0)}else t.rowTemplate=t._tmpl(i.rowTemplate,e),t.altRowTemplate=t._tmpl(i.altRowTemplate||i.rowTemplate,e,!0);t._hasDetails()&&(t.detailTemplate=t._detailTmpl(i.detailTemplate||""));(!t._group||yr(r))&&(yr(r)||l.length)&&!a(o,function(n){return n.footerTemplate}).length||(t.footerTemplate=t._footerTmpl(o,r,"footerTemplate","k-footer-template"));c&&a(o,function(n){return n.groupFooterTemplate}).length&&(r=n.map(c,function(n){return n.aggregates}),t.groupFooterTemplate=t._footerTmpl(e,r,"groupFooterTemplate","k-group-footer",f.length),i.scrollable&&f.length&&(t.lockedGroupFooterTemplate=t._footerTmpl(f,r,"groupFooterTemplate","k-group-footer")));t.options.noRecords&&(t.noRecordsTemplate=t._noRecordsTmpl())},_noRecordsTmpl:function(){var s=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"",t={storage:{},count:0},o=n.extend({},i.Template,this.options.templateSettings),h=o.paramName,r,f="",e,u;return r=this.options.noRecords.template?this.options.noRecords.template:i.format('<div class="k-grid-norecords-template"{1}>{0}<\/div>',this.options.messages.noRecords,s),e=typeof r,e==="function"?(t.storage["tmpl"+t.count]=r,f+="#=this.tmpl"+t.count+"("+h+")#",t.count++):e==="string"&&(f+=r),u=i.template(i.format('<div class="{0}">{1}<\/div>',iu,f),o),t.count>0&&(u=n.proxy(u,t.storage)),u},_footerTmpl:function(n,t,r,u,o){var l=this,y=f({},i.Template,l.options.templateSettings),p=y.paramName,s="",a,w,h,b,k={},v=0,d={},g=l._groups(),nt=l.dataSource._emptyAggregates(t),c;for(s+='<tr class="'+u+'">',g>0&&!o&&(s+=ci(g)),l._hasDetails()&&(s+='<td class="k-hierarchy-cell">&nbsp;<\/td>'),a=0,w=n.length;a<w;a++)c=n[a],h=c[r],b=typeof h,s+="<td"+ti(c.footerAttributes)+">",h?(b!==yt&&(d=nt[c.field]?f({},y,{paramName:p+"['"+c.field+"']"}):{},h=i.template(h,d)),k["tmpl"+v]=h,s+="#=this.tmpl"+v+"("+p+")#",v++):s+="&nbsp;",s+="<\/td>";return(s+="<\/tr>",s=i.template(s,y),v>0)?e(s,k):s},_detailTmpl:function(n){var o=this,t="",s=f({},i.Template,o.options.templateSettings),a=s.paramName,h={},r=0,c=o._groups(),l=g(u(o.columns)).length,v=typeof n;return(t+='<tr class="k-detail-row">',c>0&&(t+=ci(c)),t+='<td class="k-hierarchy-cell"><\/td><td class="k-detail-cell"'+(l?' colspan="'+l+'"':"")+">",v===yt?(h["tmpl"+r]=n,t+="#=this.tmpl"+r+"("+a+")#",r++):t+=n,t+="<\/td><\/tr>",t=i.template(t,s),r>0)?e(t,h):t},_hasDetails:function(){var n=this;return n.options.detailTemplate!==null||(n._events[ki]||[]).length},_hasFilterRow:function(){var t=this.options.filterable,r=t&&typeof t.mode==p&&t.mode.indexOf("row")!=-1,i=this.columns,u=n.grep(i,function(n){return n.filterable===!1});return i.length&&u.length==i.length&&(r=!1),r},_details:function(){var t=this;if(t.options.scrollable&&t._hasDetails()&&s(t.columns).length)throw new Error("Having both detail template and locked columns is not supported");t.table.on(l+r,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(i){var o=n(this),f=o.hasClass("k-plus"),u=o.closest("tr.k-master-row"),r,s=t.detailTemplate,e,h=t._hasDetails();return o.toggleClass("k-plus",!f).toggleClass("k-minus",f),r=u.next(),h&&!r.hasClass("k-detail-row")&&(e=t.dataItem(u),r=n(s(e)).addClass(u.hasClass("k-alt")?"k-alt":"").insertAfter(u),t.angular("compile",function(){return{elements:r.get(),data:[{dataItem:e}]}}),t.trigger(ki,{masterRow:u,detailRow:r,data:e,detailCell:r.find(".k-detail-cell")})),t.trigger(f?gr:nu,{masterRow:u,detailRow:r}),r.toggle(f),t._current&&t._current.attr("aria-expanded",f),i.preventDefault(),!1})},dataItem:function(t){if(t=n(t)[0],!t)return null;for(var f=this.tbody.children(),u=t.sectionRowIndex,r=u,i=0;i<u;i++)/k-grouping-row|k-detail-row|k-group-footer/.test(f[i].className)&&r--;return this._data[r]},expandRow:function(t){n(t).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(t){n(t).find("> td .k-minus, > td .k-i-collapse").click()},_createHeaderCells:function(n,r){for(var a=this,f,c,e="",y=u(a.columns),l,s,o=0,v=n.length;o<v;o++)f=n[o].column||n[o],c=a._headerCellText(f),l="",s=h(f,y),f.command?(e+="<th"+ti(f.headerAttributes),r&&!n[o].colSpan&&(e+=" rowspan='"+r+"'"),s>-1&&(e+=i.attr("index")+"='"+s+"'"),e+=">"+c+"<\/th>"):(f.field&&(l=i.attr("field")+"='"+f.field+"' "),e+="<th role='columnheader' "+l,r&&!n[o].colSpan&&(e+=" rowspan='"+r+"'"),n[o].colSpan>1&&(e+='colspan="'+(n[o].colSpan-wt(f.columns))+'" ',e+=i.attr("colspan")+"='"+n[o].colSpan+"'"),f.title&&(e+=i.attr("title")+'="'+f.title.replace('"',"&quot;").replace(/'/g,"'")+'" '),f.groupable!==t&&(e+=i.attr("groupable")+"='"+f.groupable+"' "),f.aggregates&&f.aggregates.length&&(e+=i.attr("aggregates")+"='"+f.aggregates+"'"),s>-1&&(e+=i.attr("index")+"='"+s+"'"),e+=ti(f.headerAttributes),e+=">"+c+"<\/th>");return e},_appendLockedColumnContent:function(){for(var i=this.columns,o=this.table.find("colgroup"),a=o.find("col:not(.k-group-col,.k-hierarchy-col)"),s=n(),c=0,f,r,e,l=0,t=0,h=i.length;t<h;t++)if(i[t].locked)if(rt(i[t])){for(r=1,i[t].columns&&(r=u(i[t].columns).length-wt(i[t].columns)),r=r||1,e=0;e<r;e++)s=s.add(a.eq(t+l+e-c));l+=r-1}else c++;f=n('<div class="k-grid-content-locked"><table'+(ni?' cellspacing="0"':"")+"><colgroup/><tbody><\/tbody><\/table><\/div>");o.detach();f.find("colgroup").append(s);o.insertBefore(this.table.find("tbody"));this.lockedContent=f.insertBefore(this.content);this.lockedTable=f.children("table")},_appendLockedColumnFooter:function(){var i=this,o=i.footer,c=o.find(".k-footer-template>td"),l=o.find(".k-grid-footer-wrap>table>colgroup>col"),h=n('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"><\/tr><\/tbody><\/table><\/div>'),t,e,a=i._groups(),r=n(),f=n();for(r=r.add(c.filter(".k-group-cell")),t=0,e=u(s(i.columns)).length;t<e;t++)r=r.add(c.eq(t+a));for(f=f.add(l.filter(".k-group-col")),t=0,e=u(cr(i.columns)).length;t<e;t++)f=f.add(l.eq(t+a));r.appendTo(h.find("tr"));f.appendTo(h.find("colgroup"));i.lockedFooter=h.prependTo(o)},_appendLockedColumnHeader:function(t){var f=this,r=this.columns,i,c,l,a,g,nt,o,tt,it,e=[],p=0,w=n(),ot=f._hasFilterRow(),ut=0,b=n(),ft,s=0,et=n(),k,h,v,y,d;for(a=f.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),tt=f.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"),it=f.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)"),k=0,i=0,l=r.length;i<l;i++){if(r[i].locked){if(ft=tt.eq(i),s=u(r[i].columns||[]).length,rt(r[i])){for(r[i].columns&&(h=s-wt(r[i].columns)),h=h||1,v=0;v<h;v++)w=w.add(a.eq(i+k+v-p));k+=h-1}for(li([r[i]],ui(ft),e,0,0),s=s||1,y=0;y<s;y++)b=b.add(it.eq(ut+y));ut+=s}r[i].columns&&(p+=wt(r[i].columns));rt(r[i])||p++}if(e.length){for(c='<div class="k-grid-header-locked" style="width:1px"><table'+(ni?' cellspacing="0"':"")+"><colgroup/><thead>",c+=new Array(e.length+1).join("<tr><\/tr>"),c+=(ot?'<tr class="k-filter-row" />':"")+"<\/thead><\/table><\/div>",o=n(c),a=o.find("colgroup"),a.append(f.thead.prev().find("col.k-group-col").add(w)),g=o.find("thead tr:not(.k-filter-row)"),i=0,l=e.length;i<l;i++)et=vf(e[i]),g.eq(i).append(f.thead.find("tr:eq("+i+") .k-group-cell").add(et));d=hr(this.thead);e.length<d&&wf(o,d-e.length);nt=o.find(".k-filter-row");nt.append(f.thead.find(".k-filter-row .k-group-cell").add(b));this.lockedHeader=o.prependTo(t);this.thead.find(".k-group-cell").remove();this._syncLockedHeaderHeight()}},_removeLockedContainers:function(){var n=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);i.destroy(n);n.off(r).remove();this.lockedHeader=this.lockedContent=this.lockedFooter=null;this.selectable=null},_thead:function(){var t=this,l=t.columns,a=t._hasDetails()&&l.length,p=t._hasFilterRow(),h,o="",f=t.table.find(">thead"),w=t.element.find("thead:first").length>0,u,c,v,y;if(f.length||(f=n("<thead/>").insertBefore(t.tbody)),t.lockedHeader&&t.thead?(u=t.thead.find("tr:has(th):not(.k-filter-row)").html(""),u.remove(),u=n(),t._removeLockedContainers()):u=w?t.element.find("thead:first tr:has(th):not(.k-filter-row)"):t.element.find("tr:has(th):first"),!u.length&&(u=f.children().first(),!u.length)){for(c=[{rowSpan:1,cells:[],index:0}],t._prepareColumns(c,l),h=0;h<c.length;h++)o+="<tr>",a&&(o+='<th class="k-hierarchy-cell">&nbsp;<\/th>'),o+=t._createHeaderCells(c[h].cells,c[h].rowSpan),o+="<\/tr>";u=n(o)}p&&(v=n("<tr/>"),v.addClass("k-filter-row"),(a||u.find(".k-hierarchy-cell").length)&&v.prepend('<th class="k-hierarchy-cell">&nbsp;<\/th>'),y=(t.thead||f).find(".k-filter-row"),y.length&&(i.destroy(y),y.remove()),f.append(v));u.children().length?a&&!u.find(".k-hierarchy-cell")[0]&&u.prepend('<th class="k-hierarchy-cell">&nbsp;<\/th>'):(o="",a&&(o+='<th class="k-hierarchy-cell">&nbsp;<\/th>'),o+=t._createHeaderCells(l),u.html(o));u.attr("role","row").find("th").addClass("k-header");t.options.scrollable||f.addClass("k-grid-header");u.find("script").remove().end().prependTo(f);t.thead&&t._destroyColumnAttachments();this.angular("cleanup",function(){return{elements:f.find("th").get()}});this.angular("compile",function(){return{elements:f.find("th").get(),data:kt(l,function(n){return{column:n}})}});t.thead=f.attr("role","rowgroup");t._sortable();t._filterable();t._filterRow();t._scrollable();t._updateCols();t._columnMenu();this.options.scrollable&&s(this.columns).length&&(t._appendLockedColumnHeader(t.thead.closest(".k-grid-header")),t._appendLockedColumnContent(),t.lockedContent.bind("DOMMouseScroll"+r+" mousewheel"+r,e(t._wheelScroll,t)),t._applyLockedContainersWidth());t._updateColumnCellIndex();t._updateFirstColumnClass();t._resizable();t._draggable();t._reorderable();t.groupable&&t._attachGroupable()},_updateFirstColumnClass:function(){var i=this,t=i.columns||[],f=i._hasDetails()&&t.length,r,u;f||i._groups()||(r=n(),u=i.thead.find(">tr:not(.k-filter-row):not(:first)"),t=et(t),u.length&&t[0]&&!t[0].columns&&(r=r.add(u)),i._isLocked()&&(u=i.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),t=s(i.columns),u.length&&t[0]&&!t[0].columns&&(r=r.add(u))),r.each(function(){var t=n(this).find("th");t.removeClass("k-first");t.eq(0).addClass("k-first")}))},_prepareColumns:function(n,t,i,r){for(var e=r||n[n.length-1],o=n[e.index+1],s=0,f,u=0;u<t.length;u++)f={column:t[u],colSpan:0},e.cells.push(f),t[u].columns&&t[u].columns.length&&(o||(o={rowSpan:0,cells:[],index:n.length},n.push(o)),f.colSpan=t[u].columns.length,this._prepareColumns(n,t[u].columns,f,o),s+=f.colSpan-1,e.rowSpan=n.length-e.index);i&&(i.colSpan+=s)},_wheelScroll:function(t){var u,e,f;if(!t.ctrlKey&&(u=this.content,this.options.scrollable.virtual&&(u=this.virtualScrollable.verticalScrollbar),e=u.scrollTop(),f=i.wheelDeltaY(t),f)){t.preventDefault();n(t.currentTarget).one("wheel"+r,!1);u.scrollTop(e+-f)}},_isLocked:function(){return this.lockedHeader!=null},_updateCols:function(n){n=n||this.thead.parent().add(this.table);this._appendCols(n,this._isLocked())},_updateLockedCols:function(n){this._isLocked()&&(n=n||this.lockedHeader.find("table").add(this.lockedTable),vi(n,ot(cr(this.columns)),this._hasDetails(),this._groups()))},_appendCols:function(n,t){t?vi(n,ot(kf(this.columns)),this._hasDetails(),0):vi(n,ot(g(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(n){if(n&&n.toJSON){var t=this,r,u;n=n.toJSON();u=!(t.table.find("tbody tr").length>0&&(!t.dataSource||!t.dataSource.transport));for(r in n)t.columns.push({field:r,encoded:u,headerAttributes:{id:i.guid()}});t._thead();t._templates()}},_rowsHtml:function(n,t){for(var f=this,r="",e=t.rowTemplate,o=t.altRowTemplate,i=0,u=n.length;i<u;i++)r+=i%2?o(n[i]):e(n[i]),f._data.push(n[i]);return r},_groupRowHtml:function(n,t,r,e,o,s){var l=this,h="",v,w,b=n.field,c=a(u(l.columns),function(n){return n.field==b})[0]||{},y=c.groupHeaderTemplate,k=(c.title||b)+": "+ne(n.value,c.format,c.values,c.encoded),tt=l._groupAggregatesDefaultObject||{},d=f({},tt,n.aggregates),g=f({},{field:n.field,value:n.value,aggregates:d},n.aggregates[n.field]),it=o.rowTemplate,rt=o.altRowTemplate,nt=o.groupFooterTemplate,p=n.items;if(y&&(k=typeof y===yt?y(g):i.template(y)(g)),h+=e(t,r,k),n.hasSubgroups)for(v=0,w=p.length;v<w;v++)h+=l._groupRowHtml(p[v],s?t:t-1,r+1,e,o,s);else h+=l._rowsHtml(p,o);return nt&&(h+=nt(d)),h},collapseGroup:function(t){t=n(t);var e,h=this.options.groupable,c=h.showFooter,u=c?0:1,o,f=n(),r,s,i;for(this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?f=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(f=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),e=t.find(".k-group-cell").length,t.find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse"),t.find("td[aria-expanded='true']:first").attr("aria-expanded",!1),t=t.nextAll("tr"),r=0,s=t.length;r<s;r++){if(i=t.eq(r),o=i.find(".k-group-cell").length,i.hasClass("k-grouping-row")?u++:i.hasClass("k-group-footer")&&u--,o<=e||i.hasClass("k-group-footer")&&u<0)break;i.hide();f.eq(r).hide()}},expandGroup:function(t){t=n(t);var s=this,h=s.options.groupable.showFooter,f,i,e,u=n(),r,c,l=[],o=1;for(this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?u=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(u=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),f=t.find(".k-group-cell").length,t.find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand"),t.find("td[aria-expanded='false']:first").attr("aria-expanded",!0),t=t.nextAll("tr"),r=0,c=t.length;r<c;r++){if(i=t.eq(r),e=i.find(".k-group-cell").length,e<=f)break;e!=f+1||i.hasClass("k-detail-row")||(i.show(),u.eq(r).show(),i.hasClass("k-grouping-row")&&i.find(".k-icon").hasClass("k-i-collapse")&&s.expandGroup(i),i.hasClass("k-master-row")&&i.find(".k-icon").hasClass("k-minus")&&(i.next().show(),u.eq(r+1).show()));i.hasClass("k-grouping-row")&&(h&&l.push(i.is(":visible")),o++);i.hasClass("k-group-footer")&&(h&&i.toggle(l.pop()),o==1?(i.show(),u.eq(r).show()):o--)}},_updateHeader:function(t){var r=this,i=r._isLocked()?r.lockedHeader.find("thead"):r.thead,f=i.find("tr.k-filter-row").find("th.k-group-cell").length,u=i.find("tr:first").find("th.k-group-cell").length,e=i.children("tr:not(:first)").filter(function(){return!n(this).children(":visible").length});t>u?(n(new Array(t-u+1).join('<th class="k-group-cell k-header">&nbsp;<\/th>')).prependTo(i.children("tr:not(.k-filter-row)")),r.element.is(":visible")&&e.find("th.k-group-cell").hide()):t<u&&i.find("tr").each(function(){n(this).find("th.k-group-cell").filter(":eq("+t+"),:gt("+t+")").remove()});t>f&&n(new Array(t-f+1).join('<th class="k-group-cell k-header">&nbsp;<\/th>')).prependTo(i.find(".k-filter-row"))},_firstDataItem:function(n,t){return n&&t&&(n=n.hasSubgroups?this._firstDataItem(n.items[0],t):n.items[0]),n},_updateTablesWidth:function(){var t=this,i;t._isLocked()&&(i=n(">.k-grid-footer>.k-grid-footer-wrap>table",t.wrapper).add(t.thead.parent()).add(t.table),t._footerWidth=tf(i.eq(0)),i.width(t._footerWidth),i=n(">.k-grid-footer>.k-grid-footer-locked>table",t.wrapper).add(t.lockedHeader.find(">table")).add(t.lockedTable),i.width(tf(i.eq(0))))},hideColumn:function(t){var i=this,it,l,r,w,v,b,e=0,d,ft,y=i.footer||i.wrapper.find(".k-grid-footer"),s=i.columns,p=i.lockedHeader?k(i.lockedHeader.find(">table>thead")).filter(er).length:0,f,nt;if(t=typeof t=="number"?s[t]:c(t)?a(ut(s),function(n){return n===t})[0]:a(ut(s),function(n){return n.field===t})[0],t&&rt(t)){if(t.columns&&t.columns.length){for(b=or(t,s),ii(t,!1),st(tt(n(">table>thead",i.lockedHeader),i.thead,">tr:eq("+b.row+")>th"),b.cell,!1),r=0;r<t.columns.length;r++)this.hideColumn(t.columns[r]);i.trigger(di,{column:t});return}if(f=h(t,g(u(s))),ii(t,!1),i._setParentsVisibility(t,!1),i._templates(),i._updateCols(),i._updateLockedCols(),nt=i.thead,d=f,i.lockedHeader&&p>f?nt=i.lockedHeader.find(">table>thead"):d-=p,it=k(nt).filter(er).eq(d),it[0].style.display="none",st(tt(n(">table>thead",i.lockedHeader),i.thead,">tr.k-filter-row>th"),f,!1),y[0]&&(i._updateCols(y.find(">.k-grid-footer-wrap>table")),i._updateLockedCols(y.find(">.k-grid-footer-locked>table")),st(y.find(".k-footer-template>td"),f,!1)),i.lockedTable&&p>f?bu(i.lockedTable.find(">tbody>tr"),f):bu(i.tbody.children(),f-p),i.lockedTable)i._updateTablesWidth(),i._applyLockedContainersWidth(),i._syncLockedContentHeight(),i._syncLockedHeaderHeight(),i._syncLockedFooterHeight();else{for(w=i.thead.prev().find("col"),r=0,ft=w.length;r<ft;r+=1)if(v=w[r].style.width,v&&v.indexOf("%")==-1)e+=parseInt(v,10);else{e=0;break}l=n(">.k-grid-header table:first,>.k-grid-footer table:first",i.wrapper).add(i.table);i._footerWidth=null;e&&(l.each(function(){this.style.width=e+"px"}),i._footerWidth=e);o.msie&&o.version==8&&(l.css("display","inline-table"),setTimeout(function(){l.css("display","table")},1))}i._updateFirstColumnClass();i.trigger(di,{column:t})}},_setParentsVisibility:function(t,r){var h=this.columns,e,o=[],u,s,f,c,l=r?function(n){return g(n.columns).length&&n.hidden}:function(n){return!g(n.columns).length&&!n.hidden};if(fr(t,h,o)&&o.length)for(e=o.length-1;e>=0;e--)u=o[e],s=pt(u,h),f=tt(n(">table>thead",this.lockedHeader),this.thead,">tr:eq("+s.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(s.cell),l(u)&&(ii(u,r),f[0].style.display=r?"":"none"),f.filter("["+i.attr("colspan")+"]").length&&(c=parseInt(f.attr(i.attr("colspan")),10),f[0].colSpan=c-wt(u.columns)||1)},showColumn:function(t){var i=this,r,g,nt,v,e,y,p,w,b,o=i.columns,s=i.footer||i.wrapper.find(".k-grid-footer"),l=i.lockedHeader?k(i.lockedHeader.find(">table>thead")).length:0,f,d;if(t=typeof t=="number"?o[t]:c(t)?a(ut(o),function(n){return n===t})[0]:a(ut(o),function(n){return n.field===t})[0],t&&!rt(t)){if(t.columns&&t.columns.length){for(p=pt(t,o),ii(t,!0),st(tt(n(">table>thead",i.lockedHeader),i.thead,">tr:eq("+p.row+")>th"),p.cell,!0),r=0;r<t.columns.length;r++)this.showColumn(t.columns[r]);i.trigger(gi,{column:t});return}if(f=h(t,u(o)),ii(t,!0),i._setParentsVisibility(t,!0),i._templates(),i._updateCols(),i._updateLockedCols(),d=i.thead,y=f,i.lockedHeader&&l>f?d=i.lockedHeader.find(">table>thead"):y-=l,nt=k(d).eq(y),nt[0].style.display="",st(tt(n(">table>thead",i.lockedHeader),i.thead,">tr.k-filter-row>th"),f,!0),s[0]&&(i._updateCols(s.find(">.k-grid-footer-wrap>table")),i._updateLockedCols(s.find(">.k-grid-footer-locked>table")),st(s.find(".k-footer-template>td"),f,!0)),i.lockedTable&&l>f?gu(i.lockedTable.find(">tbody>tr"),f):gu(i.tbody.children(),f-l),i.lockedTable)i._updateTablesWidth(),i._applyLockedContainersWidth(),i._syncLockedContentHeight(),i._syncLockedHeaderHeight();else if(v=n(">.k-grid-header table:first,>.k-grid-footer table:first",i.wrapper).add(i.table),t.width){for(e=0,b=i.thead.prev().find("col"),r=0,g=b.length;r<g;r+=1){if(w=b[r].style.width,w.indexOf("%")>-1){e=0;break}e+=parseInt(w,10)}i._footerWidth=null;e&&(v.each(function(){this.style.width=e+"px"}),i._footerWidth=e)}else v.width("");i._updateFirstColumnClass();i.trigger(gi,{column:t})}},_progress:function(n){var t=this.element;this.lockedContent?t=this.wrapper:this.element.is("table")?t=this.element.parent():this.content&&this.content.length&&(t=this.content);i.ui.progress(t,n)},_resize:function(n,t){this.content&&(this._setContentWidth(),this._setContentHeight());this.virtualScrollable&&(t||this._rowHeight)&&(t&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar())},_isActiveInTable:function(){var t=ht();return this.table[0]===t||n.contains(this.table[0],t)||this._isLocked()&&(this.lockedTable[0]===t||n.contains(this.lockedTable[0],t))},refresh:function(t){var i=this,u=i.dataSource.view(),h=i.options.navigatable,e,o=n(i.current()),s=!1,r=(i.dataSource.group()||[]).length,c=i.content&&i.content.scrollLeft(),f=r+ot(g(i.columns)).length;t&&t.action==="itemchange"&&i.editable||(t=t||{},i.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items}))||(i._angularItems("cleanup"),h&&(i._isActiveInTable()||i._editContainer&&i._editContainer.data("kendoWindow"))&&(s=o.is("th"),e=Math.max(i.cellIndex(o),0)),i._destroyEditable(),i._progress(!1),i._hideResizeHandle(),i._data=[],i.columns.length||(i._autoColumns(i._firstDataItem(u[0],r)),f=r+i.columns.length),i._group=r>0||i._group,i._group&&(i._templates(),i._updateCols(),i._updateLockedCols(),i._updateHeader(r),i._group=r>0),i._renderContent(u,f,r),i._renderLockedContent(u,f,r),i._footer(),i._renderNoRecordsContent(),i._setContentHeight(),i._setContentWidth(c),i.lockedTable&&(i.options.scrollable.virtual?i.content.find(">.k-virtual-scrollable-wrap").trigger("scroll"):i.touchScroller?i.touchScroller.movable.trigger("change"):i.content.trigger("scroll")),i._restoreCurrent(e,s),i.touchScroller&&i.touchScroller.contentResized(),i.selectable&&i.selectable.resetTouchEvents(),i._angularItems("compile"),i.trigger(nr))},_restoreCurrent:function(i,r){var f,u,e;i===t||i<0||(this._removeCurrent(),r?this.current(this.thead.find("th:not(.k-group-cell)").eq(i)):(f=0,this._rowVirtualIndex?f=this.virtualScrollable.position(this._rowVirtualIndex):i=0,u=n(),this.lockedTable&&(u=this.lockedTable.find(">tbody>tr").eq(f)),u=u.add(this.tbody.children().eq(f)),e=u.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(i),this.current(e)),this._current&&w(this._current.closest("table")[0],!0))},_angularItems:function(n){i.ui.DataBoundWidget.fn._angularItems.call(this,n);n==="cleanup"&&this._cleanupDetailItems();this._angularGroupItems(n);this._angularGroupFooterItems(n)},_cleanupDetailItems:function(){var n=this;n._hasDetails()&&(n.angular("cleanup",function(){return{elements:n.tbody.children(".k-detail-row")}}),n.tbody.find(".k-detail-cell").empty())},_angularGroupItems:function(t){var i=this;i._group&&i.angular(t,function(){return{elements:i.tbody.children(".k-grouping-row"),data:n.map(ku(i.dataSource.view()),function(n){return{dataItem:n}})}})},_angularGroupFooterItems:function(t){var i=this;i._group&&i.groupFooterTemplate&&i.angular(t,function(){return{elements:i.tbody.children(".k-group-footer"),data:n.map(du(i.dataSource.view()),function(n){return{dataItem:n}})}})},_renderContent:function(n,t,i){var r=this,u,o,e="",f=r.lockedContent!=null,s={rowTemplate:r.rowTemplate,altRowTemplate:r.altRowTemplate,groupFooterTemplate:r.groupFooterTemplate};if(t=f?t-ot(cr(r.columns)).length:t,i>0)for(t=f?t-i:t,r.detailTemplate&&t++,r.groupFooterTemplate&&(r._groupAggregatesDefaultObject=r.dataSource.aggregates()),u=0,o=n.length;u<o;u++)e+=r._groupRowHtml(n[u],t,0,f?re:uf,s,f);else e+=r._rowsHtml(n,s);r.tbody=pu(r.tbody,r.table,e,this.options.$angular)},_renderLockedContent:function(n,t,i){var f="",r,o,s={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate},e;if(this.lockedContent){if(e=this.lockedTable,i>0)for(t=t-g(u(et(this.columns))).length,r=0,o=n.length;r<o;r++)f+=this._groupRowHtml(n[r],t,0,uf,s);else f=this._rowsHtml(n,s);pu(e.children("tbody"),e,f,this.options.$angular);this._syncLockedContentHeight()}},_adjustRowsHeight:function(n,t){for(var r=n[0].rows,c=r.length,u=t[0].rows,f=n.add(t),l=f.length,e=[],i=0;i<c;i++){if(!u[i])break;r[i].style.height&&(r[i].style.height=u[i].style.height="");var o=r[i].offsetHeight,s=u[i].offsetHeight,h=0;o>s?h=o:o<s&&(h=s);e.push(h)}for(i=0;i<l;i++)f[i].style.display="none";for(i=0;i<c;i++)e[i]&&(r[i].style.height=u[i].style.height=e[i]+1+"px");for(i=0;i<l;i++)f[i].style.display=""}});i.ExcelMixin&&i.ExcelMixin.extend(fi.prototype);i.PDFMixin&&(i.PDFMixin.extend(fi.prototype),fi.prototype._drawPDF=function(r){function l(){if(s&&h!==t){u.unbind("change",c);u.one("change",function(){f.resolve(o)});u.page(h)}else f.resolve(o)}function c(){e._drawPDFShadow({width:e.wrapper.width()}).done(function(n){var t=u.page(),i=s?u.totalPages():1,f={page:n,pageNumber:t,progress:t/i,totalPages:i};r.notify(f);o.append(f.page);t<i?u.page(t+1):l()}).fail(function(n){f.reject(n)})}var f=new n.Deferred,e=this,u=e.dataSource,s=e.options.pdf.allPages,o,h;return this._initPDFProgress(r),o=new i.drawing.Group,h=u.page(),s?(u.bind("change",c),u.page(1)):c(),f.promise()},fi.prototype._initPDFProgress=function(t){var r=n("<div class='k-loading-pdf-mask'><div class='k-loading-color'/><\/div>"),u;r.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0}));this.wrapper.append(r);u=n("<div class='k-loading-pdf-progress'>").appendTo(r).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");t.progress(function(n){u.value(n.progress)}).always(function(){i.destroy(r);r.remove()})});lt.plugin(fi);lt.plugin(ou)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.data","./kendo.treeview.draganddrop"],n)}(function(){return function(n,t){function ni(n){return function(t){var i=t.children(".k-animation-container");return i.length||(i=t),i.children(n)}}function c(n){return i.template(n,{useWithBlock:!1})}function rt(n){return n.find("> div .k-checkbox [type=checkbox]")}function ti(n){return function(t,i){i=i.closest(e);var r=i.parent(),u;return r.parent().is("li")&&(u=r.parent()),this._dataSourceMove(t,r,u,function(t,r){return this._insert(t.data(),r,i.index()+n)})}}function ui(t,i){for(var r;t&&t.nodeName.toLowerCase()!="ul";)r=t,t=t.nextSibling,r.nodeType==3&&(r.nodeValue=n.trim(r.nodeValue)),dt.test(r.className)?i.insertBefore(r,i.firstChild):i.appendChild(r)}function nt(t){var i=t.children("div"),u=t.children("ul"),f=i.children(".k-icon"),e=t.children(":checkbox"),r=i.children(".k-in");t.hasClass("k-treeview")||(i.length||(i=n("<div />").prependTo(t)),!f.length&&u.length?f=n("<span class='k-icon' />").prependTo(i):u.length&&u.children().length||(f.remove(),u.remove()),e.length&&n("<span class='k-checkbox' />").appendTo(i).append(e),r.length||(r=t.children("a").eq(0).addClass("k-in"),r.length||(r=n("<span class='k-in' />")),r.appendTo(i),i.length&&ui(i[0].nextSibling,r[0])))}var i=window.kendo,a=i.ui,ii=i.data,v=n.extend,ut=i.template,y=n.isArray,tt=a.Widget,ft=ii.HierarchicalDataSource,u=n.proxy,s=i.keys,r=".kendoTreeView",it="select",et="check",ot="navigate",k="change",st="error",f="checked",h="indeterminate",ht="dragstart",ct="drag",lt="drop",at="dragend",vt="dataBound",yt="click",l="undefined",pt="k-state-hover",p="k-treeview",ri=":visible",e=".k-item",d="string",wt="aria-selected",bt="aria-disabled",kt,o,w,g,dt,b={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},gt=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName===d};o=ni(".k-group");w=ni(".k-group,.k-content");g=function(n){return n.children("div").children(".k-icon")};dt=/k-sprite/;kt=i.ui.DataBoundWidget.extend({init:function(n,t){var r=this,e,u=!1,o=t&&!!t.dataSource,f;y(t)&&(e=!0,t={dataSource:t});t&&typeof t.loadOnDemand==l&&y(t.dataSource)&&(t.loadOnDemand=!1);tt.prototype.init.call(r,n,t);n=r.element;t=r.options;f=n.is("ul")&&n||n.hasClass(p)&&n.children("ul");u=!o&&f.length;u&&(t.dataSource.list=f);r._animation();r._accessors();r._templates();n.hasClass(p)?(r.wrapper=n,r.root=n.children("ul").eq(0)):(r._wrapper(),f&&(r.root=n,r._group(r.wrapper)));r._tabindex();r.root.attr("role","tree");r._dataSource(u);r._attachEvents();r._dragging();u?r._syncHtmlAndDataSource():t.autoBind&&(r._progress(!0),r.dataSource.fetch());t.checkboxes&&t.checkboxes.checkChildren&&r.updateIndeterminate();r.element[0].id&&(r._ariaId=i.format("{0}_tv_active",r.element[0].id));i.notify(r)},_attachEvents:function(){var t=this,i=".k-in:not(.k-state-selected,.k-state-disabled)",f="mouseenter";t.wrapper.on(f+r,".k-in.k-state-selected",function(n){n.preventDefault()}).on(f+r,i,function(){n(this).addClass(pt)}).on("mouseleave"+r,i,function(){n(this).removeClass(pt)}).on(yt+r,i,u(t._click,t)).on("dblclick"+r,".k-in:not(.k-state-disabled)",u(t._toggleButtonClick,t)).on(yt+r,".k-plus,.k-minus",u(t._toggleButtonClick,t)).on("keydown"+r,u(t._keydown,t)).on("focus"+r,u(t._focus,t)).on("blur"+r,u(t._blur,t)).on("mousedown"+r,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",u(t._mousedown,t)).on("change"+r,".k-checkbox :checkbox",u(t._checkboxChange,t)).on("click"+r,".k-checkbox :checkbox",u(t._checkboxClick,t)).on("click"+r,".k-request-retry",u(t._retryRequest,t)).on("click"+r,function(i){n(i.target).is(":kendoFocusable")||t.focus()})},_checkboxClick:function(t){var i=n(t.target);i.data(h)&&(i.data(h,!1).prop(h,!1).prop(f,!0),this._checkboxChange(t))},_syncHtmlAndDataSource:function(n,t){n=n||this.root;t=t||this.dataSource;for(var s=t.view(),h=i.attr("uid"),c=i.attr("expanded"),l=this.options.checkboxes,o=n.children("li"),u,e,r=0;r<o.length;r++)e=s[r],u=o.eq(r),u.attr("role","treeitem").attr(h,e.uid),e.expanded=u.attr(c)==="true",l&&(e.checked=rt(u).prop(f)),this._syncHtmlAndDataSource(u.children("ul"),e.children)},_animation:function(){var t=this.options,n=t.animation;n===!1?n={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:n.collapse&&"effects"in n.collapse||(n.collapse=v({reverse:!0},n.expand));v(n.collapse,{hide:!0});t.animation=n},_dragging:function(){var r=this.options.dragAndDrop,i=this.dragging,t;r&&!i?(t=this,this.dragging=new a.HierarchicalDragAndDrop(this.element,{reorderable:!0,$angular:this.options.$angular,autoScroll:this.options.autoScroll,filter:"div:not(.k-state-disabled) .k-in",allowedContainers:".k-treeview",itemSelector:".k-treeview .k-item",hintText:u(this._hintText,this),contains:function(t,i){return n.contains(t,i)},dropHintContainer:function(n){return n},itemFromTarget:function(n){var t=n.closest(".k-top,.k-mid,.k-bot");return{item:t,content:n.closest(".k-in"),first:t.hasClass("k-top"),last:t.hasClass("k-bot")}},dropPositionFrom:function(n){return n.prevAll(".k-in").length>0?"after":"before"},dragstart:function(n){return t.trigger(ht,{sourceNode:n[0]})},drag:function(n){t.trigger(ct,{originalEvent:n.originalEvent,sourceNode:n.source[0],dropTarget:n.target[0],pageY:n.pageY,pageX:n.pageX,statusClass:n.status,setStatusClass:n.setStatus})},drop:function(n){return t.trigger(lt,{originalEvent:n.originalEvent,sourceNode:n.source,destinationNode:n.destination,valid:n.valid,setValid:function(t){this.valid=t;n.setValid(t)},dropTarget:n.dropTarget,dropPosition:n.position})},dragend:function(n){function f(i){t.updateIndeterminate();t.trigger(at,{originalEvent:n.originalEvent,sourceNode:i&&i[0],destinationNode:r[0],dropPosition:u})}var i=n.source,r=n.destination,u=n.position;u=="over"?t.append(i,r,f):(u=="before"?i=t.insertBefore(i,r):u=="after"&&(i=t.insertAfter(i,r)),f(i))}})):!r&&i&&(i.destroy(),this.dragging=null)},_hintText:function(n){return this.templates.dragClue({item:this.dataItem(n),treeview:this.options})},_templates:function(){var t=this,n=t.options,r=u(t._fieldAccessor,t);n.template&&typeof n.template==d?n.template=ut(n.template):n.template||(n.template=c("# var text = "+r("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #"));t._checkboxes();t.templates={wrapperCssClass:function(n,t){var i="k-item",r=t.index;return n.firstLevel&&r===0&&(i+=" k-first"),r==n.length-1&&(i+=" k-last"),i},cssClass:function(n,t){var r="",i=t.index,u=n.length-1;return n.firstLevel&&i===0&&(r+="k-top "),r+(i===0&&i!=u?"k-top":i==u?"k-bot":"k-mid")},textClass:function(n){var t="k-in";return n.enabled===!1&&(t+=" k-state-disabled"),n.selected===!0&&(t+=" k-state-selected"),t},toggleButtonClass:function(n){var t="k-icon";return t+=n.expanded!==!0?" k-plus":" k-minus",n.enabled===!1&&(t+="-disabled"),t},groupAttributes:function(n){var t="";return n.firstLevel||(t="role='group'"),t+(n.expanded!==!0?" style='display:none'":"")},groupCssClass:function(n){var t="k-group";return n.firstLevel&&(t+=" k-treeview-lines"),t},dragClue:c("#= data.treeview.template(data) #"),group:c("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>#= data.renderItems(data) #<\/ul>"),itemContent:c("# var imageUrl = "+r("imageUrl")+"(data.item); ## var spriteCssClass = "+r("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:c("# var item = data.item, r = data.r; ## var url = "+r("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #<\/span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #<\/#=tag#><\/div>"),item:c("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+i.attr("uid")+"='#= item.uid #' aria-selected='#= item.selected ? \"true\" : \"false \" #' #=item.enabled === false ? \"aria-disabled='true'\" : ''## if (item.expanded) { #data-expanded='true' aria-expanded='true'# } #>#= r.itemElement(data) #<\/li>"),loading:c("<div class='k-icon k-loading' /> #: data.messages.loading #"),retry:c("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #<\/button>")}},items:function(){return this.element.find(".k-item > div:first-child")},setDataSource:function(t){var i=this.options;if(i.dataSource=t,this._dataSource(),i.checkboxes&&i.checkboxes.checkChildren)this.dataSource.one("change",n.proxy(this.updateIndeterminate,this,null));this.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=u(this.refresh,this);this._errorHandler=u(this._error,this);this.dataSource.bind(k,this._refreshHandler);this.dataSource.bind(st,this._errorHandler)},_unbindDataSource:function(){var n=this.dataSource;n&&(n.unbind(k,this._refreshHandler),n.unbind(st,this._errorHandler))},_dataSource:function(n){function r(n){for(var t=0;t<n.length;t++)n[t]._initChildren(),n[t].children.fetch(),r(n[t].children.view())}var i=this,u=i.options,t=u.dataSource;t=y(t)?{data:t}:t;i._unbindDataSource();t.fields||(t.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]);i.dataSource=t=ft.create(t);n&&(t.fetch(),r(t.view()));i._bindDataSource()},events:[ht,ct,lt,at,vt,"expand","collapse",it,k,ot,et],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:!1,checkboxes:!1,autoBind:!0,autoScroll:!1,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var u=this,f=u.options,t,n,r,e=u.element;for(t in b)n=f[b[t]],r=e.attr(i.attr(t+"-field")),!n&&r&&(n=r),n||(n=t),y(n)||(n=[n]),f[b[t]]=n},_fieldAccessor:function(t){var u=this.options[b[t]],f=u.length,r="(function(item) {";return f===0?r+="return item['"+t+"'];":(r+="var levels = ["+n.map(u,function(n){return"function(d){ return "+i.expr(n)+"}"}).join(",")+"];",r+="return levels[Math.min(item.level(), "+f+"-1)](item)"),r+"})"},setOptions:function(n){tt.fn.setOptions.call(this,n);this._animation();this._dragging();this._templates()},_trigger:function(n,t){return this.trigger(n,{node:t.closest(e)[0]})},_setChecked:function(t,i){if(t&&n.isFunction(t.view))for(var r=0,u=t.view();r<u.length;r++)u[r][f]=i,u[r].children&&this._setChecked(u[r].children,i)},_setIndeterminate:function(n){var e=o(n),t,u,r=!0,i;if(e.length){if(t=rt(e.children()),u=t.length,u)if(u>1){for(i=1;i<u;i++)if(t[i].checked!=t[i-1].checked||t[i].indeterminate||t[i-1].indeterminate){r=!1;break}}else r=!t[0].indeterminate;else return;return rt(n).data(h,!r).prop(h,!r).prop(f,r&&t[0].checked)}},updateIndeterminate:function(n){n=n||this.wrapper;var i=o(n).children(),t,r;if(i.length){for(t=0;t<i.length;t++)this.updateIndeterminate(i.eq(t));r=this._setIndeterminate(n);r&&r.prop(f)&&(this.dataItem(n).checked=!0)}},_bubbleIndeterminate:function(n){if(n.length){var t=this.parent(n),i;t.length&&(this._setIndeterminate(t),i=t.children("div").find(".k-checkbox :checkbox"),i.prop(h)===!1?this.dataItem(t).set(f,i.prop(f)):delete this.dataItem(t).checked,this._bubbleIndeterminate(t))}},_checkboxChange:function(t){var i=n(t.target),r=i.prop(f),u=i.closest(e),o=this.dataItem(u);o.checked!=r&&(o.set(f,r),this._trigger(et,u))},_toggleButtonClick:function(t){this.toggle(n(t.target).closest(e))},_mousedown:function(t){var i=n(t.currentTarget).closest(e);this._clickTarget=i;this.current(i)},_focusable:function(n){return n&&n.length&&n.is(":visible")&&!n.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var t=this.select(),r=this._clickTarget;i.support.touch||(r&&r.length&&(t=r),this._focusable(t)||(t=this.current()),this._focusable(t)||(t=this._nextVisible(n())),this.current(t))},focus:function(){var r=this.wrapper,n=r[0],i=[],u=[],f=document.documentElement,t;do n=n.parentNode,n.scrollHeight>n.clientHeight&&(i.push(n),u.push(n.scrollTop));while(n!=f);for(r.focus(),t=0;t<i.length;t++)i[t].scrollTop=u[t]},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(n){return!n.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(t){var u=/\bk-item\b/,i,r;typeof t==d&&(t=this.element.find(t));gt(t)||(t=t[0]);r=u.test(t.className);do t=t.parentNode,u.test(t.className)&&(r?i=t:r=!0);while(!/\bk-treeview\b/.test(t.className)&&!i);return n(i)},_nextVisible:function(n){function r(n){while(n.length&&!n.next().length)n=i.parent(n);return n.next().length?n.next():n}var i=this,u=i._expanded(n),t;return n.length&&n.is(":visible")?u?(t=o(n).children().first(),t.length||(t=r(n))):t=r(n):t=i.root.children().eq(0),i._enabled(t)||(t=i._nextVisible(t)),t},_previousVisible:function(n){var i=this,r,t;if(!n.length||n.prev().length)for(t=n.length?n.prev():i.root.children().last();i._expanded(t);){if(r=o(t).children().last(),!r.length)break;t=r}else t=i.parent(n)||n;return i._enabled(t)||(t=i._previousVisible(t)),t},_keydown:function(r){var u=this,c=r.keyCode,e,o=u.current(),v=u._expanded(o),l=o.find(".k-checkbox:first :checkbox"),a=i.support.isRtl(u.element);r.target==r.currentTarget&&(!a&&c==s.RIGHT||a&&c==s.LEFT?v?e=u._nextVisible(o):u.expand(o):!a&&c==s.LEFT||a&&c==s.RIGHT?v?u.collapse(o):(e=u.parent(o),u._enabled(e)||(e=t)):c==s.DOWN?e=u._nextVisible(o):c==s.UP?e=u._previousVisible(o):c==s.HOME?e=u._nextVisible(n()):c==s.END?e=u._previousVisible(n()):c==s.ENTER?o.find(".k-in:first").hasClass("k-state-selected")||u._trigger(it,o)||u.select(o):c==s.SPACEBAR&&l.length&&(l.prop(f,!l.prop(f)).data(h,!1).prop(h,!1),u._checkboxChange({target:l}),e=o),e&&(r.preventDefault(),o[0]!=e[0]&&(u._trigger(ot,e),u.current(e))))},_click:function(t){var u=this,i=n(t.currentTarget),f=w(i.closest(e)),r=i.attr("href"),o;o=r?r=="#"||r.indexOf("#"+this.element.id+"-")>=0:f.length&&!f.children().length;o&&t.preventDefault();i.hasClass(".k-state-selected")||u._trigger(it,i)||u.select(i)},_wrapper:function(){var i=this,n=i.element,t,r;n.is("ul")?(t=n.wrap("<div />").parent(),r=n):(t=n,r=t.children("ul").eq(0));i.wrapper=t.addClass("k-widget k-treeview");i.root=r},_group:function(n){var t=this,r=n.hasClass(p),i={firstLevel:r,expanded:r||t._expanded(n)},u=n.children("ul");u.addClass(t.templates.groupCssClass(i)).css("display",i.expanded?"":"none");t._nodes(u,i)},_nodes:function(t,i){var r=this,u=t.children("li"),f;i=v({length:u.length},i);u.each(function(t,u){u=n(u);f={index:t,expanded:r._expanded(u)};nt(u);r._updateNodeClasses(u,i,f);r._group(u)})},_checkboxes:function(){var i=this.options,n=i.checkboxes,t;n&&(t="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",n.name&&(t+=" name='"+n.name+"'"),t+=" />",n=v({template:t},i.checkboxes),typeof n.template==d&&(n.template=ut(n.template)),i.checkboxes=n)},_updateNodeClasses:function(n,t,i){var r=n.children("div"),f=n.children("ul"),u=this.templates;n.hasClass("k-treeview")||(i=i||{},i.expanded=typeof i.expanded!=l?i.expanded:this._expanded(n),i.index=typeof i.index!=l?i.index:n.index(),i.enabled=typeof i.enabled!=l?i.enabled:!r.children(".k-in").hasClass("k-state-disabled"),t=t||{},t.firstLevel=typeof t.firstLevel!=l?t.firstLevel:n.parent().parent().hasClass(p),t.length=typeof t.length!=l?t.length:n.parent().children().length,n.removeClass("k-first k-last").addClass(u.wrapperCssClass(t,i)),r.removeClass("k-top k-mid k-bot").addClass(u.cssClass(t,i)),r.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(u.textClass(i)),(f.length||n.attr("data-hasChildren")=="true")&&(r.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(u.toggleButtonClass(i)),f.addClass("k-group")))},_processNodes:function(t,i){var r=this;r.element.find(t).each(function(t,u){i.call(r,t,n(u).closest(e))})},dataItem:function(t){var u=n(t).closest(e).attr(i.attr("uid")),r=this.dataSource;return r&&r.getByUid(u)},_insertNode:function(t,i,r,u,f){for(var h=this,l=o(r),w=l.children().length+1,a,v={firstLevel:r.hasClass(p),expanded:!f,length:w},s,c,y="",b=function(n,t){n.appendTo(t)},e=0;e<t.length;e++)c=t[e],c.index=i+e,y+=h._renderItem({group:v,item:c});if(s=n(y),s.length){for(h.angular("compile",function(){return{elements:s.get(),data:t.map(function(n){return{dataItem:n}})}}),l.length||(l=n(h._renderGroup({group:v})).appendTo(r)),u(s,l),r.hasClass("k-item")&&(nt(r),h._updateNodeClasses(r)),h._updateNodeClasses(s.prev().first()),h._updateNodeClasses(s.next().last()),e=0;e<t.length;e++)c=t[e],c.hasChildren&&(a=c.children.data(),a.length&&h._insertNode(a,c.index,s.eq(e),b,!h._expanded(s.eq(e))));return s}},_updateNodes:function(t,i){function b(n,t){n.find(".k-checkbox :checkbox").prop(f,t).data(h,!1).prop(h,!1)}var u=this,s,e,o,r,c,v,p={treeview:u.options,item:r},y=i!="expanded"&&i!="checked",l;if(i=="selected")r=t[0],e=u.findByUid(r.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",r[i]).end(),r[i]&&u.current(e),e.attr(wt,!!r[i]);else{for(l=n.map(t,function(n){return u.findByUid(n.uid).children("div")}),y&&u.angular("cleanup",function(){return{elements:l}}),s=0;s<t.length;s++)p.item=r=t[s],o=l[s],e=o.parent(),y&&o.children(".k-in").html(u.templates.itemContent(p)),i==f?(c=r[i],b(o,c),u.options.checkboxes.checkChildren&&(b(e.children(".k-group"),c),u._setChecked(r.children,c),u._bubbleIndeterminate(e))):i=="expanded"?u._toggle(e,r,r[i]):i=="enabled"&&(e.find(".k-checkbox :checkbox").prop("disabled",!r[i]),v=!w(e).is(ri),e.removeAttr(bt),r[i]||(r.selected&&r.set("selected",!1),r.expanded&&r.set("expanded",!1),v=!0,e.attr(wt,!1).attr(bt,!0)),u._updateNodeClasses(e,{},{enabled:r[i],expanded:!v})),o.length&&this.trigger("itemChange",{item:o,data:r,ns:a});y&&u.angular("compile",function(){return{elements:l,data:n.map(t,function(n){return[{dataItem:n}]})}})}},_appendItems:function(n,t,i){var u=o(i),r=u.children(),f=!this._expanded(i);typeof n==l&&(n=r.length);this._insertNode(t,n,i,function(t,i){n>=r.length?t.appendTo(i):t.insertBefore(r.eq(n))},f);this._expanded(i)&&(this._updateNodeClasses(i),o(i).css("display","block"))},_refreshChildren:function(n,t,i){var r,u,f,e=this.options,s=e.loadOnDemand,h=e.checkboxes&&e.checkboxes.checkChildren;if(o(n).empty(),t.length)for(this._appendItems(i,t,n),u=o(n).children(),s&&h&&this._bubbleIndeterminate(u.last()),r=0;r<u.length;r++)f=u.eq(r),this.trigger("itemChange",{item:f.children("div"),data:this.dataItem(f),ns:a});else nt(n)},_refreshRoot:function(t){var u=this._renderGroup({items:t,group:{firstLevel:!0,expanded:!0}}),r,i,f;for(this.root.length?(this._angularItems("cleanup"),r=n(u),this.root.attr("class",r.attr("class")).html(r.html())):this.root=this.wrapper.html(u).children("ul"),this.root.attr("role","tree"),i=0;i<t.length;i++)f=this.root.children(".k-item"),this.trigger("itemChange",{item:f.eq(i),data:t[i],ns:a});this._angularItems("compile")},refresh:function(n){var f=n.node,u=n.action,i=n.items,e=this.wrapper,o=this.options,h=o.loadOnDemand,c=o.checkboxes&&o.checkboxes.checkChildren,r,s;if(n.field)return!i[0]||!i[0].level?void 0:this._updateNodes(i,n.field);if(f&&(e=this.findByUid(f.uid),this._progress(e,!1)),c&&u!="remove"){for(s=!1,r=0;r<i.length;r++)if("checked"in i[r]){s=!0;break}if(!s&&f&&f.checked)for(r=0;r<i.length;r++)i[r].checked=!0}if(u=="add"?this._appendItems(n.index,i,e):u=="remove"?this._remove(this.findByUid(i[0].uid),!1):u=="itemchange"?this._updateNodes(i):u=="itemloaded"?this._refreshChildren(e,i,n.index):this._refreshRoot(i),u!="remove")for(r=0;r<i.length;r++)(!h||i[r].expanded)&&i[r].load();this.trigger(vt,{node:f?e:t})},_error:function(n){var t=n.node&&this.findByUid(n.node.uid),i=this.templates.retry({messages:this.options.messages});t?(this._progress(t,!1),this._expanded(t,!1),g(t).addClass("k-i-refresh"),n.node.loaded(!1)):(this._progress(!1),this.element.html(i))},_retryRequest:function(n){n.preventDefault();this.dataSource.fetch()},expand:function(n){this._processNodes(n,function(n,t){this.toggle(t,!0)})},collapse:function(n){this._processNodes(n,function(n,t){this.toggle(t,!1)})},enable:function(n,t){t=arguments.length==2?!!t:!0;this._processNodes(n,function(n,i){this.dataItem(i).set("enabled",t)})},current:function(t){var r=this,i=r._current,f=r.element,u=r._ariaId;if(arguments.length>0&&t&&t.length){i&&(i[0].id===u&&i.removeAttr("id"),i.find(".k-in:first").removeClass("k-state-focused"));i=r._current=n(t,f).closest(e);i.find(".k-in:first").addClass("k-state-focused");u=i[0].id||u;u&&(r.wrapper.removeAttr("aria-activedescendant"),i.attr("id",u),r.wrapper.attr("aria-activedescendant",u));return}return i||(i=r._nextVisible(n())),i},select:function(t){var i=this,r=i.element;if(!arguments.length)return r.find(".k-state-selected").closest(e);t=n(t,r).closest(e);r.find(".k-state-selected").each(function(){var t=i.dataItem(this);t?(t.set("selected",!1),delete t.selected):n(this).removeClass("k-state-selected")});t.length&&i.dataItem(t).set("selected",!0);i.trigger(k)},_toggle:function(n,t,i){var u=this.options,r=w(n),f=i?"expand":"collapse",e,o;r.data("animating")||this._trigger(f,n)||(this._expanded(n,i),e=t&&t.loaded(),o=!r.children().length,i&&(!e||o)?(u.loadOnDemand&&this._progress(n,!0),r.remove(),t.load()):(this._updateNodeClasses(n,{},{expanded:i}),i||r.css("height",r.height()).css("height"),r.kendoStop(!0,!0).kendoAnimate(v({reset:!0},u.animation[f],{complete:function(){i&&r.css("height","")}}))))},toggle:function(t,i){(t=n(t),g(t).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled"))&&(arguments.length==1&&(i=!this._expanded(t)),this._expanded(t,i))},destroy:function(){var n=this;tt.fn.destroy.call(n);n.wrapper.off(r);n._unbindDataSource();n.dragging&&n.dragging.destroy();i.destroy(n.element);n.root=n.wrapper=n.element=null},_expanded:function(n,t){var u=i.attr("expanded"),r=this.dataItem(n);if(arguments.length==1)return n.attr(u)==="true"||r&&r.expanded;w(n).data("animating")||(r&&(r.set("expanded",t),t=r.expanded),t?(n.attr(u,"true"),n.attr("aria-expanded","true")):(n.removeAttr(u),n.attr("aria-expanded","false")))},_progress:function(n,t){var i=this.element,r=this.templates.loading({messages:this.options.messages});arguments.length==1?(t=n,t?i.html(r):i.empty()):g(n).toggleClass("k-loading",t).removeClass("k-i-refresh")},text:function(n,t){var i=this.dataItem(n),r=this.options[b.text],f=i.level(),e=r.length,u=r[Math.min(f,e-1)];if(t)i.set(u,t);else return i[u]},_objectOrSelf:function(t){return n(t).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(t,i,r,u){var f,o=this._objectOrSelf(r||i),e=o.dataSource,s=n.Deferred().resolve().promise();return r&&r[0]!=o.element[0]&&(f=o.dataItem(r),f.loaded()||(o._progress(r,!0),s=f.load()),r!=this.root&&(e=f.children,e&&e instanceof ft||(f._initChildren(),f.loaded(!0),e=f.children))),t=this._toObservableData(t),u.call(this,e,t,s)},_toObservableData:function(t){var r=t,u,f;return(t instanceof window.jQuery||gt(t))&&(u=this._objectOrSelf(t).dataSource,f=n(t).attr(i.attr("uid")),r=u.getByUid(f),r&&(r=u.remove(r))),r},_insert:function(n,t,r){t instanceof i.data.ObservableArray?t=t.toJSON():y(t)||(t=[t]);var u=n.parent();return u&&u._initChildren&&(u.hasChildren=!0,u._initChildren()),n.splice.apply(n,[r,0].concat(t)),this.findByUid(n[r].uid)},insertAfter:ti(1),insertBefore:ti(0),append:function(t,i,r){var u=this,f=u.root;return i&&(f=o(i)),u._dataSourceMove(t,f,i,function(t,f,e){function s(){i&&u._expanded(i,!0);var n=t.data(),r=Math.max(n.length,0);return u._insert(n,f,r)}var o;return e.then(function(){o=s();r=r||n.noop;r(o)}),o||null})},_remove:function(t,i){var r=this,u,f,e;return t=n(t,r.element),this.angular("cleanup",function(){return{elements:t.get()}}),u=t.parent().parent(),f=t.prev(),e=t.next(),t[i?"detach":"remove"](),u.hasClass("k-item")&&(nt(u),r._updateNodeClasses(u)),r._updateNodeClasses(f),r._updateNodeClasses(e),t},remove:function(n){var t=this.dataItem(n);t&&this.dataSource.remove(t)},detach:function(n){return this._remove(n,!0)},findByText:function(t){return n(this.element).find(".k-in").filter(function(i,r){return n(r).text()==t}).closest(e)},findByUid:function(t){for(var u=this.element.find(".k-item"),e=i.attr("uid"),f,r=0;r<u.length;r++)if(u[r].getAttribute(e)==t){f=u[r];break}return n(f)},expandPath:function(t,i){function e(n,t,i){n&&!n.loaded()?n.set("expanded",!0):t.call(i)}t=t.slice(0);var u=this,f=this.dataSource,r=f.get(t[0]);for(i=i||n.noop;t.length>0&&r&&(r.expanded||r.loaded());)r.set("expanded",!0),t.shift(),r=f.get(t[0]);if(!t.length)return i.call(u);f.bind("change",function(n){var r=n.node&&n.node.id,o;r&&r===t[0]&&(t.shift(),t.length?(o=f.get(t[0]),e(o,i,u)):i.call(u))});e(r,i,u)},_parents:function(n){for(var t=n&&n.parentNode(),i=[];t&&t.parentNode;)i.push(t),t=t.parentNode();return i},expandTo:function(n){var r,t;for(n instanceof i.data.Node||(n=this.dataSource.get(n)),r=this._parents(n),t=0;t<r.length;t++)r[t].set("expanded",!0)},_renderItem:function(n){return n.group||(n.group={}),n.treeview=this.options,n.r=this.templates,this.templates.item(n)},_renderGroup:function(n){var t=this;return n.renderItems=function(n){var u="",i=0,r=n.items,f=r?r.length:0,e=n.group;for(e.length=f;i<f;i++)n.group=e,n.item=r[i],n.item.index=i,u+=t._renderItem(n);return u},n.r=t.templates,t.templates.group(n)}});a.plugin(kt)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.draganddrop"],n)}(function(){return function(n){function v(t,i){try{return n.contains(t,i)||t==i}catch(r){return!1}}function y(n){return n.clone()}function p(n){return n.clone().removeAttr("id").css("visibility","hidden")}var t=window.kendo,r=t.ui.Widget,e="start",o="beforeMove",s="move",i="end",u="change",h="cancel",c="sort",l="remove",a="receive",f=-1,w=r.extend({init:function(n,t){var i=this;r.fn.init.call(i,n,t);i.options.placeholder||(i.options.placeholder=p);i.options.hint||(i.options.hint=y);i._draggable=i._createDraggable()},events:[e,o,s,i,u,h],options:{name:"Sortable",hint:null,placeholder:null,filter:">*",holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:!1,cursor:"auto",moveOnDragEnter:!1},destroy:function(){this._draggable.destroy();r.fn.destroy.call(this)},_createDraggable:function(){var r=this,u=r.element,i=r.options;return new t.ui.Draggable(u,{filter:i.filter,hint:t.isFunction(i.hint)?i.hint:n(i.hint),holdToDrag:i.holdToDrag,container:i.container?n(i.container):null,cursorOffset:i.cursorOffset,axis:i.axis,ignore:i.ignore,autoScroll:i.autoScroll,dragstart:n.proxy(r._dragstart,r),dragcancel:n.proxy(r._dragcancel,r),drag:n.proxy(r._drag,r),dragend:n.proxy(r._dragend,r)})},_dragstart:function(i){var r=this.draggedElement=i.currentTarget,h=i.target||t.elementUnderCursor(i),f=this.options.disabled,o=this.options.handler,u=this.options.placeholder,s=this.placeholder=t.isFunction(u)?n(u.call(this,r)):n(u);f&&r.is(f)?i.preventDefault():o&&!n(i.initialTarget).is(o)?i.preventDefault():this.trigger(e,{item:r,draggableEvent:i})?i.preventDefault():(r.css("display","none"),r.before(s),this._setCursor())},_dragcancel:function(){this._cancel();this.trigger(h,{item:this.draggedElement});this._resetCursor()},_drag:function(t){var v=this.draggedElement,i=this._findTarget(t),c,l={left:t.x.location,top:t.y.location},f,e={x:t.x.delta,y:t.y.delta},r,u,a,s=this.options.axis,h=this.options.moveOnDragEnter,o={item:v,list:this,draggableEvent:t};if(s==="x"||s==="y"){this._movementByAxis(s,l,e[s],o);return}if(i){if(c=this._getElementCenter(i.element),f={left:Math.round(l.left-c.left),top:Math.round(l.top-c.top)},n.extend(o,{target:i.element}),i.appendToBottom){this._movePlaceholder(i,null,o);return}if(i.appendAfterHidden&&this._movePlaceholder(i,"next",o),this._isFloating(i.element)?e.x<0&&(h||f.left<0)?r="prev":e.x>0&&(h||f.left>0)&&(r="next"):e.y<0&&(h||f.top<0)?r="prev":e.y>0&&(h||f.top>0)&&(r="next"),r){for(a=r==="prev"?jQuery.fn.prev:jQuery.fn.next,u=a.call(i.element);u.length&&!u.is(":visible");)u=a.call(u);u[0]!=this.placeholder[0]&&this._movePlaceholder(i,r,o)}}},_dragend:function(t){var s=this.placeholder,r=this.draggedElement,v=this.indexOf(r),y=this.indexOf(s),w=this.options.connectWith,o,p,e,h;if(this._resetCursor(),e={action:c,item:r,oldIndex:v,newIndex:y,draggableEvent:t},y>=0?p=this.trigger(i,e):(o=s.parents(w).getKendoSortable(),e.action=l,h=n.extend({},e,{action:a,oldIndex:f,newIndex:o.indexOf(s)}),p=!(!this.trigger(i,e)&&!o.trigger(i,h))),p||y===v){this._cancel();return}s.replaceWith(r);r.show();this._draggable.dropped=!0;e={action:this.indexOf(r)!=f?c:l,item:r,oldIndex:v,newIndex:this.indexOf(r),draggableEvent:t};this.trigger(u,e);o&&(h=n.extend({},e,{action:a,oldIndex:f,newIndex:o.indexOf(r)}),o.trigger(u,h))},_findTarget:function(t){var i=this._findElementUnderCursor(t),u,f=this.options.connectWith,r;return n.contains(this.element[0],i)?(u=this.items(),r=u.filter(i)[0]||u.has(i)[0],r?{element:n(r),sortable:this}:null):this.element[0]==i&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==i&&this._isLastHidden()?(r=this.items().eq(0),{element:r,sortable:this,appendAfterHidden:!0}):f?this._searchConnectedTargets(i,t):void 0},_findElementUnderCursor:function(n){var i=t.elementUnderCursor(n),r=n.sender,u=this.options.disabled,f=this.options.filter,e=this.items();return v(r.hint[0],i)&&(r.hint.hide(),i=t.elementUnderCursor(n),i||(i=t.elementUnderCursor(n)),r.hint.show()),i},_searchConnectedTargets:function(t,i){for(var f=n(this.options.connectWith),r,o,e,u=0;u<f.length;u++)if(r=f.eq(u).getKendoSortable(),n.contains(f[u],t)){if(r)return o=r.items(),e=o.filter(t)[0]||o.has(t)[0],e?(r.placeholder=this.placeholder,{element:n(e),sortable:r}):null}else if(f[u]==t){if(r&&r._isEmpty())return{element:f.eq(u),sortable:r,appendToBottom:!0};if(this._isCursorAfterLast(r,i))return e=r.items().last(),{element:e,sortable:r}}},_isCursorAfterLast:function(n,i){var u=n.items().last(),f={left:i.x.location,top:i.y.location},r,e;return r=t.getOffset(u),r.top+=u.outerHeight(),r.left+=u.outerWidth(),e=this._isFloating(u)?r.left-f.left:r.top-f.top,e<0?!0:!1},_movementByAxis:function(t,i,r,u){var o=t==="x"?i.left:i.top,f=r<0?this.placeholder.prev():this.placeholder.next(),e;f.length&&!f.is(":visible")&&(f=r<0?f.prev():f.next());n.extend(u,{target:f});e=this._getElementCenter(f);e&&(e=t==="x"?e.left:e.top);f.length&&r<0&&o-e<0?this._movePlaceholder({element:f,sortable:this},"prev",u):f.length&&r>0&&o-e>0&&this._movePlaceholder({element:f,sortable:this},"next",u)},_movePlaceholder:function(n,t,i){var r=this.placeholder;n.sortable.trigger(o,i)||(t?t==="prev"?n.element.before(r):t==="next"&&n.element.after(r):n.element.append(r),n.sortable.trigger(s,i))},_setCursor:function(){var t=this.options.cursor,i;t&&t!=="auto"&&(i=n(document.body),this._originalCursorType=i.css("cursor"),i.css({cursor:t}),this._cursorStylesheet||(this._cursorStylesheet=n("<style>* { cursor: "+t+" !important; }<\/style>")),this._cursorStylesheet.appendTo(i))},_resetCursor:function(){this._originalCursorType&&(n(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(n){var i=n.length?t.getOffset(n):null;return i&&(i.top+=n.outerHeight()/2,i.left+=n.outerWidth()/2),i},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_cancel:function(){this.draggedElement.show();this.placeholder.remove()},_items:function(){var n=this.options.filter;return n?this.element.find(n):this.element.children()},indexOf:function(n){var i=this._items(),t=this.placeholder,r=this.draggedElement;return t&&n[0]==t[0]?i.not(r).index(n):i.not(t).index(n)},items:function(){var t=this.placeholder,n=this._items();return t&&(n=n.not(t)),n},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return this.items().length===1&&this.items().is(":hidden")}});t.ui.plugin(w)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n){function g(t){return n.map(nt(t),function(n){return n.name}).join(", ")}function nt(n){var t=n[0];return t.files?tt(t.files):[{name:at(t.value),extension:it(t.value),size:null}]}function tt(t){return n.map(t,function(n){return lt(n)})}function lt(n){var i=n.name||n.fileName;return{name:t.htmlEncode(i),extension:it(i),size:n.size||n.fileSize,rawFile:n}}function it(n){var t=n.match(ct);return t?t[0]:""}function at(n){var t=n.lastIndexOf("\\");return t!=-1?n.substr(t+1):n}function p(i,r){var u=t.guid();return n.map(i,function(n){return n.uid=r?t.guid():u,n})}function rt(t){return!t.multiple&&n(".k-file",t.wrapper).length>1}function ut(t,i,r){if(!i._supportsRemove()){rt(i)&&i._removeFileEntry(t);return}var u=t.data("fileNames"),f=n.map(u,function(n){return n.name});i._submitRemove(f,r,function(n,r,f){i._removeFileEntry(t);i.trigger(l,{operation:"remove",files:u,response:n,XMLHttpRequest:f})},function(n){rt(i)&&i._removeFileEntry(t);i.trigger(e,{operation:"remove",files:u,XMLHttpRequest:n});w("Server response: "+n.responseText)})}function ft(t,i,r){var u=!1,f="";try{f=n.parseJSON(et(t));u=!0}catch(e){r()}u&&i(f)}function et(n){return(typeof n=="undefined"||n==="")&&(n="{}"),n}function ot(n){n.stopPropagation();n.preventDefault()}function st(n,t,i,r){var u,f;n.on("dragenter"+t,function(){i();f=new Date;u||(u=setInterval(function(){var n=new Date-f;n>100&&(r(),clearInterval(u),u=null)},100))}).on("dragover"+t,function(){f=new Date})}function ht(n){return n.is(".k-file-progress, .k-file-success, .k-file-error")}function i(t){return n(t.target).closest(".k-file")}var t=window.kendo,f=t.ui.Widget,s=t.antiForgeryTokens,w=t.logToConsole,ct=/\.([^\.]+)$/,r=".kendoUpload",h="select",c="upload",l="success",e="error",b="complete",o="cancel",k="progress",u="remove",a=f.extend({init:function(i,u){var e=this,o,s,h;f.fn.init.call(e,i,u);e.name=i.name;e.multiple=e.options.multiple;e.localization=e.options.localization;o=e.element;e.wrapper=o.closest(".k-upload");e.wrapper.length===0&&(e.wrapper=e._wrapInput(o));e._activeInput(o);e.toggle(e.options.enabled);s=e._ns=r+"-"+t.guid();o.closest("form").on("submit"+s,n.proxy(e._onParentFormSubmit,e)).on("reset"+s,n.proxy(e._onParentFormReset,e));e.options.async.saveUrl?(e._module=e._supportsFormData()?new y(e):new v(e),e._async=!0,h=e.options.files,h.length>0&&e._renderInitialFiles(h)):e._module=new d(e);e._supportsDrop()&&e._setupDropZone();e.wrapper.on("click",".k-upload-action",n.proxy(e._onFileAction,e)).on("click",".k-upload-selected",n.proxy(e._onUploadSelected,e));e.element.val()&&e._onInputChange({target:e.element})},events:[h,c,l,e,b,o,k,u],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0,withCredentials:!0},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(n){var t=this,i=t.element;f.fn.setOptions.call(t,n);t.multiple=t.options.multiple;i.attr("multiple",t._supportsMultiple()?t.multiple:!1);t.toggle(t.options.enabled)},enable:function(n){n=typeof n=="undefined"?!0:n;this.toggle(n)},disable:function(){this.toggle(!1)},toggle:function(n){n=typeof n=="undefined"?n:!n;this.wrapper.toggleClass("k-state-disabled",n);this.element.prop("disabled",n)},destroy:function(){var t=this;n(document).add(n(".k-dropzone",t.wrapper)).add(t.wrapper.closest("form")).off(t._ns);n(t.element).off(r);f.fn.destroy.call(t)},_addInput:function(t){if(t[0].nodeType){var i=this,u=t.clone().val("");u.insertAfter(i.element).data("kendoUpload",i);n(i.element).hide().attr("tabindex","-1").removeAttr("id").off(r);i._activeInput(u);i.element.focus()}},_activeInput:function(t){var i=this,u=i.wrapper;i.element=t;t.attr("multiple",i._supportsMultiple()?i.multiple:!1).attr("autocomplete","off").on("click"+r,function(n){u.hasClass("k-state-disabled")&&n.preventDefault()}).on("focus"+r,function(){n(this).parent().addClass("k-state-focused")}).on("blur"+r,function(){n(this).parent().removeClass("k-state-focused")}).on("change"+r,n.proxy(i._onInputChange,i)).on("keydown"+r,n.proxy(i._onInputKeyDown,i))},_onInputKeyDown:function(n){var r=this,i=r.wrapper.find(".k-upload-action:first");n.keyCode===t.keys.TAB&&i.length>0&&(n.preventDefault(),i.focus())},_onInputChange:function(t){var i=this,r=n(t.target),u=p(i._inputFiles(r),i._isAsyncNonBatch()),f=i.trigger(h,{files:u});if(f)i._addInput(r),r.remove();else i._module.onSelect({target:r},u)},_onDrop:function(t){var e=t.originalEvent.dataTransfer,i=this,u=e.files,r=p(tt(u),i._isAsyncNonBatch()),f;if(ot(t),u.length>0&&(!i.multiple&&r.length>1&&r.splice(1,r.length-1),f=i.trigger(h,{files:r}),!f))i._module.onSelect({target:n(".k-dropzone",i.wrapper)},r)},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||!1},_renderInitialFiles:function(t){var f=this,i=0,e,r;for(t=p(t,!0),i=0;i<t.length;i++)e=t[i],r=f._enqueueFile(e.name,{fileNames:[e]}),r.addClass("k-file-success").data("files",[t[i]]),n(".k-progress",r).width("100%"),f.options.template||n(".k-upload-status",r).prepend("<span class='k-upload-pct'>100%<\/span>"),f._supportsRemove()&&f._fileAction(r,u)},_prepareTemplateData:function(n,t){for(var u=t.fileNames,i={},f=0,r=0,r=0;r<u.length;r++)f+=u[r].size;return i.name=n,i.size=f,i.files=t.fileNames,i},_prepareDefaultFileEntryTemplate:function(t,i){var r="",u=n("<li class='k-file'><span class='k-progress'><\/span><span class='k-icon'><\/span><span class='k-filename' title='"+t+"'>"+t+"<\/span><strong class='k-upload-status'><\/strong><\/li>");return i.fileNames.length!=1||!i.fileNames[0].extension||(r=i.fileNames[0].extension.substring(1),n(".k-icon",u).addClass("k-i-"+r)),u},_enqueueFile:function(i,r){var f=this,s,e,a=r.fileNames[0].uid,o=n(".k-upload-files",f.wrapper),v=f.options,h=v.template,c,l;if(o.length===0&&(o=n("<ul class='k-upload-files k-reset'><\/ul>").appendTo(f.wrapper),f.options.showFileList||o.hide(),f.wrapper.removeClass("k-upload-empty")),s=n(".k-file",o),h?(c=f._prepareTemplateData(i,r),h=t.template(h),e=n("<li class='k-file'>"+h(c)+"<\/li>"),e.find(".k-upload-action").addClass("k-button k-button-bare"),f.angular("compile",function(){return{elements:e,data:[c]}})):e=f._prepareDefaultFileEntryTemplate(i,r),e.attr(t.attr("uid"),a).appendTo(o).data(r),f._async||n(".k-progress",e).width("100%"),!f.multiple&&s.length>0&&(l={files:s.data("fileNames")},!f.trigger(u,l)))f._module.onRemove({target:n(s,f.wrapper)},l.data);return e},_removeFileEntry:function(t){var u=this,i=t.closest(".k-upload-files"),r,f;t.remove();r=n(".k-file",i);f=n(".k-file-success, .k-file-error",i);f.length===r.length&&this._hideUploadButton();r.length===0&&(i.remove(),u.wrapper.addClass("k-upload-empty"),u._hideHeaderUploadstatus())},_fileAction:function(n,t){var i={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},r={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};i.hasOwnProperty(t)&&(this._clearFileAction(n),this.options.template?n.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+r[t]+" "+i[t]+"' title='"+this.localization[t]+"'><\/span>").show():(n.find(".k-upload-status .k-upload-action").remove(),n.find(".k-upload-status").append(this._renderAction(i[t],this.localization[t],r[t]))))},_fileState:function(t,i){var r=this.localization,f={uploading:{text:r.statusUploading},uploaded:{text:r.statusUploaded},failed:{text:r.statusFailed}},u=f[i];u&&n(".k-icon:not(.k-delete, .k-cancel, .k-retry)",t).text(u.text)},_renderAction:function(t,i,r){return t!==""?n("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+r+" "+t+"' title='"+i+"'><\/span><\/button>"):n("<button type='button' class='k-button'>"+i+"<\/button>")},_clearFileAction:function(t){n(".k-upload-action",t).empty().hide()},_onFileAction:function(t){var i=this;if(!i.wrapper.hasClass("k-state-disabled")){var s=n(t.target).closest(".k-upload-action"),f=s.find(".k-icon"),r=s.closest(".k-file"),e={files:r.data("fileNames")};if(f.hasClass("k-delete")){if(!i.trigger(u,e))i._module.onRemove({target:n(r,i.wrapper)},e.data)}else if(f.hasClass("k-cancel")){i.trigger(o,e);i._module.onCancel({target:n(r,i.wrapper)});this._checkAllComplete();i._updateHeaderUploadStatus()}else if(f.hasClass("k-retry")){n(".k-warning",r).remove();i._module.onRetry({target:n(r,i.wrapper)})}}return!1},_onUploadSelected:function(){var n=this,t=n.wrapper;return t.hasClass("k-state-disabled")||this._module.onSaveSelected(),!1},_onFileProgress:function(t,r){var u;this.options.template?n(".k-progress",t.target).width(r+"%"):(u=n(".k-upload-pct",t.target),u.length===0&&n(".k-upload-status",t.target).prepend("<span class='k-upload-pct'><\/span>"),n(".k-upload-pct",t.target).text(r+"%"),n(".k-progress",t.target).width(r+"%"));this.trigger(k,{files:i(t).data("fileNames"),percentComplete:r})},_onUploadSuccess:function(n,t,r){var f=i(n);this._fileState(f,"uploaded");f.removeClass("k-file-progress").addClass("k-file-success");this._updateHeaderUploadStatus();this.trigger(l,{files:f.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:r});this._supportsRemove()?this._fileAction(f,u):this._clearFileAction(f);this._checkAllComplete()},_onUploadError:function(t,r){var u=i(t),f=n(".k-upload-pct",u);this._fileState(u,"failed");u.removeClass("k-file-progress").addClass("k-file-error");n(".k-progress",u).width("100%");f.length>0?f.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):n(".k-upload-status",u).prepend("<span class='k-icon k-warning'><\/span>");this._updateHeaderUploadStatus();this._fileAction(u,"retry");this.trigger(e,{operation:"upload",files:u.data("fileNames"),XMLHttpRequest:r});w("Server response: "+r.responseText);this._checkAllComplete()},_showUploadButton:function(){var t=n(".k-upload-selected",this.wrapper);t.length===0&&(t=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected"));this.wrapper.append(t)},_hideUploadButton:function(){n(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var i=this.localization,r=n(".k-dropzone",this.wrapper),t=n(".k-upload-status-total",this.wrapper);t.length!==0&&t.remove();t='<strong class="k-upload-status k-upload-status-total">'+i.headerStatusUploading+'<span class="k-icon k-loading">'+i.statusUploading+"<\/span><\/strong>";r.length>0?r.append(t):n(".k-upload-button",this.wrapper).after(t)},_updateHeaderUploadStatus:function(){var t=this,u=t.localization,e=n(".k-file",t.wrapper).not(".k-file-success, .k-file-error"),i,r,f;e.length===0&&(i=n(".k-file.k-file-error",t.wrapper),r=n(".k-upload-status-total",t.wrapper),f=n(".k-icon",r).removeClass("k-loading").addClass(i.length!==0?"k-warning":"k-i-tick").text(i.length!==0?u.statusWarning:u.statusUploaded),r.text(t.localization.headerStatusUploaded).append(f))},_hideHeaderUploadstatus:function(){n(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var r=this,i=r.element,t;typeof this._module.onAbort!="undefined"&&this._module.onAbort();i.value||(t=n(i),t.attr("disabled","disabled"),window.setTimeout(function(){t.removeAttr("disabled")},0))},_onParentFormReset:function(){n(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof FormData!="undefined"},_supportsMultiple:function(){var n=this._userAgent().indexOf("Windows")>-1;return!t.support.browser.opera&&!(t.support.browser.safari&&n)},_supportsDrop:function(){var n=this._userAgent().toLowerCase(),t=/chrome/.test(n),i=!t&&/safari/.test(n),r=i&&/windows/.test(n);return!r&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var r=this,i,t;n(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'><\/div>");i=r._ns;t=n(".k-dropzone",r.wrapper).append(n("<em>"+r.localization.dropFilesHere+"<\/em>")).on("dragenter"+i,ot).on("dragover"+i,function(n){n.preventDefault()}).on("drop"+i,n.proxy(this._onDrop,this));st(t,i,function(){t.addClass("k-dropzone-hovered")},function(){t.removeClass("k-dropzone-hovered")});st(n(document),i,function(){t.addClass("k-dropzone-active");t.closest(".k-upload").removeClass("k-upload-empty")},function(){t.removeClass("k-dropzone-active");n("li.k-file",t.closest(".k-upload")).length===0&&t.closest(".k-upload").addClass("k-upload-empty")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(t,i,r,u){var e=this,o=e.options.async.removeField||"fileNames",f=n.extend(i,s());f[o]=t;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:et,url:this.options.async.removeUrl,traditional:!0,data:f,success:r,error:u,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(n){var t=this,i=t.options;return n.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'><\/div><\/div>"),i.async.saveUrl||n.closest(".k-upload").addClass("k-upload-sync"),n.closest(".k-upload").addClass("k-upload-empty"),n.closest(".k-button").append("<span>"+this.localization.select+"<\/span>"),n.closest(".k-upload")},_checkAllComplete:function(){n(".k-file.k-file-progress",this.wrapper).length===0&&this.trigger(b)},_inputFiles:function(n){return nt(n)}}),d=function(n){this.name="syncUploadModule";this.element=n.wrapper;this.upload=n;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")},v,y;d.prototype={onSelect:function(t,i){var r=this.upload,f=n(t.target),e;r._addInput(f);e=r._enqueueFile(g(f),{relatedInput:f,fileNames:i});r._fileAction(e,u)},onRemove:function(n){var t=i(n);t.data("relatedInput").remove();this.upload._removeFileEntry(t)}};v=function(n){this.name="iframeUploadModule";this.element=n.wrapper;this.upload=n;this.iframes=[]};a._frameId=0;v.prototype={onSelect:function(t,i){var r=this.upload,e=n(t.target),f=this.prepareUpload(e,i);r.options.async.autoUpload?this.performUpload(f):(r._supportsRemove()&&this.upload._fileAction(f,u),r._showUploadButton())},prepareUpload:function(t,i){var r=this.upload,e=n(r.element),s=r.options.async.saveField||t.attr("name"),u,o,f;return r._addInput(t),t.attr("name",s),u=this.createFrame(r.name+"_"+a._frameId++),this.registerFrame(u),o=this.createForm(r.options.async.saveUrl,u.attr("name")).append(e),f=r._enqueueFile(g(t),{frame:u,relatedInput:e,fileNames:i}),u.data({form:o,file:f}),f},performUpload:function(t){var u={files:t.data("fileNames")},r=t.data("frame"),i=this.upload,f,e,h;if(i.trigger(c,u))i._removeFileEntry(r.data("file")),this.cleanupFrame(r),this.unregisterFrame(r);else{i._hideUploadButton();i._showHeaderUploadStatus();r.appendTo(document.body);f=r.data("form").attr("action",i.options.async.saveUrl).appendTo(document.body);u.data=n.extend({},u.data,s());for(e in u.data)h=f.find("input[name='"+e+"']"),h.length===0&&(h=n("<input>",{type:"hidden",name:e}).prependTo(f)),h.val(u.data[e]);i._fileAction(t,o);i._fileState(t,"uploading");n(t).removeClass("k-file-error").addClass("k-file-progress");r.one("load",n.proxy(this.onIframeLoad,this));f[0].submit()}},onSaveSelected:function(){var t=this;n(".k-file",this.element).each(function(){var i=n(this),r=ht(i);r||t.performUpload(i)})},onIframeLoad:function(t){var r=n(t.target),i;try{i=r.contents().text()}catch(u){i="Error trying to get server response: "+u}this.processResponse(r,i)},processResponse:function(t,i){var f=t.data("file"),r=this,u={responseText:i};ft(i,function(i){n.extend(u,{statusText:"OK",status:"200"});r.upload._onFileProgress({target:n(f,r.upload.wrapper)},100);r.upload._onUploadSuccess({target:n(f,r.upload.wrapper)},i,u);r.cleanupFrame(t);r.unregisterFrame(t)},function(){n.extend(u,{statusText:"error",status:"500"});r.upload._onUploadError({target:n(f,r.upload.wrapper)},u)})},onCancel:function(t){var i=n(t.target).data("frame");this.stopFrameSubmit(i);this.cleanupFrame(i);this.unregisterFrame(i);this.upload._removeFileEntry(i.data("file"))},onRetry:function(n){var t=i(n);this.performUpload(t)},onRemove:function(n,t){var r=i(n),u=r.data("frame");u?(this.unregisterFrame(u),this.upload._removeFileEntry(r),this.cleanupFrame(u)):ut(r,this.upload,t)},onAbort:function(){var t=this.element,i=this;n.each(this.iframes,function(){n("input",this.data("form")).appendTo(t);i.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(t){return n("<iframe name='"+t+"' id='"+t+"' style='display:none;' />")},createForm:function(t,i){return n("<form enctype='multipart/form-data' method='POST' action='"+t+"' target='"+i+"'/>")},stopFrameSubmit:function(n){typeof n.stop!="undefined"?n.stop():n.document&&n.document.execCommand("Stop")},registerFrame:function(n){this.iframes.push(n)},unregisterFrame:function(t){this.iframes=n.grep(this.iframes,function(n){return n.attr("name")!=t.attr("name")})},cleanupFrame:function(n){var t=n.data("form");n.data("file").data("frame",null);setTimeout(function(){t.remove();n.remove()},1)}};y=function(n){this.name="formDataUploadModule";this.element=n.wrapper;this.upload=n};y.prototype={onSelect:function(t,i){var r=this.upload,f=this,e=n(t.target),o=this.prepareUpload(e,i);n.each(o,function(){r.options.async.autoUpload?f.performUpload(this):(r._supportsRemove()&&r._fileAction(this,u),r._showUploadButton())})},prepareUpload:function(t,i){var r=this.enqueueFiles(i);return t.is("input")&&(n.each(r,function(){n(this).data("relatedInput",t)}),t.data("relatedFileEntries",r),this.upload._addInput(t)),r},enqueueFiles:function(t){var e=this.upload,r,u,s=t.length,f,i,o=[];if(e.options.async.batch===!0)r=n.map(t,function(n){return n.name}).join(", "),i=e._enqueueFile(r,{fileNames:t}),i.data("files",t),o.push(i);else for(u=0;u<s;u++)f=t[u],r=f.name,i=e._enqueueFile(r,{fileNames:[f]}),i.data("files",[f]),o.push(i);return o},performUpload:function(t){var r=this.upload,u=this.createFormData(),e=this.createXHR(),i={files:t.data("fileNames"),XMLHttpRequest:e},f;if(r.trigger(c,i))this.removeFileEntry(t);else{if(r._fileAction(t,o),r._hideUploadButton(),r._showHeaderUploadStatus(),i.formData)u=i.formData;else{i.data=n.extend({},i.data,s());for(f in i.data)u.append(f,i.data[f]);this.populateFormData(u,t.data("files"))}r._fileState(t,"uploading");n(t).removeClass("k-file-error").addClass("k-file-progress");this.postFormData(r.options.async.saveUrl,u,t,e)}},onSaveSelected:function(){var t=this;n(".k-file",this.element).each(function(){var i=n(this),r=ht(i);r||t.performUpload(i)})},onCancel:function(n){var t=i(n);this.stopUploadRequest(t);this.removeFileEntry(t)},onRetry:function(n){var t=i(n);this.performUpload(t)},onRemove:function(n,t){var r=i(n);r.hasClass("k-file-success")?ut(r,this.upload,t):this.removeFileEntry(r)},createXHR:function(){return new XMLHttpRequest},postFormData:function(n,t,i,r){var u=this;i.data("request",r);r.addEventListener("load",function(n){u.onRequestSuccess.call(u,n,i)},!1);r.addEventListener(e,function(n){u.onRequestError.call(u,n,i)},!1);r.upload.addEventListener("progress",function(n){u.onRequestProgress.call(u,n,i)},!1);r.open("POST",n,!0);r.withCredentials=this.upload.options.async.withCredentials;r.send(t)},createFormData:function(){return new FormData},populateFormData:function(n,t){for(var r=this.upload,u=t.length,i=0;i<u;i++)n.append(r.options.async.saveField||r.name,t[i].rawFile);return n},onRequestSuccess:function(t,i){function f(){r.upload._onUploadError({target:n(i,r.upload.wrapper)},u)}var u=t.target,r=this;u.status>=200&&u.status<=299?ft(u.responseText,function(t){r.upload._onFileProgress({target:n(i,r.upload.wrapper)},100);r.upload._onUploadSuccess({target:n(i,r.upload.wrapper)},t,u);r.cleanupFileEntry(i)},f):f()},onRequestError:function(t,i){var r=t.target;this.upload._onUploadError({target:n(i,this.upload.wrapper)},r)},cleanupFileEntry:function(t){var i=t.data("relatedInput"),r=!0;i&&(n.each(i.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(r=r&&this.hasClass("k-file-success"))}),r&&i.remove())},removeFileEntry:function(n){this.cleanupFileEntry(n);this.upload._removeFileEntry(n)},onRequestProgress:function(t,i){var r=Math.round(t.loaded*100/t.total);this.upload._onFileProgress({target:n(i,this.upload.wrapper)},r)},stopUploadRequest:function(n){n.data("request").abort()}};t.ui.plugin(a)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core","./kendo.popup"],n)}(function(){return function(n){function w(n){while(n.length)ot(n),n=n.parent()}function ot(n){var i=n.data(t.ns+"title");i&&(n.attr("title",i),n.removeData(t.ns+"title"))}function st(n){var i=n.attr("title");i&&(n.data(t.ns+"title",i),n.attr("title",""))}function b(n){while(n.length&&!n.is("body"))st(n),n=n.parent()}var t=window.kendo,u=t.ui.Widget,k=t.ui.Popup,d=t.isFunction,g=n.isPlainObject,s=n.extend,r=n.proxy,f=n(document),nt=t.isLocalUrl,h="_tt_active",c="aria-describedby",l="show",a="hide",v="error",e="contentLoad",y="requestStart",o="k-content-frame",tt='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close<\/a><\/div> #}#<div class="k-tooltip-content"><\/div>#if (callout){ #<div class="k-callout k-callout-#=dir#"><\/div>#}#<\/div>',it=t.template("<iframe frameborder='0' class='"+o+"' src='#= content.url #'>This page requires frames in order to show content<\/iframe>"),i=".kendoTooltip",rt={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},ut={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},p={bottom:"n",top:"s",left:"e",right:"w",center:"n"},ft={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},et=function(n){return n.target.data(t.ns+"title")},ht=u.extend({init:function(n,t){var f=this,e;u.fn.init.call(f,n,t);e=f.options.position.match(/left|right/)?"horizontal":"vertical";f.dimensions=ft[e];f._documentKeyDownHandler=r(f._documentKeyDown,f);f.element.on(f.options.showOn+i,f.options.filter,r(f._showOn,f)).on("mouseenter"+i,f.options.filter,r(f._mouseenter,f));if(this.options.autoHide)f.element.on("mouseleave"+i,f.options.filter,r(f._mouseleave,f))},options:{name:"Tooltip",filter:"",content:et,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[l,a,e,v,y],_mouseenter:function(t){b(n(t.currentTarget))},_showOn:function(t){var i=this,r=n(t.currentTarget);i.options.showOn&&i.options.showOn.match(/click|focus/)?i._show(r):(clearTimeout(i.timeout),i.timeout=setTimeout(function(){i._show(r)},i.options.showAfter))},_appendContent:function(n){var f=this,r=f.options.content,u=f.content,h=f.options.iframe,s;if(g(r)&&r.url)if("iframe"in f.options||(h=!nt(r.url)),f.trigger(y,{options:r,target:n}),h){u.hide();s=u.find("."+o)[0];s?s.src=r.url||s.src:u.html(it({content:r}));u.find("."+o).off("load"+i).on("load"+i,function(){f.trigger(e);u.show()})}else u.empty(),t.ui.progress(u,!0),f._ajaxRequest(r);else r&&d(r)?(r=r({sender:this,target:n}),u.html(r||"")):u.html(r);f.angular("compile",function(){return{elements:u}})},_ajaxRequest:function(n){var i=this;jQuery.ajax(s({type:"GET",dataType:"html",cache:!1,error:function(n,r){t.ui.progress(i.content,!1);i.trigger(v,{status:r,xhr:n})},success:r(function(n){t.ui.progress(i.content,!1);i.content.html(n);i.trigger(e)},i)},n))},_documentKeyDown:function(n){n.keyCode===t.keys.ESC&&this.hide()},refresh:function(){var t=this,n=t.popup;n&&n.options.anchor&&t._appendContent(n.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(n){n=n||this.element;b(n);this._show(n)},_show:function(n){var t=this,r=t.target();t.popup||t._initPopup();r&&r[0]!=n[0]&&(t.popup.close(),t.popup.element.kendoStop(!0,!0));r&&r[0]==n[0]||(t._appendContent(n),t.popup.options.anchor=n);t.popup.one("deactivate",function(){w(n);n.removeAttr(c);this.element.removeAttr("id").attr("aria-hidden",!0);f.off("keydown"+i,t._documentKeyDownHandler)});t.popup.open()},_initPopup:function(){var u=this,e=u.options,o=n(t.template(tt)({callout:e.callout&&e.position!=="center",dir:p[e.position],autoHide:e.autoHide}));if(u.popup=new k(o,s({activate:function(){var t=this.options.anchor,n=t[0].id||u.element[0].id;n&&(t.attr(c,n+h),this.element.attr("id",n+h));e.callout&&u._positionCallout();this.element.removeAttr("aria-hidden");f.on("keydown"+i,u._documentKeyDownHandler);u.trigger(l)},close:function(){u.trigger(a)},copyAnchorStyles:!1,animation:e.animation},rt[e.position])),o.css({width:e.width,height:e.height}),u.content=o.find(".k-tooltip-content"),u.arrow=o.find(".k-callout"),e.autoHide)o.on("mouseleave"+i,r(u._mouseleave,u));else o.on("click"+i,".k-tooltip-button",r(u._closeButtonClick,u))},_closeButtonClick:function(n){n.preventDefault();this.hide()},_mouseleave:function(t){if(this.popup){var r=n(t.currentTarget),i=r.offset(),u=t.pageX,f=t.pageY;if(i.right=i.left+r.outerWidth(),i.bottom=i.top+r.outerHeight(),u>i.left&&u<i.right&&f>i.top&&f<i.bottom)return;this.popup.close()}else w(n(t.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var t=this,u=t.options.position,f=t.dimensions,i=f.offset,r=t.popup,e=r.options.anchor,o=n(e).offset(),s=parseInt(t.arrow.css("border-top-width"),10),h=n(r.element).offset(),c=p[r.flipped?ut[u]:u],l=o[i]-h[i]+n(e)[f.size]()/2-s;t.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+c).css(i,l)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var n=this.popup;n&&(n.element.off(i),n.destroy());this.element.off(i);f.off("keydown"+i,this._documentKeyDownHandler);u.fn.destroy.call(this)}});t.ui.plugin(ht)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(n,t){t(["./kendo.core"],n)}(function(){return function(n,t){var u=window.kendo,i=u.caret,f=u.keys,h=u.ui,e=h.Widget,r=".kendoMaskedTextBox",o=n.proxy,c=(u.support.propertyChangeEvent?"propertychange":"input")+r,l="k-state-disabled",a="disabled",v="readonly",s="change",y=e.extend({init:function(t,f){var o=this,s,h;e.fn.init.call(o,t,f);o._rules=n.extend({},o.rules,o.options.rules);t=o.element;s=t[0];o.wrapper=t;o._tokenize();o._form();o.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+r,function(){var n=s.value;n?o._togglePrompt(!0):s.value=o._old=o._emptyMask;o._oldValue=n;o._timeoutId=setTimeout(function(){i(t,0,n?o._maskLength:0)})}).on("focusout"+r,function(){var n=t.val();clearTimeout(o._timeoutId);s.value=o._old="";n!==o._emptyMask&&(s.value=o._old=n);o._change();o._togglePrompt()});h=t.is("[disabled]")||n(o.element).parents("fieldset").is(":disabled");h?o.enable(!1):o.readonly(t.is("[readonly]"));o.value(o.options.value||t.val());u.notify(o)},options:{name:"MaskedTextBox",clearPromptChar:!1,unmaskOnPost:!1,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[s],rules:{"0":/\d/,"9":/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(t){var i=this;e.fn.setOptions.call(i,t);i._rules=n.extend({},i.rules,i.options.rules);i._tokenize();this._unbindInput();this._bindInput();i.value(i.element.val())},destroy:function(){var n=this;n.element.off(r);n._formElement&&(n._formElement.off("reset",n._resetHandler),n._formElement.off("submit",n._submitHandler));e.fn.destroy.call(n)},raw:function(){var n=this._unmask(this.element.val(),0);return n.replace(new RegExp(this.options.promptChar,"g"),"")},value:function(n){var i=this.element,r=this._emptyMask,f=this.options;if(n===t)return this.element.val();if(n===null&&(n=""),!r){i.val(n);return}n=this._unmask(n+"");i.val(n?r:"");this._mask(0,this._maskLength,n);n=i.val();this._oldValue=n;u._activeElement()!==i&&(n===r?i.val(""):this._togglePrompt())},_togglePrompt:function(n){var i=this.element[0],t=i.value;this.options.clearPromptChar&&(t=n?this._oldValue:t.replace(new RegExp(this.options.promptChar,"g")," "),i.value=this._old=t)},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},_bindInput:function(){var n=this;if(n._maskLength)n.element.on("keydown"+r,o(n._keydown,n)).on("keypress"+r,o(n._keypress,n)).on("paste"+r,o(n._paste,n)).on(c,o(n._propertyChange,n))},_unbindInput:function(){this.element.off("keydown"+r).off("keypress"+r).off("paste"+r).off(c)},_editable:function(n){var t=this,r=t.element,i=n.disable,u=n.readonly;t._unbindInput();u||i?r.attr(a,i).attr(v,u).toggleClass(l,i):(r.removeAttr(a).removeAttr(v).removeClass(l),t._bindInput())},_change:function(){var n=this,t=n.value();t!==n._oldValue&&(n._oldValue=t,n.trigger(s),n.element.trigger(s))},_propertyChange:function(){var t=this,r=t.element[0],f=r.value,e,n;u._activeElement()===r&&(f===t._old||t._pasting||(n=i(r)[0],e=t._unmask(f.substring(n),n),r.value=t._old=f.substring(0,n)+t._emptyMask.substring(n),t._mask(n,n,e),i(r,n)))},_paste:function(n){var r=this,u=n.target,f=i(u),t=f[0],e=f[1],o=r._unmask(u.value.substring(e),e);r._pasting=!0;setTimeout(function(){var n=u.value,f=n.substring(t,i(u)[0]);u.value=r._old=n.substring(0,t)+r._emptyMask.substring(t);r._mask(t,t,f);t=i(u)[0];r._mask(t,t,o);i(u,t);r._pasting=!1})},_form:function(){var t=this,i=t.element,u=i.attr("form"),r=u?n("#"+u):i.closest("form");if(r[0]){if(t._resetHandler=function(){setTimeout(function(){t.value(i[0].value)})},t._submitHandler=function(){t.element[0].value=t._old=t.raw()},t.options.unmaskOnPost)r.on("submit",t._submitHandler);t._formElement=r.on("reset",t._resetHandler)}},_keydown:function(n){var o=n.keyCode,h=this.element[0],c=i(h),r=c[0],s=c[1],u,e=o===f.BACKSPACE;e||o===f.DELETE?(r===s&&(e?r-=1:s+=1,u=this._find(r,e)),u!==t&&u!==r?(e&&(u+=1),i(h,u)):r>-1&&this._mask(r,s,"",e),n.preventDefault()):o===f.ENTER&&this._change()},_keypress:function(n){if(n.which!==0&&!n.metaKey&&!n.ctrlKey&&n.keyCode!==f.ENTER){var t=String.fromCharCode(n.which),r=i(this.element);this._mask(r[0],r[1],t);(n.keyCode===f.BACKSPACE||t)&&n.preventDefault()}},_find:function(n,t){var r=this.element.val()||this._emptyMask,i=1;for(t===!0&&(i=-1);n>-1||n<=this._maskLength;){if(r.charAt(n)!==this.tokens[n])return n;n+=i}return-1},_mask:function(n,r,f,e){var h=this.element[0],o=h.value||this._emptyMask,y=this.options.promptChar,l,a=0,c,v,s;for(n=this._find(n,e),n>r&&(r=n),c=this._unmask(o.substring(r),r),f=this._unmask(f,n),l=f.length,f&&(c=c.replace(new RegExp("^_{0,"+l+"}"),"")),f+=c,o=o.split(""),v=f.charAt(a);n<this._maskLength;)o[n]=v||y,v=f.charAt(++a),s===t&&a>l&&(s=n),n=this._find(n+1);h.value=this._old=o.join("");u._activeElement()===h&&(s===t&&(s=this._maskLength),i(h,s))},_unmask:function(t,i){if(!t)return"";t=(t+"").split("");for(var r,u,e=0,f=i||0,o=this.options.promptChar,h=t.length,c=this.tokens.length,s="";f<c;)if(r=t[e],u=this.tokens[f],r===u||r===o?(s+=r===o?o:"",e+=1,f+=1):typeof u!="string"?((u.test&&u.test(r)||n.isFunction(u)&&u(r))&&(s+=r,f+=1),e+=1):f+=1,e>=h)break;return s},_tokenize:function(){for(var e=[],r=0,l=this.options.mask||"",o=l.split(""),a=o.length,t=0,n,s,f="",v=this.options.promptChar,h=u.getCulture(this.options.culture).numberFormat,y=this._rules,i,c;t<a;t++)if(n=o[t],s=y[n],s)e[r]=s,f+=v,r+=1;else for(n==="."||n===","?n=h[n]:n==="$"?n=h.currency.symbol:n==="\\"&&(t+=1,n=o[t]),n=n.split(""),i=0,c=n.length;i<c;i++)e[r]=n[i],f+=n[i],r+=1;this.tokens=e;this._emptyMask=f;this._maskLength=f.length}});h.plugin(y)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()}),function(){function s(n,t,i){i=(i||0)-1;for(var r=n?n.length:0;++i<r;)if(n[i]===t)return i;return-1}function d(n,t){var i=typeof t,r;return(n=n.l,"boolean"==i||null==t)?n[t]?0:-1:("number"!=i&&"string"!=i&&(i="object"),r="number"==i?t:st+t,n=(n=n[i])&&n[r],"object"==i?n&&-1<s(n,t)?0:-1:n?0:-1)}function bt(n){var t=this.l,i=typeof n,r;"boolean"==i||null==n?t[n]=!0:("number"!=i&&"string"!=i&&(i="object"),r="number"==i?n:st+n,t=t[i]||(t[i]={}),"object"==i?(t[r]||(t[r]=[])).push(n):t[r]=!0)}function ct(n){return n.charCodeAt(0)}function kt(n,t){for(var i,r,f=n.m,e=t.m,u=-1,o=f.length;++u<o;)if(i=f[u],r=e[u],i!==r){if(i>r||typeof i=="undefined")return 1;if(i<r||typeof r=="undefined")return-1}return n.n-t.n}function rt(n){var u=-1,r=n.length,t=n[0],i=n[r/2|0],f=n[r-1];if(t&&typeof t=="object"&&i&&typeof i=="object"&&f&&typeof f=="object")return!1;for(t=ut(),t["false"]=t["null"]=t["true"]=t.undefined=!1,i=ut(),i.k=n,i.l=t,i.push=bt;++u<r;)i.push(n[u]);return i}function dt(n){return"\\"+hi[n]}function r(){return et.pop()||[]}function ut(){return ot.pop()||{k:null,l:null,m:null,"false":!1,n:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,o:null}}function i(n){n.length=0;et.length<lt&&et.push(n)}function a(n){var t=n.l;t&&a(t);n.k=n.l=n.m=n.object=n.number=n.string=n.o=null;ot.length<lt&&ot.push(n)}function n(n,t,i){var r,u;for(t||(t=0),typeof i=="undefined"&&(i=n?n.length:0),r=-1,i=i-t||0,u=Array(0>i?0:i);++r<i;)u[r]=n[t+r];return u}function ft(l){function it(n,i,r){if(!n||!t[typeof n])return n;i=i&&typeof r=="undefined"?i:ai(i,r,3);for(var f=-1,u=t[typeof n]&&li(n),e=u?u.length:0;++f<e&&(r=u[f],!1!==i(n[r],r,n)););return n}function wi(n,i,r){var u;if(!n||!t[typeof n])return n;i=i&&typeof r=="undefined"?i:ai(i,r,3);for(u in n)if(!1===i(n[u],u,n))break;return n}function ou(n,i,r){var f,u=n,e=u;if(!u)return e;for(var s=arguments,h=0,l=typeof r=="number"?2:s.length;++h<l;)if((u=s[h])&&t[typeof u])for(var c=-1,o=t[typeof u]&&li(u),a=o?o.length:0;++c<a;)f=o[c],"undefined"==typeof e[f]&&(e[f]=u[f]);return e}function kr(n,i,r){var o,u=n,s=u,h;if(!u)return s;var e=arguments,l=0,f=typeof r=="number"?2:e.length;for(3<f&&"function"==typeof e[f-2]?h=ai(e[--f-1],e[f--],2):2<f&&"function"==typeof e[f-1]&&(h=e[--f]);++l<f;)if((u=e[l])&&t[typeof u])for(var a=-1,c=t[typeof u]&&li(u),v=c?c.length:0;++a<v;)o=c[a],s[o]=h?h(s[o],u[o]):u[o];return s}function le(n){var i,r=[];if(!n||!t[typeof n])return r;for(i in n)ci.call(n,i)&&r.push(i);return r}function tt(n){return n&&typeof n=="object"&&!ot(n)&&ci.call(n,"__wrapped__")?n:new tr(n)}function tr(n,t){this.__chain__=!!t;this.__wrapped__=n}function ae(t){function i(){var e,t;return(u&&(t=n(u),pr.apply(t,arguments)),this instanceof i)?(e=sr(r.prototype),t=r.apply(e,t||arguments),lt(t)?t:e):r.apply(f,t||arguments)}var r=t[0],u=t[2],f=t[4];return nf(i,t),i}function su(t,f,e,o,s){var c,l,a,y,v;if(e&&(c=e(t),typeof c!="undefined"))return c;if(!lt(t)||(l=hi.call(t),!u[l]))return t;a=ki[l];switch(l){case p:case w:return new a(+t);case b:case h:return new a(t);case k:return c=a(t.source,ui.exec(t)),c.lastIndex=t.lastIndex,c}if(l=ot(t),f){for(y=!o,o||(o=r()),s||(s=r()),v=o.length;v--;)if(o[v]==t)return s[v];c=l?a(t.length):{}}else c=l?n(t):kr({},t);return l&&(ci.call(t,"index")&&(c.index=t.index),ci.call(t,"input")&&(c.input=t.input)),f?(o.push(t),s.push(c),(l?bt:it)(t,function(n,t){c[t]=su(n,f,e,o,s)}),y&&(i(o),i(s)),c):c}function sr(n){return lt(n)?fu(n):{}}function ai(n,t,i){var r,u;if(typeof n!="function")return wu;if(typeof t=="undefined"||!("prototype"in n)||(r=n.__bindData__,typeof r!="undefined"||(or.funcNames&&(r=!n.name),r=r||!or.funcDecomp,r)||(u=no.call(n),or.funcNames||(r=!fi.test(u)),r||(r=yt.test(u),nf(n,r))),!1===r||!0!==r&&1&r[1]))return n;switch(i){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)};case 4:return function(i,r,u,f){return n.call(t,i,r,u,f)}}return te(n,t)}function ff(t){function u(){var y=c?o:this,t;return e&&(t=n(e),pr.apply(t,arguments)),(f||h)&&(t||(t=n(arguments)),f&&pr.apply(t,f),h&&t.length<s)?(i|=16,ff([r,a?i:-4&i,t,null,o,s])):(t||(t=arguments),l&&(r=y[v]),this instanceof u?(y=sr(r.prototype),t=r.apply(y,t),lt(t)?t:y):r.apply(y,t))}var r=t[0],i=t[1],e=t[2],f=t[3],o=t[4],s=t[5],c=1&i,l=2&i,h=4&i,a=8&i,v=r;return nf(u,t),u}function hr(n,t){var f=-1,r=dr(),e=n?n.length:0,u=e>=ht&&r===s,o=[],i;for(u&&(i=rt(t),i?(r=d,t=i):u=!1);++f<e;)i=n[f],0>r(t,i)&&o.push(i);return u&&a(t),o}function di(n,t,i,r){var e,f,u;for(r=(r||0)-1,e=n?n.length:0,f=[];++r<e;)if(u=n[r],u&&typeof u=="object"&&typeof u.length=="number"&&(ot(u)||gr(u))){t||(u=di(u,t,i));var o=-1,s=u.length,h=f.length;for(f.length+=s;++o<s;)f[h++]=u[o]}else i||f.push(u);return f}function rr(n,u,f,e,s,c){var a,g,l,tt,nt,d;if(f&&(d=f(n,u),typeof d!="undefined"))return!!d;if(n===u)return 0!==n||1/n==1/u;if(n===n&&!(n&&t[typeof n]||u&&t[typeof u]))return!1;if(null==n||null==u)return n===u;if(a=hi.call(n),g=hi.call(u),a==v&&(a=o),g==v&&(g=o),a!=g)return!1;switch(a){case p:case w:return+n==+u;case b:return n!=+n?u!=+u:0==n?1/n==1/u:n==+u;case k:case h:return n==nr(u)}if(g=a==y,!g){if(l=ci.call(n,"__wrapped__"),tt=ci.call(u,"__wrapped__"),l||tt)return rr(l?n.__wrapped__:n,tt?u.__wrapped__:u,f,e,s,c);if(a!=o||(a=n.constructor,l=u.constructor,a!=l&&!(et(a)&&a instanceof a&&et(l)&&l instanceof l)&&"constructor"in n&&"constructor"in u))return!1}for(a=!s,s||(s=r()),c||(c=r()),l=s.length;l--;)if(s[l]==n)return c[l]==u;if(nt=0,d=!0,s.push(n),c.push(u),g){if(l=n.length,nt=u.length,(d=nt==l)||e)for(;nt--;)if(g=l,tt=u[nt],e)for(;g--&&!(d=rr(n[g],tt,f,e,s,c)););else if(!(d=rr(n[nt],tt,f,e,s,c)))break}else wi(u,function(t,i,r){if(ci.call(r,i))return(nt++,d=ci.call(n,i)&&rr(n[i],t,f,e,s,c))}),d&&!e&&wi(n,function(n,t,i){if(ci.call(i,t))return d=-1<--nt});return s.pop(),c.pop(),a&&(i(s),i(c)),d}function ef(n,t,i,r,u){(ot(t)?bt:it)(t,function(t,f){var h,c,o=t,e=n[f],s;if(t&&((c=ot(t))||rf(t))){for(o=r.length;o--;)if(h=r[o]==t){e=u[o];break}h||(i&&(o=i(e,t),s=typeof o!="undefined")&&(e=o),s||(e=c?ot(e)?e:[]:rf(e)?e:{}),r.push(t),u.push(e),s||ef(e,t,i,r,u))}else i&&(o=i(e,t),typeof o=="undefined"&&(o=t)),typeof o!="undefined"&&(e=o);n[f]=e})}function hu(n,t){return n+ge(he()*(t-n+1))}function cu(n,t,u){var e=-1,l=dr(),y=n?n.length:0,v=[],o=!t&&y>=ht&&l===s,f=u||o?r():v,h,c;for(o&&(f=rt(f),l=d);++e<y;)h=n[e],c=u?u(h,e,n):h,(t?!e||f[f.length-1]!==c:0>l(f,c))&&((u||o)&&f.push(c),v.push(h));return o?(i(f.k),a(f)):u&&i(f),v}function lu(n){return function(t,i,r){var u={},f,e;if(i=tt.createCallback(i,r,3),r=-1,f=t?t.length:0,typeof f=="number")for(;++r<f;)e=t[r],n(u,e,i(e,r,t),t);else it(t,function(t,r,f){n(u,t,i(t,r,f),f)});return u}}function pi(t,i,r,u,f,e){var c=1&i,l=4&i,s=16&i,h=32&i,o;if(!(2&i||et(t)))throw new bi;return s&&!r.length&&(i&=-17,s=r=!1),h&&!u.length&&(i&=-33,h=u=!1),o=t&&t.__bindData__,o&&!0!==o?(o=n(o),o[2]&&(o[2]=n(o[2])),o[3]&&(o[3]=n(o[3])),!c||1&o[1]||(o[4]=f),!c&&1&o[1]&&(i|=8),!l||4&o[1]||(o[5]=e),s&&pr.apply(o[2]||(o[2]=[]),r),h&&to.apply(o[3]||(o[3]=[]),u),o[1]|=i,pi.apply(null,o)):(1==i||17===i?ae:ff)([t,i,r,u,f,e])}function ve(n){return tf[n]}function dr(){var n=(n=tt.indexOf)===bf?s:n;return n}function gi(n){return typeof n=="function"&&ke.test(n)}function of(n){var t,i;return n&&hi.call(n)==o&&(t=n.constructor,!et(t)||t instanceof t)?(wi(n,function(n,t){i=t}),typeof i=="undefined"||ci.call(n,i)):!1}function ye(n){return ce[n]}function gr(n){return n&&typeof n=="object"&&typeof n.length=="number"&&hi.call(n)==v||!1}function sf(n,t,i){var r=li(n),u=r.length;for(t=ai(t,i,3);u--&&(i=r[u],!1!==t(n[i],i,n)););return n}function cr(n){var t=[];return wi(n,function(n,i){et(n)&&t.push(i)}),t.sort()}function hf(n){for(var t,i=-1,r=li(n),f=r.length,u={};++i<f;)t=r[i],u[n[t]]=t;return u}function et(n){return typeof n=="function"}function lt(n){return!(!n||!t[typeof n])}function cf(n){return typeof n=="number"||n&&typeof n=="object"&&hi.call(n)==b||!1}function lr(n){return typeof n=="string"||n&&typeof n=="object"&&hi.call(n)==h||!1}function nu(n){for(var t=-1,i=li(n),r=i.length,u=vi(r);++t<r;)u[t]=n[i[t]];return u}function lf(n,t,i){var e=-1,u=dr(),f=n?n.length:0,r=!1;return i=(0>i?yi(0,f+i):i)||0,ot(n)?r=-1<u(n,t,i):typeof f=="number"?r=-1<(lr(n)?n.indexOf(t,i):u(n,t,i)):it(n,function(n){if(!(++e<i))return!(r=n===t)}),r}function af(n,t,i){var r=!0,u;if(t=tt.createCallback(t,i,3),i=-1,u=n?n.length:0,typeof u=="number")for(;++i<u&&(r=!!t(n[i],i,n)););else it(n,function(n,i,u){return r=!!t(n,i,u)});return r}function tu(n,t,i){var r=[],u,f;if(t=tt.createCallback(t,i,3),i=-1,u=n?n.length:0,typeof u=="number")for(;++i<u;)f=n[i],t(f,i,n)&&r.push(f);else it(n,function(n,i,u){t(n,i,u)&&r.push(n)});return r}function au(n,t,i){var r,f,u;if(t=tt.createCallback(t,i,3),i=-1,r=n?n.length:0,typeof r!="number")return it(n,function(n,i,r){if(t(n,i,r))return(f=n,!1)}),f;for(;++i<r;)if(u=n[i],t(u,i,n))return u}function bt(n,t,i){var r=-1,u=n?n.length:0;if(t=t&&typeof i=="undefined"?t:ai(t,i,3),typeof u=="number")for(;++r<u&&!1!==t(n[r],r,n););else it(n,t);return n}function iu(n,t,i){var r=n?n.length:0,u;if(t=t&&typeof i=="undefined"?t:ai(t,i,3),typeof r=="number")for(;r--&&!1!==t(n[r],r,n););else u=li(n),r=u.length,it(n,function(n,i,f){return i=u?u[--r]:--r,t(f[i],i,f)});return n}function ar(n,t,i){var r=-1,f=n?n.length:0,u;if(t=tt.createCallback(t,i,3),typeof f=="number")for(u=vi(f);++r<f;)u[r]=t(n[r],r,n);else u=[],it(n,function(n,i,f){u[++r]=t(n,i,f)});return u}function vf(n,t,i){var u=-1/0,r=u,e,f;if(typeof t!="function"&&i&&i[t]===n&&(t=null),null==t&&ot(n))for(i=-1,e=n.length;++i<e;)f=n[i],f>r&&(r=f);else t=null==t&&lr(n)?ct:tt.createCallback(t,i,3),bt(n,function(n,i,f){i=t(n,i,f);i>u&&(u=i,r=n)});return r}function vu(n,t,i,r){var f,u,e;if(!n)return i;if(f=3>arguments.length,t=tt.createCallback(t,r,4),u=-1,e=n.length,typeof e=="number")for(f&&(i=n[++u]);++u<e;)i=t(i,n[u],u,n);else it(n,function(n,r,u){i=f?(f=!1,n):t(i,n,r,u)});return i}function yf(n,t,i,r){var u=3>arguments.length;return t=tt.createCallback(t,r,4),iu(n,function(n,r,f){i=u?(u=!1,n):t(i,n,r,f)}),i}function pf(n){var i=-1,r=n?n.length:0,t=vi(typeof r=="number"?r:0);return bt(n,function(n){var r=hu(0,++i);t[i]=t[r];t[r]=n}),t}function wf(n,t,i){var r,u;if(t=tt.createCallback(t,i,3),i=-1,u=n?n.length:0,typeof u=="number")for(;++i<u&&!(r=t(n[i],i,n)););else it(n,function(n,i,u){return!(r=t(n,i,u))});return!!r}function yu(t,i,r){var u=0,o=t?t.length:0,f;if(typeof i!="number"&&null!=i)for(f=-1,i=tt.createCallback(i,r,3);++f<o&&i(t[f],f,t);)u++;else if(u=i,null==u||r)return t?t[0]:e;return n(t,0,br(yi(0,u),o))}function bf(n,t,i){if(typeof i=="number"){var r=n?n.length:0;i=0>i?yi(0,r+i):i||0}else if(i)return i=kf(n,t),n[i]===t?i:-1;return s(n,t,i)}function pu(t,i,r){if(typeof i!="number"&&null!=i){var u=0,f=-1,e=t?t.length:0;for(i=tt.createCallback(i,r,3);++f<e&&i(t[f],f,t);)u++}else u=null==i||r?1:yi(0,i);return n(t,u)}function kf(n,t,i,r){var u=0,f=n?n.length:u;for(i=i?tt.createCallback(i,r,1):wu,t=i(t);u<f;)r=u+f>>>1,i(n[r])<t?u=r+1:f=r;return u}function df(n,t,i,r){return typeof t!="boolean"&&null!=t&&(r=i,i=typeof t!="function"&&r&&r[t]===n?null:t,t=!1),null!=i&&(i=tt.createCallback(i,r,3)),cu(n,t,i)}function gf(){for(var n=1<arguments.length?arguments:arguments[0],t=-1,i=n?vf(uf(n,"length")):0,r=vi(0>i?0:i);++t<i;)r[t]=uf(n,t);return r}function ne(n,t){var r=-1,f=n?n.length:0,u={},i;for(t||!f||ot(n[0])||(t=[]);++r<f;)i=n[r],t?u[i]=t[r]:i&&(u[i[0]]=i[1]);return u}function te(t,i){return 2<arguments.length?pi(t,17,n(arguments,2),null,i):pi(t,1,null,null,i)}function ie(n,t,i){function w(){r&&uu(r);u=r=y=e;(s||a!==t)&&(l=ir(),h=n.apply(o,f),r||u||(f=o=null))}function p(){var i=t-(ir()-c);0<i?r=wr(p,i):(u&&uu(u),i=y,u=r=y=e,i&&(l=ir(),h=n.apply(o,f),r||u||(f=o=null)))}var f,u,h,c,o,r,y,l=0,a=!1,s=!0,v;if(!et(n))throw new bi;return(t=yi(0,t)||0,!0===i)?(v=!0,s=!1):lt(i)&&(v=i.leading,a="maxWait"in i&&(yi(t,i.maxWait)||0),s="trailing"in i?i.trailing:s),function(){var b,e,i;return(f=arguments,c=ir(),o=this,y=s&&(r||!v),!1===a)?b=v&&!r:(u||v||(l=c),e=a-(c-l),i=0>=e,i?(u&&(u=uu(u)),l=c,h=n.apply(o,f)):u||(u=wr(w,e))),i&&r?r=uu(r):r||t===a||(r=wr(p,t)),b&&(i=!0,h=n.apply(o,f)),!i||r||u||(f=o=null),h}}function wu(n){return n}function bu(n,t,i){var u=!0,f=t&&cr(t),r,e;t&&(i||f.length)||(null==i&&(i=t),r=tr,t=n,n=tt,f=cr(t));!1===i?u=!1:lt(i)&&"chain"in i&&(u=i.chain);r=n;e=et(r);bt(f,function(i){var f=n[i]=t[i];e&&(r.prototype[i]=function(){var i=this.__chain__,e=this.__wrapped__,t=[e];if(pr.apply(t,arguments),t=f.apply(n,t),u||i){if(e===t&&lt(t))return this;t=new r(t);t.__chain__=i}return t})})}function re(){}function ue(n){return function(t){return t[n]}}function fe(){return this.__wrapped__}var or;l=l?f.defaults(c.Object(),l,f.pick(c,si)):c;var vi=l.Array,pe=l.Boolean,ku=l.Date,ru=l.Function,vr=l.Math,we=l.Number,ur=l.Object,yr=l.RegExp,nr=l.String,bi=l.TypeError,fr=[],ee=ur.prototype,be=l._,hi=ee.toString,ke=yr("^"+nr(hi).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),de=vr.ceil,uu=l.clearTimeout,ge=vr.floor,no=ru.prototype.toString,er=gi(er=ur.getPrototypeOf)&&er,ci=ee.hasOwnProperty,pr=fr.push,wr=l.setTimeout,oe=fr.splice,to=fr.unshift,se=function(){try{var t={},n=gi(n=ur.defineProperty)&&n,i=n(t,t,t)&&n}catch(r){}return i}(),fu=gi(fu=ur.create)&&fu,du=gi(du=vi.isArray)&&du,io=l.isFinite,ro=l.isNaN,eu=gi(eu=ur.keys)&&eu,yi=vr.max,br=vr.min,gu=l.parseInt,he=vr.random,ki={};ki[y]=vi;ki[p]=pe;ki[w]=ku;ki[pt]=ru;ki[o]=ur;ki[b]=we;ki[k]=yr;ki[h]=nr;tr.prototype=tt.prototype;or=tt.support={};or.funcDecomp=!gi(l.a)&&yt.test(ft);or.funcNames=typeof ru.name=="string";tt.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:vt,variable:"",imports:{_:tt}};fu||(sr=function(){function n(){}return function(t){if(lt(t)){n.prototype=t;var i=new n;n.prototype=null}return i||l.Object()}}());var nf=se?function(n,t){wt.value=t;se(n,"__bindData__",wt)}:re,ot=du||function(n){return n&&typeof n=="object"&&typeof n.length=="number"&&hi.call(n)==y||!1},li=eu?function(n){return lt(n)?eu(n):[]}:le,tf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ce=hf(tf),uo=yr("("+li(ce).join("|")+")","g"),fo=yr("["+li(tf).join("")+"]","g"),rf=er?function(n){if(!n||hi.call(n)!=o)return!1;var i=n.valueOf,t=gi(i)&&(t=er(i))&&er(t);return t?n==t||er(n)==t:of(n)}:of,eo=lu(function(n,t,i){ci.call(n,i)?n[i]++:n[i]=1}),oo=lu(function(n,t,i){(ci.call(n,i)?n[i]:n[i]=[]).push(t)}),so=lu(function(n,t,i){n[i]=t}),uf=ar,ir=gi(ir=ku.now)&&ir||function(){return(new ku).getTime()},ho=8==gu(at+"08")?gu:function(n,t){return gu(lr(n)?n.replace(ei,""):n,t||0)};return tt.after=function(n,t){if(!et(t))throw new bi;return function(){if(1>--n)return t.apply(this,arguments)}},tt.assign=kr,tt.at=function(n){for(var t=arguments,i=-1,r=di(t,!0,!1,1),t=t[2]&&t[2][t[1]]===n?1:r.length,u=vi(t);++i<t;)u[i]=n[r[i]];return u},tt.bind=te,tt.bindAll=function(n){for(var t,i=1<arguments.length?di(arguments,!0,!1,1):cr(n),r=-1,u=i.length;++r<u;)t=i[r],n[t]=pi(n[t],1,null,null,n);return n},tt.bindKey=function(t,i){return 2<arguments.length?pi(i,19,n(arguments,2),null,t):pi(i,3,null,null,t)},tt.chain=function(n){return n=new tr(n),n.__chain__=!0,n},tt.compact=function(n){for(var t,i=-1,u=n?n.length:0,r=[];++i<u;)t=n[i],t&&r.push(t);return r},tt.compose=function(){for(var n=arguments,t=n.length;t--;)if(!et(n[t]))throw new bi;return function(){for(var t=arguments,i=n.length;i--;)t=[n[i].apply(this,t)];return t[0]}},tt.constant=function(n){return function(){return n}},tt.countBy=eo,tt.create=function(n,t){var i=sr(n);return t?kr(i,t):i},tt.createCallback=function(n,t,i){var f=typeof n;if(null==n||"function"==f)return ai(n,t,i);if("object"!=f)return ue(n);var u=li(n),e=u[0],r=n[e];return 1!=u.length||r!==r||lt(r)?function(t){for(var i=u.length,r=!1;i--&&(r=rr(t[u[i]],n[u[i]],null,!0)););return r}:function(n){return n=n[e],r===n&&(0!==r||1/r==1/n)}},tt.curry=function(n,t){return t=typeof t=="number"?t:+t||n.length,pi(n,4,null,null,null,t)},tt.debounce=ie,tt.defaults=ou,tt.defer=function(t){if(!et(t))throw new bi;var i=n(arguments,1);return wr(function(){t.apply(e,i)},1)},tt.delay=function(t,i){if(!et(t))throw new bi;var r=n(arguments,2);return wr(function(){t.apply(e,r)},i)},tt.difference=function(n){return hr(n,di(arguments,!0,!0,1))},tt.filter=tu,tt.flatten=function(n,t,i,r){return typeof t!="boolean"&&null!=t&&(r=i,i=typeof t!="function"&&r&&r[t]===n?null:t,t=!1),null!=i&&(n=ar(n,i,r)),di(n,t)},tt.forEach=bt,tt.forEachRight=iu,tt.forIn=wi,tt.forInRight=function(n,t,i){var r=[],u;for(wi(n,function(n,t){r.push(t,n)}),u=r.length,t=ai(t,i,3);u--&&!1!==t(r[u--],r[u],n););return n},tt.forOwn=it,tt.forOwnRight=sf,tt.functions=cr,tt.groupBy=oo,tt.indexBy=so,tt.initial=function(t,i,r){var u=0,e=t?t.length:0,f;if(typeof i!="number"&&null!=i)for(f=e,i=tt.createCallback(i,r,3);f--&&i(t[f],f,t);)u++;else u=null==i||r?1:i||u;return n(t,0,br(yi(0,e-u),e))},tt.intersection=function(){for(var t,n,o=[],u=-1,h=arguments.length,f=r(),l=dr(),e=l===s,c=r();++u<h;)n=arguments[u],(ot(n)||gr(n))&&(o.push(n),f.push(e&&n.length>=ht&&rt(u?o[u]:c)));var e=o[0],v=-1,p=e?e.length:0,y=[];n:for(;++v<p;)if(t=f[0],n=e[v],0>(t?d(t,n):l(c,n))){for(u=h,(t||c).push(n);--u;)if(t=f[u],0>(t?d(t,n):l(o[u],n)))continue n;y.push(n)}for(;h--;)(t=f[h])&&a(t);return i(f),i(c),y},tt.invert=hf,tt.invoke=function(t,i){var f=n(arguments,2),e=-1,o=typeof i=="function",r=t?t.length:0,u=vi(typeof r=="number"?r:0);return bt(t,function(n){u[++e]=(o?i:n[i]).apply(n,f)}),u},tt.keys=li,tt.map=ar,tt.mapValues=function(n,t,i){var r={};return t=tt.createCallback(t,i,3),it(n,function(n,i,u){r[i]=t(n,i,u)}),r},tt.max=vf,tt.memoize=function(n,t){function i(){var r=i.cache,u=t?t.apply(this,arguments):st+arguments[0];return ci.call(r,u)?r[u]:r[u]=n.apply(this,arguments)}if(!et(n))throw new bi;return i.cache={},i},tt.merge=function(t){var f=arguments,u=2,e;if(!lt(t))return t;("number"!=typeof f[2]&&(u=f.length),3<u&&"function"==typeof f[u-2])?e=ai(f[--u-1],f[u--],2):2<u&&"function"==typeof f[u-1]&&(e=f[--u]);for(var f=n(arguments,1,u),o=-1,s=r(),h=r();++o<u;)ef(t,f[o],e,s,h);return i(s),i(h),t},tt.min=function(n,t,i){var u=1/0,r=u,e,f;if(typeof t!="function"&&i&&i[t]===n&&(t=null),null==t&&ot(n))for(i=-1,e=n.length;++i<e;)f=n[i],f<r&&(r=f);else t=null==t&&lr(n)?ct:tt.createCallback(t,i,3),bt(n,function(n,i,f){i=t(n,i,f);i<u&&(u=i,r=n)});return r},tt.omit=function(n,t,i){var u={},r,f;if(typeof t!="function"){r=[];wi(n,function(n,t){r.push(t)});for(var r=hr(r,di(arguments,!0,!1,1)),e=-1,o=r.length;++e<o;)f=r[e],u[f]=n[f]}else t=tt.createCallback(t,i,3),wi(n,function(n,i,r){t(n,i,r)||(u[i]=n)});return u},tt.once=function(n){var i,t;if(!et(n))throw new bi;return function(){return i?t:(i=!0,t=n.apply(this,arguments),n=null,t)}},tt.pairs=function(n){for(var i,t=-1,r=li(n),u=r.length,f=vi(u);++t<u;)i=r[t],f[t]=[i,n[i]];return f},tt.partial=function(t){return pi(t,16,n(arguments,1))},tt.partialRight=function(t){return pi(t,32,null,n(arguments,1))},tt.pick=function(n,t,i){var u={},r;if(typeof t!="function")for(var f=-1,e=di(arguments,!0,!1,1),o=lt(n)?e.length:0;++f<o;)r=e[f],r in n&&(u[r]=n[r]);else t=tt.createCallback(t,i,3),wi(n,function(n,i,r){t(n,i,r)&&(u[i]=n)});return u},tt.pluck=uf,tt.property=ue,tt.pull=function(n){for(var t,f,i=arguments,r=0,e=i.length,u=n?n.length:0;++r<e;)for(t=-1,f=i[r];++t<u;)n[t]===f&&(oe.call(n,t--,1),u--);return n},tt.range=function(n,t,i){var r,u;for(n=+n||0,i=typeof i=="number"?i:+i||1,null==t&&(t=n,n=0),r=-1,t=yi(0,de((t-n)/(i||1))),u=vi(t);++r<t;)u[r]=n,n+=i;return u},tt.reject=function(n,t,i){return t=tt.createCallback(t,i,3),tu(n,function(n,i,r){return!t(n,i,r)})},tt.remove=function(n,t,i){var r=-1,u=n?n.length:0,f=[];for(t=tt.createCallback(t,i,3);++r<u;)i=n[r],t(i,r,n)&&(f.push(i),oe.call(n,r--,1),u--);return f},tt.rest=pu,tt.shuffle=pf,tt.sortBy=function(n,t,u){var s=-1,o=ot(t),f=n?n.length:0,e=vi(typeof f=="number"?f:0);for(o||(t=tt.createCallback(t,u,3)),bt(n,function(n,i,u){var f=e[++s]=ut();o?f.m=ar(t,function(t){return n[t]}):(f.m=r())[0]=t(n,i,u);f.n=s;f.o=n}),f=e.length,e.sort(kt);f--;)n=e[f],e[f]=n.o,o||i(n.m),a(n);return e},tt.tap=function(n,t){return t(n),n},tt.throttle=function(n,t,i){var r=!0,u=!0;if(!et(n))throw new bi;return!1===i?r=!1:lt(i)&&(r="leading"in i?i.leading:r,u="trailing"in i?i.trailing:u),nt.leading=r,nt.maxWait=t,nt.trailing=u,ie(n,t,nt)},tt.times=function(n,t,i){n=-1<(n=+n)?n:0;var r=-1,u=vi(n);for(t=ai(t,i,1);++r<n;)u[r]=t(r);return u},tt.toArray=function(t){return t&&typeof t.length=="number"?n(t):nu(t)},tt.transform=function(n,t,i,r){var f=ot(n),u;return null==i&&(f?i=[]:(u=n&&n.constructor,i=sr(u&&u.prototype))),t&&(t=tt.createCallback(t,r,4),(f?bt:it)(n,function(n,r,u){return t(i,n,r,u)})),i},tt.union=function(){return cu(di(arguments,!0,!0))},tt.uniq=df,tt.values=nu,tt.where=tu,tt.without=function(t){return hr(t,n(arguments,1))},tt.wrap=function(n,t){return pi(t,16,[n])},tt.xor=function(){for(var n,t,i=-1,r=arguments.length;++i<r;)n=arguments[i],(ot(n)||gr(n))&&(t=t?cu(hr(t,n).concat(hr(n,t))):n);return t||[]},tt.zip=gf,tt.zipObject=ne,tt.collect=ar,tt.drop=pu,tt.each=bt,tt.eachRight=iu,tt.extend=kr,tt.methods=cr,tt.object=ne,tt.select=tu,tt.tail=pu,tt.unique=df,tt.unzip=gf,bu(tt),tt.clone=function(n,t,i,r){return typeof t!="boolean"&&null!=t&&(r=i,i=t,t=!1),su(n,t,typeof i=="function"&&ai(i,r,1))},tt.cloneDeep=function(n,t,i){return su(n,!0,typeof t=="function"&&ai(t,i,1))},tt.contains=lf,tt.escape=function(n){return null==n?"":nr(n).replace(fo,ve)},tt.every=af,tt.find=au,tt.findIndex=function(n,t,i){var r=-1,u=n?n.length:0;for(t=tt.createCallback(t,i,3);++r<u;)if(t(n[r],r,n))return r;return-1},tt.findKey=function(n,t,i){var r;return t=tt.createCallback(t,i,3),it(n,function(n,i,u){if(t(n,i,u))return(r=i,!1)}),r},tt.findLast=function(n,t,i){var r;return t=tt.createCallback(t,i,3),iu(n,function(n,i,u){if(t(n,i,u))return(r=n,!1)}),r},tt.findLastIndex=function(n,t,i){var r=n?n.length:0;for(t=tt.createCallback(t,i,3);r--;)if(t(n[r],r,n))return r;return-1},tt.findLastKey=function(n,t,i){var r;return t=tt.createCallback(t,i,3),sf(n,function(n,i,u){if(t(n,i,u))return(r=i,!1)}),r},tt.has=function(n,t){return n?ci.call(n,t):!1},tt.identity=wu,tt.indexOf=bf,tt.isArguments=gr,tt.isArray=ot,tt.isBoolean=function(n){return!0===n||!1===n||n&&typeof n=="object"&&hi.call(n)==p||!1},tt.isDate=function(n){return n&&typeof n=="object"&&hi.call(n)==w||!1},tt.isElement=function(n){return n&&1===n.nodeType||!1},tt.isEmpty=function(n){var i=!0,t,r;return n?(t=hi.call(n),r=n.length,t==y||t==h||t==v||t==o&&typeof r=="number"&&et(n.splice)?!r:(it(n,function(){return i=!1}),i)):i},tt.isEqual=function(n,t,i,r){return rr(n,t,typeof i=="function"&&ai(i,r,2))},tt.isFinite=function(n){return io(n)&&!ro(parseFloat(n))},tt.isFunction=et,tt.isNaN=function(n){return cf(n)&&n!=+n},tt.isNull=function(n){return null===n},tt.isNumber=cf,tt.isObject=lt,tt.isPlainObject=rf,tt.isRegExp=function(n){return n&&typeof n=="object"&&hi.call(n)==k||!1},tt.isString=lr,tt.isUndefined=function(n){return typeof n=="undefined"},tt.lastIndexOf=function(n,t,i){var r=n?n.length:0;for(typeof i=="number"&&(r=(0>i?yi(0,r+i):br(i,r-1))+1);r--;)if(n[r]===t)return r;return-1},tt.mixin=bu,tt.noConflict=function(){return l._=be,this},tt.noop=re,tt.now=ir,tt.parseInt=ho,tt.random=function(n,t,i){var u=null==n,r=null==t;return null==i&&(typeof n=="boolean"&&r?(i=n,n=1):r||typeof t!="boolean"||(i=t,r=!0)),u&&r&&(t=1),n=+n||0,r?(t=n,n=0):t=+t||0,i||n%1||t%1?(i=he(),br(n+i*(t-n+parseFloat("1e-"+((i+"").length-1))),t)):hu(n,t)},tt.reduce=vu,tt.reduceRight=yf,tt.result=function(n,t){if(n){var i=n[t];return et(i)?n[t]():i}},tt.runInContext=ft,tt.size=function(n){var t=n?n.length:0;return typeof t=="number"?t:li(n).length},tt.some=wf,tt.sortedIndex=kf,tt.template=function(n,t,i){var f=tt.templateSettings,s;n=nr(n||"");i=ou({},i,f);var h,o=ou({},i.imports,f.imports),f=li(o),o=nu(o),c=0,u=i.interpolate||g,r="__p+='",u=yr((i.escape||g).source+"|"+u.source+"|"+(u===vt?ri:g).source+"|"+(i.evaluate||g).source+"|$","g");n.replace(u,function(t,i,u,f,e,o){return u||(u=f),r+=n.slice(c,o).replace(oi,dt),i&&(r+="'+__e("+i+")+'"),e&&(h=!0,r+="';"+e+";\n__p+='"),u&&(r+="'+((__t=("+u+"))==null?'':__t)+'"),c=o+t.length,t});r+="';";u=i=i.variable;u||(i="obj",r="with("+i+"){"+r+"}");r=(h?r.replace(ni,""):r).replace(ti,"$1").replace(ii,"$1;");r="function("+i+"){"+(u?"":i+"||("+i+"={});")+"var __t,__p='',__e=_.escape"+(h?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+r+"return __p}";try{s=ru(f,"return "+r).apply(e,o)}catch(l){throw l.source=r,l;}return t?s(t):(s.source=r,s)},tt.unescape=function(n){return null==n?"":nr(n).replace(uo,ye)},tt.uniqueId=function(n){var t=++gt;return nr(null==n?"":n)+t},tt.all=af,tt.any=wf,tt.detect=au,tt.findWhere=au,tt.foldl=vu,tt.foldr=yf,tt.include=lf,tt.inject=vu,bu(function(){var n={};return it(tt,function(t,i){tt.prototype[i]||(n[i]=t)}),n}(),!1),tt.first=yu,tt.last=function(t,i,r){var u=0,o=t?t.length:0,f;if(typeof i!="number"&&null!=i)for(f=o,i=tt.createCallback(i,r,3);f--&&i(t[f],f,t);)u++;else if(u=i,null==u||r)return t?t[o-1]:e;return n(t,yi(0,o-u))},tt.sample=function(n,t,i){return n&&typeof n.length!="number"&&(n=nu(n)),null==t||i?n?n[hu(0,n.length-1)]:e:(n=pf(n),n.length=br(yi(0,t),n.length),n)},tt.take=yu,tt.head=yu,it(tt,function(n,t){var i="sample"!==t;tt.prototype[t]||(tt.prototype[t]=function(t,r){var u=this.__chain__,f=n(this.__wrapped__,t,r);return u||null!=t&&(!r||i&&typeof t=="function")?new tr(f,u):f})}),tt.VERSION="2.4.1",tt.prototype.chain=function(){return this.__chain__=!0,this},tt.prototype.toString=function(){return nr(this.__wrapped__)},tt.prototype.value=fe,tt.prototype.valueOf=fe,bt(["join","pop","shift"],function(n){var t=fr[n];tt.prototype[n]=function(){var n=this.__chain__,i=t.apply(this.__wrapped__,arguments);return n?new tr(i,n):i}}),bt(["push","reverse","sort","unshift"],function(n){var t=fr[n];tt.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),bt(["concat","slice","splice"],function(n){var t=fr[n];tt.prototype[n]=function(){return new tr(t.apply(this.__wrapped__,arguments),this.__chain__)}}),tt}var e,et=[],ot=[],gt=0,st=+new Date+"",ht=75,lt=40,at=" \t\x0b\f ﻿\n\r\u2028\u2029 ᠎             　",ni=/\b__p\+='';/g,ti=/\b(__p\+=)''\+/g,ii=/(__e\(.*?\)|\b__t\))\+'';/g,ri=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ui=/\w*$/,fi=/^\s*function[ \n\r\t]+\w/,vt=/<%=([\s\S]+?)%>/g,ei=RegExp("^["+at+"]*0+(?=.$)"),g=/($^)/,yt=/\bthis\b/,oi=/['\n\r\t\u2028\u2029\\]/g,si="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),v="[object Arguments]",y="[object Array]",p="[object Boolean]",w="[object Date]",pt="[object Function]",b="[object Number]",o="[object Object]",k="[object RegExp]",h="[object String]",u={},f;u[pt]=!1;u[v]=u[y]=u[p]=u[w]=u[b]=u[o]=u[k]=u[h]=!0;var nt={leading:!1,maxWait:0,trailing:!1},wt={configurable:!1,enumerable:!1,value:null,writable:!1},t={boolean:!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},hi={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},c=t[typeof window]&&window||this,tt=t[typeof exports]&&exports&&!exports.nodeType&&exports,it=t[typeof module]&&module&&!module.nodeType&&module,ci=it&&it.exports===tt&&tt,l=t[typeof global]&&global;l&&(l.global===l||l.window===l)&&(c=l);f=ft();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(c._=f,define(function(){return f})):tt&&it?ci?(it.exports=f)._=f:tt._=f:c._=f}.call(this),function(n){var t=typeof self=="object"&&self.self==self&&self||typeof global=="object"&&global.global==global&&global,i,r;if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(i,r,u){t.Backbone=n(t,u,i,r)});else if(typeof exports!="undefined"){i=require("underscore");try{r=require("jquery")}catch(u){}n(t,exports,i,r)}else t.Backbone=n(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(n,t,i,r){var ot=n.Backbone,y=Array.prototype.slice,h,k,d,c,g,l,o,nt,it,ut,et,v,s;t.VERSION="1.2.3";t.$=r;t.noConflict=function(){return n.Backbone=ot,this};t.emulateHTTP=!1;t.emulateJSON=!1;var st=function(n,t,r){switch(n){case 1:return function(){return i[t](this[r])};case 2:return function(n){return i[t](this[r],n)};case 3:return function(n,u){return i[t](this[r],w(n,this),u)};case 4:return function(n,u,f){return i[t](this[r],w(n,this),u,f)};default:return function(){var n=y.call(arguments);return n.unshift(this[r]),i[t].apply(i,n)}}},p=function(n,t,r){i.each(t,function(t,u){i[u]&&(n.prototype[u]=st(t,u,r))})},w=function(n,t){return i.isFunction(n)?n:i.isObject(n)&&!t._isModel(n)?ht(n):i.isString(n)?function(t){return t.get(n)}:n},ht=function(n){var t=i.matches(n);return function(n){return t(n.attributes)}},u=t.Events={},b=/\s+/,e=function(n,t,r,u,f){var o=0,s;if(r&&typeof r=="object")for(u!==void 0&&("context"in f)&&f.context===void 0&&(f.context=u),s=i.keys(r);o<s.length;o++)t=e(n,t,s[o],r[s[o]],f);else if(r&&b.test(r))for(s=r.split(b);o<s.length;o++)t=n(t,s[o],u,f);else t=n(t,r,u,f);return t};u.on=function(n,t,i){return h(this,n,t,i)};h=function(n,t,i,r,u){if(n._events=e(k,n._events||{},t,i,{context:r,ctx:n,listening:u}),u){var f=n._listeners||(n._listeners={});f[u.id]=u}return n};u.listenTo=function(n,t,r){var o;if(!n)return this;var u=n._listenId||(n._listenId=i.uniqueId("l")),f=this._listeningTo||(this._listeningTo={}),e=f[u];return e||(o=this._listenId||(this._listenId=i.uniqueId("l")),e=f[u]={obj:n,objId:u,id:o,listeningTo:f,count:0}),h(n,t,r,this,e),this};k=function(n,t,i,r){if(i){var e=n[t]||(n[t]=[]),f=r.context,o=r.ctx,u=r.listening;u&&u.count++;e.push({callback:i,context:f,ctx:f||o,listening:u})}return n};u.off=function(n,t,i){return this._events?(this._events=e(d,this._events,n,t,{context:i,listeners:this._listeners}),this):this};u.stopListening=function(n,t,r){var u=this._listeningTo,e,f,o;if(!u)return this;for(e=n?[n._listenId]:i.keys(u),f=0;f<e.length;f++){if(o=u[e[f]],!o)break;o.obj.off(t,r,this)}return i.isEmpty(u)&&(this._listeningTo=void 0),this};d=function(n,t,r,u){var v,y,h,c,l,o;if(n){var e=0,f,a=u.context,s=u.listeners;if(!t&&!r&&!a){for(v=i.keys(s);e<v.length;e++)f=s[v[e]],delete s[f.id],delete f.listeningTo[f.objId];return}for(y=t?[t]:i.keys(n);e<y.length;e++){if(t=y[e],h=n[t],!h)break;for(c=[],l=0;l<h.length;l++)o=h[l],r&&r!==o.callback&&r!==o.callback._callback||a&&a!==o.context?c.push(o):(f=o.listening,f&&--f.count==0&&(delete s[f.id],delete f.listeningTo[f.objId]));c.length?n[t]=c:delete n[t]}if(i.size(n))return n}};u.once=function(n,t,r){var u=e(c,{},n,t,i.bind(this.off,this));return this.on(u,void 0,r)};u.listenToOnce=function(n,t,r){var u=e(c,{},t,r,i.bind(this.stopListening,this,n));return this.listenTo(n,u)};c=function(n,t,r,u){if(r){var f=n[t]=i.once(function(){u(t,f);r.apply(this,arguments)});f._callback=r}return n};u.trigger=function(n){var i,r,t;if(!this._events)return this;for(i=Math.max(0,arguments.length-1),r=Array(i),t=0;t<i;t++)r[t]=arguments[t+1];return e(g,this._events,n,void 0,r),this};g=function(n,t,i,r){if(n){var f=n[t],u=n.all;f&&u&&(u=u.slice());f&&l(f,r);u&&l(u,[t].concat(r))}return n};l=function(n,t){var i,r=-1,u=n.length,f=t[0],e=t[1],o=t[2];switch(t.length){case 0:while(++r<u)(i=n[r]).callback.call(i.ctx);return;case 1:while(++r<u)(i=n[r]).callback.call(i.ctx,f);return;case 2:while(++r<u)(i=n[r]).callback.call(i.ctx,f,e);return;case 3:while(++r<u)(i=n[r]).callback.call(i.ctx,f,e,o);return;default:while(++r<u)(i=n[r]).callback.apply(i.ctx,t);return}};u.bind=u.on;u.unbind=u.off;i.extend(t,u);o=t.Model=function(n,t){var r=n||{};t||(t={});this.cid=i.uniqueId(this.cidPrefix);this.attributes={};t.collection&&(this.collection=t.collection);t.parse&&(r=this.parse(r,t)||{});r=i.defaults({},r,i.result(this,"defaults"));this.set(r,t);this.changed={};this.initialize.apply(this,arguments)};i.extend(o.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(n){return this.attributes[n]},escape:function(n){return i.escape(this.get(n))},has:function(n){return this.get(n)!=null},matches:function(n){return!!i.iteratee(n,this)(this.attributes)},set:function(n,t,r){var f,u,o;if(n==null)return this;if(typeof n=="object"?(f=n,r=t):(f={})[n]=t,r||(r={}),!this._validate(f,r))return!1;var a=r.unset,h=r.silent,e=[],c=this._changing;this._changing=!0;c||(this._previousAttributes=i.clone(this.attributes),this.changed={});var s=this.attributes,l=this.changed,v=this._previousAttributes;for(u in f)t=f[u],i.isEqual(s[u],t)||e.push(u),i.isEqual(v[u],t)?delete l[u]:l[u]=t,a?delete s[u]:s[u]=t;if(this.id=this.get(this.idAttribute),!h)for(e.length&&(this._pending=r),o=0;o<e.length;o++)this.trigger("change:"+e[o],this,s[e[o]],r);if(c)return this;if(!h)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(n,t){return this.set(n,void 0,i.extend({},t,{unset:!0}))},clear:function(n){var t={},r;for(r in this.attributes)t[r]=void 0;return this.set(t,i.extend({},n,{unset:!0}))},hasChanged:function(n){return n==null?!i.isEmpty(this.changed):i.has(this.changed,n)},changedAttributes:function(n){var f,t,r,u;if(!n)return this.hasChanged()?i.clone(this.changed):!1;f=this._changing?this._previousAttributes:this.attributes;t={};for(r in n)(u=n[r],i.isEqual(f[r],u))||(t[r]=u);return i.size(t)?t:!1},previous:function(n){return n==null||!this._previousAttributes?null:this._previousAttributes[n]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(n){n=i.extend({parse:!0},n);var t=this,r=n.success;return n.success=function(i){var u=n.parse?t.parse(i,n):i;if(!t.set(u,n))return!1;r&&r.call(n.context,t,i,n);t.trigger("sync",t,i,n)},s(this,n),this.sync("read",this,n)},save:function(n,t,r){var u,e,h,l;if(n==null||typeof n=="object"?(u=n,r=t):(u={})[n]=t,r=i.extend({validate:!0,parse:!0},r),e=r.wait,u&&!e){if(!this.set(u,r))return!1}else if(!this._validate(u,r))return!1;var f=this,c=r.success,o=this.attributes;return r.success=function(n){f.attributes=o;var t=r.parse?f.parse(n,r):n;if(e&&(t=i.extend({},u,t)),t&&!f.set(t,r))return!1;c&&c.call(r.context,f,n,r);f.trigger("sync",f,n,r)},s(this,r),u&&e&&(this.attributes=i.extend({},o,u)),h=this.isNew()?"create":r.patch?"patch":"update",h!=="patch"||r.attrs||(r.attrs=u),l=this.sync(h,this,r),this.attributes=o,l},destroy:function(n){var r;n=n?i.clone(n):{};var t=this,u=n.success,f=n.wait,e=function(){t.stopListening();t.trigger("destroy",t,t.collection,n)};return n.success=function(i){f&&e();u&&u.call(n.context,t,i,n);t.isNew()||t.trigger("sync",t,i,n)},r=!1,this.isNew()?i.defer(n.success):(s(this,n),r=this.sync("delete",this,n)),f||e(),r},url:function(){var n=i.result(this,"urlRoot")||i.result(this.collection,"url")||v(),t;return this.isNew()?n:(t=this.get(this.idAttribute),n.replace(/[^\/]$/,"$&/")+encodeURIComponent(t))},parse:function(n){return n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(n){return this._validate({},i.defaults({validate:!0},n))},_validate:function(n,t){if(!t.validate||!this.validate)return!0;n=i.extend({},this.attributes,n);var r=this.validationError=this.validate(n,t)||null;return r?(this.trigger("invalid",this,r,i.extend(t,{validationError:r})),!1):!0}});nt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};p(o,nt,"attributes");var a=t.Collection=function(n,t){t||(t={});t.model&&(this.model=t.model);t.comparator!==void 0&&(this.comparator=t.comparator);this._reset();this.initialize.apply(this,arguments);n&&this.reset(n,i.extend({silent:!0},t))},ct={add:!0,remove:!0,merge:!0},lt={add:!0,remove:!1},tt=function(n,t,i){var u,f,r;for(i=Math.min(Math.max(i,0),n.length),u=Array(n.length-i),f=t.length,r=0;r<u.length;r++)u[r]=n[r+i];for(r=0;r<f;r++)n[r+i]=t[r];for(r=0;r<u.length;r++)n[r+f+i]=u[r]};i.extend(a.prototype,u,{model:o,initialize:function(){},toJSON:function(n){return this.map(function(t){return t.toJSON(n)})},sync:function(){return t.sync.apply(this,arguments)},add:function(n,t){return this.set(n,i.extend({merge:!1},t,lt))},remove:function(n,t){var u,r;return t=i.extend({},t),u=!i.isArray(n),n=u?[n]:i.clone(n),r=this._removeModels(n,t),!t.silent&&r&&this.trigger("update",this,t),u?r[0]:r},set:function(n,t){var v,f,u,e,a,p,k;if(n!=null){t=i.defaults({},t,ct);t.parse&&!this._isModel(n)&&(n=this.parse(n,t));v=!i.isArray(n);n=v?[n]:n.slice();f=t.at;f!=null&&(f=+f);f<0&&(f+=this.length+1);var o=[],s=[],c=[],l={},w=t.add,d=t.merge,b=t.remove,h=!1,y=this.comparator&&f==null&&t.sort!==!1,g=i.isString(this.comparator)?this.comparator:null,r;for(u=0;u<n.length;u++)r=n[u],e=this.get(r),e?(d&&r!==e&&(a=this._isModel(r)?r.attributes:r,t.parse&&(a=e.parse(a,t)),e.set(a,t),y&&!h&&(h=e.hasChanged(g))),l[e.cid]||(l[e.cid]=!0,o.push(e)),n[u]=e):w&&(r=n[u]=this._prepareModel(r,t),r&&(s.push(r),this._addReference(r,t),l[r.cid]=!0,o.push(r)));if(b){for(u=0;u<this.length;u++)r=this.models[u],l[r.cid]||c.push(r);c.length&&this._removeModels(c,t)}if(p=!1,k=!y&&w&&b,o.length&&k?(p=this.length!=o.length||i.some(this.models,function(n,t){return n!==o[t]}),this.models.length=0,tt(this.models,o,0),this.length=this.models.length):s.length&&(y&&(h=!0),tt(this.models,s,f==null?this.length:f),this.length=this.models.length),h&&this.sort({silent:!0}),!t.silent){for(u=0;u<s.length;u++)f!=null&&(t.index=f+u),r=s[u],r.trigger("add",r,this,t);(h||p)&&this.trigger("sort",this,t);(s.length||c.length)&&this.trigger("update",this,t)}return v?n[0]:n}},reset:function(n,t){t=t?i.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),n=this.add(n,i.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),n},push:function(n,t){return this.add(n,i.extend({at:this.length},t))},pop:function(n){var t=this.at(this.length-1);return this.remove(t,n)},unshift:function(n,t){return this.add(n,i.extend({at:0},t))},shift:function(n){var t=this.at(0);return this.remove(t,n)},slice:function(){return y.apply(this.models,arguments)},get:function(n){if(n==null)return void 0;var t=this.modelId(this._isModel(n)?n.attributes:n);return this._byId[n]||this._byId[t]||this._byId[n.cid]},at:function(n){return n<0&&(n+=this.length),this.models[n]},where:function(n,t){return this[t?"find":"filter"](n)},findWhere:function(n){return this.where(n,!0)},sort:function(n){var t=this.comparator,r;if(!t)throw new Error("Cannot sort a set without a comparator");return n||(n={}),r=t.length,i.isFunction(t)&&(t=i.bind(t,this)),r===1||i.isString(t)?this.models=this.sortBy(t):this.models.sort(t),n.silent||this.trigger("sort",this,n),this},pluck:function(n){return i.invoke(this.models,"get",n)},fetch:function(n){n=i.extend({parse:!0},n);var r=n.success,t=this;return n.success=function(i){var u=n.reset?"reset":"set";t[u](i,n);r&&r.call(n.context,t,i,n);t.trigger("sync",t,i,n)},s(this,n),this.sync("read",this,n)},create:function(n,t){var r,f,u;return(t=t?i.clone(t):{},r=t.wait,n=this._prepareModel(n,t),!n)?!1:(r||this.add(n,t),f=this,u=t.success,t.success=function(n,t,i){r&&f.add(n,i);u&&u.call(i.context,n,t,i)},n.save(null,t),n)},parse:function(n){return n},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(n){return n[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(n,t){if(this._isModel(n))return n.collection||(n.collection=this),n;t=t?i.clone(t):{};t.collection=this;var r=new this.model(n,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(n,t){for(var u=[],i,f,r=0;r<n.length;r++)(i=this.get(n[r]),i)&&(f=this.indexOf(i),this.models.splice(f,1),this.length--,t.silent||(t.index=f,i.trigger("remove",i,this,t)),u.push(i),this._removeReference(i,t));return u.length?u:!1},_isModel:function(n){return n instanceof o},_addReference:function(n){this._byId[n.cid]=n;var t=this.modelId(n.attributes);t!=null&&(this._byId[t]=n);n.on("all",this._onModelEvent,this)},_removeReference:function(n){delete this._byId[n.cid];var t=this.modelId(n.attributes);t!=null&&delete this._byId[t];this===n.collection&&delete n.collection;n.off("all",this._onModelEvent,this)},_onModelEvent:function(n,t,i,r){if(n!=="add"&&n!=="remove"||i===this){if(n==="destroy"&&this.remove(t,r),n==="change"){var u=this.modelId(t.previousAttributes()),f=this.modelId(t.attributes);u!==f&&(u!=null&&delete this._byId[u],f!=null&&(this._byId[f]=t))}this.trigger.apply(this,arguments)}}});it={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};p(a,it,"models");var rt=t.View=function(n){this.cid=i.uniqueId("view");i.extend(this,i.pick(n,vt));this._ensureElement();this.initialize.apply(this,arguments)},at=/^(\S+)\s*(.*)$/,vt=["model","collection","el","id","attributes","className","tagName","events"];i.extend(rt.prototype,u,{tagName:"div",$:function(n){return this.$el.find(n)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(n){return this.undelegateEvents(),this._setElement(n),this.delegateEvents(),this},_setElement:function(n){this.$el=n instanceof t.$?n:t.$(n);this.el=this.$el[0]},delegateEvents:function(n){var r,t,u;if(n||(n=i.result(this,"events")),!n)return this;this.undelegateEvents();for(r in n)(t=n[r],i.isFunction(t)||(t=this[t]),t)&&(u=r.match(at),this.delegate(u[1],u[2],i.bind(t,this)));return this},delegate:function(n,t,i){this.$el.on(n+".delegateEvents"+this.cid,t,i);return this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(n,t,i){return this.$el.off(n+".delegateEvents"+this.cid,t,i),this},_createElement:function(n){return document.createElement(n)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var n=i.extend({},i.result(this,"attributes"));this.id&&(n.id=i.result(this,"id"));this.className&&(n["class"]=i.result(this,"className"));this.setElement(this._createElement(i.result(this,"tagName")));this._setAttributes(n)}},_setAttributes:function(n){this.$el.attr(n)}});t.sync=function(n,r,u){var e=ut[n],f,o,s,h;return i.defaults(u||(u={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON}),f={type:e,dataType:"json"},u.url||(f.url=i.result(r,"url")||v()),u.data==null&&r&&(n==="create"||n==="update"||n==="patch")&&(f.contentType="application/json",f.data=JSON.stringify(u.attrs||r.toJSON(u))),u.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{}),u.emulateHTTP&&(e==="PUT"||e==="DELETE"||e==="PATCH")&&(f.type="POST",u.emulateJSON&&(f.data._method=e),o=u.beforeSend,u.beforeSend=function(n){return n.setRequestHeader("X-HTTP-Method-Override",e),o?o.apply(this,arguments):void 0}),f.type==="GET"||u.emulateJSON||(f.processData=!1),s=u.error,u.error=function(n,t,i){u.textStatus=t;u.errorThrown=i;s&&s.call(u.context,n,t,i)},h=u.xhr=t.ajax(i.extend(f,u)),r.trigger("request",r,h,u),h};ut={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var ft=t.Router=function(n){n||(n={});n.routes&&(this.routes=n.routes);this._bindRoutes();this.initialize.apply(this,arguments)},yt=/\((.*?)\)/g,pt=/(\(\?)?:\w+/g,wt=/\*\w+/g,bt=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(ft.prototype,u,{initialize:function(){},route:function(n,r,u){i.isRegExp(n)||(n=this._routeToRegExp(n));i.isFunction(r)&&(u=r,r="");u||(u=this[r]);var f=this;return t.history.route(n,function(i){var e=f._extractParameters(n,i);f.execute(u,e,r)!==!1&&(f.trigger.apply(f,["route:"+r].concat(e)),f.trigger("route",r,e),t.history.trigger("route",f,r,e))}),this},execute:function(n,t){n&&n.apply(this,t)},navigate:function(n,i){return t.history.navigate(n,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var n,t=i.keys(this.routes);(n=t.pop())!=null;)this.route(n,this.routes[n])}},_routeToRegExp:function(n){return n=n.replace(bt,"\\$&").replace(yt,"(?:$1)?").replace(pt,function(n,t){return t?n:"([^/?]+)"}).replace(wt,"([^?]*?)"),new RegExp("^"+n+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(n,t){var r=n.exec(t).slice(1);return i.map(r,function(n,t){return t===r.length-1?n||null:n?decodeURIComponent(n):null})}});var f=t.History=function(){this.handlers=[];this.checkUrl=i.bind(this.checkUrl,this);typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},kt=/^[#\/]|\s+$/g,dt=/^\/+|\/+$/g,gt=/#.*$/;return f.started=!1,i.extend(f.prototype,u,{interval:50,atRoot:function(){var n=this.location.pathname.replace(/[^\/]$/,"$&/");return n===this.root&&!this.getSearch()},matchRoot:function(){var n=this.decodeFragment(this.location.pathname),t=n.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(n){return decodeURI(n.replace(/%25/g,"%2525"))},getSearch:function(){var n=this.location.href.replace(/#.*/,"").match(/\?.+/);return n?n[0]:""},getHash:function(n){var t=(n||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var n=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return n.charAt(0)==="/"?n.slice(1):n},getFragment:function(n){return n==null&&(n=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),n.replace(kt,"")},start:function(n){var e,r,t,u;if(f.started)throw new Error("Backbone.history has already been started");if(f.started=!0,this.options=i.extend({root:"/"},this.options,n),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(dt,"/"),this._wantsHashChange&&this._wantsPushState)if(this._hasPushState||this.atRoot())this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});else return e=this.root.slice(0,-1)||"/",this.location.replace(e+"#"+this.getPath()),!0;return this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,r=document.body,t=r.insertBefore(this.iframe,r.firstChild).contentWindow,t.document.open(),t.document.close(),t.location.hash="#"+this.fragment),u=window.addEventListener||function(n,t){return attachEvent("on"+n,t)},this._usePushState?u("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?u("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var n=window.removeEventListener||function(n,t){return detachEvent("on"+n,t)};this._usePushState?n("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&n("hashchange",this.checkUrl,!1);this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);f.started=!1},route:function(n,t){this.handlers.unshift({route:n,callback:t})},checkUrl:function(){var n=this.getFragment();if(n===this.fragment&&this.iframe&&(n=this.getHash(this.iframe.contentWindow)),n===this.fragment)return!1;this.iframe&&this.navigate(n);this.loadUrl()},loadUrl:function(n){return this.matchRoot()?(n=this.fragment=this.getFragment(n),i.some(this.handlers,function(t){if(t.route.test(n))return t.callback(n),!0})):!1},navigate:function(n,t){var i,u,r;if(!f.started)return!1;if(t&&t!==!0||(t={trigger:!!t}),n=this.getFragment(n||""),i=this.root,(n===""||n.charAt(0)==="?")&&(i=i.slice(0,-1)||"/"),u=i+n,n=this.decodeFragment(n.replace(gt,"")),this.fragment!==n){if(this.fragment=n,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,u);else if(this._wantsHashChange)this._updateHash(this.location,n,t.replace),this.iframe&&n!==this.getHash(this.iframe.contentWindow)&&(r=this.iframe.contentWindow,t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,n,t.replace));else return this.location.assign(u);if(t.trigger)return this.loadUrl(n)}},_updateHash:function(n,t,i){if(i){var r=n.href.replace(/(javascript:|#).*$/,"");n.replace(r+"#"+t)}else n.hash="#"+t}}),t.history=new f,et=function(n,t){var u=this,r,f;return r=n&&i.has(n,"constructor")?n.constructor:function(){return u.apply(this,arguments)},i.extend(r,u,t),f=function(){this.constructor=r},f.prototype=u.prototype,r.prototype=new f,n&&i.extend(r.prototype,n),r.__super__=u.prototype,r},o.extend=a.extend=ft.extend=rt.extend=f.extend=et,v=function(){throw new Error('A "url" property or function must be specified');},s=function(n,t){var i=t.error;t.error=function(r){i&&i.call(t.context,n,r,t);n.trigger("error",n,r,t)}},t}),function(n){function it(n,t,i){switch(arguments.length){case 2:return n!=null?n:t;case 3:return n!=null?n:t!=null?t:i;default:throw new Error("Implement me");}}function g(n,t){return dr.call(n,t)}function vt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function pi(n){t.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+n)}function o(n,t){var i=!0;return nt(function(){return i&&(pi(n),i=!1),t.apply(this,arguments)},t)}function bu(n,t){vi[n]||(pi(t),vi[n]=!0)}function wi(n,t){return function(i){return r(n.call(this,i),t)}}function ku(n,t){return function(i){return this.localeData().ordinal(n.call(this,i),t)}}function du(n,t){var r=(t.year()-n.year())*12+(t.month()-n.month()),i=n.clone().add(r,"months"),u,f;return t-i<0?(u=n.clone().add(r-1,"months"),f=(t-i)/(i-u)):(u=n.clone().add(r+1,"months"),f=(t-i)/(u-i)),-(r+f)}function gu(n,t,i){var r;return i==null?t:n.meridiemHour!=null?n.meridiemHour(t,i):n.isPM!=null?(r=n.isPM(i),r&&t<12&&(t+=12),r||t!==12||(t=0),t):t}function bi(){}function et(n,i){i!==!1&&er(n);ki(this,n);this._d=new Date(+n._d);at===!1&&(at=!0,t.updateOffset(this),at=!1)}function yt(n){var i=ir(n),r=i.year||0,u=i.quarter||0,f=i.month||0,e=i.week||0,o=i.day||0,s=i.hour||0,h=i.minute||0,c=i.second||0,l=i.millisecond||0;this._milliseconds=+l+c*1e3+h*6e4+s*36e5;this._days=+o+e*7;this._months=+f+u*3+r*12;this._data={};this._locale=t.localeData();this._bubble()}function nt(n,t){for(var i in t)g(t,i)&&(n[i]=t[i]);return g(t,"toString")&&(n.toString=t.toString),g(t,"valueOf")&&(n.valueOf=t.valueOf),n}function ki(n,t){var u,i,r;if(typeof t._isAMomentObject!="undefined"&&(n._isAMomentObject=t._isAMomentObject),typeof t._i!="undefined"&&(n._i=t._i),typeof t._f!="undefined"&&(n._f=t._f),typeof t._l!="undefined"&&(n._l=t._l),typeof t._strict!="undefined"&&(n._strict=t._strict),typeof t._tzm!="undefined"&&(n._tzm=t._tzm),typeof t._isUTC!="undefined"&&(n._isUTC=t._isUTC),typeof t._offset!="undefined"&&(n._offset=t._offset),typeof t._pf!="undefined"&&(n._pf=t._pf),typeof t._locale!="undefined"&&(n._locale=t._locale),ut.length>0)for(u in ut)i=ut[u],r=t[i],typeof r!="undefined"&&(n[i]=r);return n}function h(n){return n<0?Math.ceil(n):Math.floor(n)}function r(n,t,i){for(var r=""+Math.abs(n),u=n>=0;r.length<t;)r="0"+r;return(u?i?"+":"":"-")+r}function di(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+(t.year()-n.year())*12,n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function nf(n,t){var i;return t=bt(t,n),n.isBefore(t)?i=di(n,t):(i=di(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function gi(n,i){return function(r,u){var f,e;return u===null||isNaN(+u)||(bu(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period)."),e=r,r=u,u=e),r=typeof r=="string"?+r:r,f=t.duration(r,u),nr(this,f,n),this}}function nr(n,i,r,u){var o=i._milliseconds,f=i._days,e=i._months;u=u==null?!0:u;o&&n._d.setTime(+n._d+o*r);f&&pr(n,"Date",ii(n,"Date")+f*r);e&&yr(n,ii(n,"Month")+e*r);u&&t.updateOffset(n,f||e)}function ot(n){return Object.prototype.toString.call(n)==="[object Array]"}function pt(n){return Object.prototype.toString.call(n)==="[object Date]"||n instanceof Date}function tr(n,t,r){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),f=0,u=0;u<e;u++)(r&&n[u]!==t[u]||!r&&i(n[u])!==i(t[u]))&&f++;return f+o}function e(n){if(n){var t=n.toLowerCase().replace(/(.)s$/,"$1");n=pu[n]||wu[t]||t}return n}function ir(n){var r={},i,t;for(t in n)g(n,t)&&(i=e(t),i&&(r[i]=n[t]));return r}function tf(i){var r,u;if(i.indexOf("week")===0)r=7,u="day";else if(i.indexOf("month")===0)r=12,u="month";else return;t[i]=function(f,e){var o,s,c=t._locale[i],h=[];if(typeof f=="number"&&(e=f,f=n),s=function(n){var i=t().utc().set(u,n);return c.call(t._locale,i,f||"")},e!=null)return s(e);for(o=0;o<r;o++)h.push(s(o));return h}}function i(n){var t=+n,i=0;return t!==0&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function wt(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function rr(n,i,r){return tt(t([n,11,31+i-r]),i,r).week}function ur(n){return fr(n)?366:365}function fr(n){return n%4==0&&n%100!=0||n%400==0}function er(n){var t;n._a&&n._pf.overflow===-2&&(t=n._a[l]<0||n._a[l]>11?l:n._a[s]<1||n._a[s]>wt(n._a[c],n._a[l])?s:n._a[f]<0||n._a[f]>24||n._a[f]===24&&(n._a[w]!==0||n._a[b]!==0||n._a[k]!==0)?f:n._a[w]<0||n._a[w]>59?w:n._a[b]<0||n._a[b]>59?b:n._a[k]<0||n._a[k]>999?k:-1,n._pf._overflowDayOfYear&&(t<c||t>s)&&(t=s),n._pf.overflow=t)}function or(t){return t._isValid==null&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&t._pf.charsLeftOver===0&&t._pf.unusedTokens.length===0&&t._pf.bigHour===n)),t._isValid}function sr(n){return n?n.toLowerCase().replace("_","-"):n}function rf(n){for(var r=0,i,t,f,u;r<n.length;){for(u=sr(n[r]).split("-"),i=u.length,t=sr(n[r+1]),t=t?t.split("-"):null;i>0;){if(f=hr(u.slice(0,i).join("-")),f)return f;if(t&&t.length>=i&&tr(u,t,!0)>=i-1)break;i--}r++}return null}function hr(n){var i=null;if(!d[n]&&ui)try{i=t.locale();require("./locale/"+n);t.locale(i)}catch(r){}return d[n]}function bt(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(t.isMoment(n)||pt(n)?+n:+t(n))-+r,r._d.setTime(+r._d+u),t.updateOffset(r,!1),r):t(n).local()}function uf(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ff(n){for(var i=n.match(fi),t=0,r=i.length;t<r;t++)i[t]=a[i[t]]?a[i[t]]:uf(i[t]);return function(u){var f="";for(t=0;t<r;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function kt(n,t){return n.isValid()?(t=cr(t,n.localeData()),lt[t]||(lt[t]=ff(t)),lt[t](n)):n.localeData().invalidDate()}function cr(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ft.lastIndex=0;i>=0&&ft.test(n);)n=n.replace(ft,r),ft.lastIndex=0,i-=1;return n}function ef(n,t){var i=t._strict;switch(n){case"Q":return oi;case"DDDD":return hi;case"YYYY":case"GGGG":case"gggg":return i?cu:ru;case"Y":case"G":case"g":return au;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?lu:uu;case"S":if(i)return oi;case"SS":if(i)return si;case"SSS":if(i)return hi;case"DDD":return iu;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return eu;case"a":case"A":return t._locale._meridiemParse;case"x":return su;case"X":return hu;case"Z":case"ZZ":return st;case"T":return ou;case"SSSS":return fu;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?si:ei;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ei;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return new RegExp(af(lf(n.replace("\\","")),"i"))}}function dt(n){n=n||"";var r=n.match(st)||[],f=r[r.length-1]||[],t=(f+"").match(yu)||["-",0,0],u=+(t[1]*60)+i(t[2]);return t[0]==="+"?u:-u}function of(n,r,u){var o,e=u._a;switch(n){case"Q":r!=null&&(e[l]=(i(r)-1)*3);break;case"M":case"MM":r!=null&&(e[l]=i(r)-1);break;case"MMM":case"MMMM":o=u._locale.monthsParse(r,n,u._strict);o!=null?e[l]=o:u._pf.invalidMonth=r;break;case"D":case"DD":r!=null&&(e[s]=i(r));break;case"Do":r!=null&&(e[s]=i(parseInt(r.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":r!=null&&(u._dayOfYear=i(r));break;case"YY":e[c]=t.parseTwoDigitYear(r);break;case"YYYY":case"YYYYY":case"YYYYYY":e[c]=i(r);break;case"a":case"A":u._meridiem=r;break;case"h":case"hh":u._pf.bigHour=!0;case"H":case"HH":e[f]=i(r);break;case"m":case"mm":e[w]=i(r);break;case"s":case"ss":e[b]=i(r);break;case"S":case"SS":case"SSS":case"SSSS":e[k]=i(("0."+r)*1e3);break;case"x":u._d=new Date(i(r));break;case"X":u._d=new Date(parseFloat(r)*1e3);break;case"Z":case"ZZ":u._useUTC=!0;u._tzm=dt(r);break;case"dd":case"ddd":case"dddd":o=u._locale.weekdaysParse(r);o!=null?(u._w=u._w||{},u._w.d=o):u._pf.invalidWeekday=r;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":n=n.substr(0,1);case"gggg":case"GGGG":case"GGGGG":n=n.substr(0,2);r&&(u._w=u._w||{},u._w[n]=i(r));break;case"gg":case"GG":u._w=u._w||{};u._w[n]=t.parseTwoDigitYear(r)}}function sf(n){var i,o,f,u,r,e,s;i=n._w;i.GG!=null||i.W!=null||i.E!=null?(r=1,e=4,o=it(i.GG,n._a[c],tt(t(),1,4).year),f=it(i.W,1),u=it(i.E,1)):(r=n._locale._week.dow,e=n._locale._week.doy,o=it(i.gg,n._a[c],tt(t(),r,e).year),f=it(i.w,1),i.d!=null?(u=i.d,u<r&&++f):u=i.e!=null?i.e+r:r);s=ne(o,f,u,e,r);n._a[c]=s.year;n._dayOfYear=s.dayOfYear}function gt(n){var t,i,r=[],u,e;if(!n._d){for(u=cf(n),n._w&&n._a[s]==null&&n._a[l]==null&&sf(n),n._dayOfYear&&(e=it(n._a[c],u[c]),n._dayOfYear>ur(e)&&(n._pf._overflowDayOfYear=!0),i=ti(e,0,n._dayOfYear),n._a[l]=i.getUTCMonth(),n._a[s]=i.getUTCDate()),t=0;t<3&&n._a[t]==null;++t)n._a[t]=r[t]=u[t];for(;t<7;t++)n._a[t]=r[t]=n._a[t]==null?t===2?1:0:n._a[t];n._a[f]===24&&n._a[w]===0&&n._a[b]===0&&n._a[k]===0&&(n._nextDay=!0,n._a[f]=0);n._d=(n._useUTC?ti:bf).apply(null,r);n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[f]=24)}}function hf(n){var t;n._d||(t=ir(n._i),n._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],gt(n))}function cf(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ni(i){if(i._f===t.ISO_8601){lr(i);return}i._a=[];i._pf.empty=!0;for(var r=""+i._i,u,e,h,l=r.length,c=0,s=cr(i._f,i._locale).match(fi)||[],o=0;o<s.length;o++)e=s[o],u=(r.match(ef(e,i))||[])[0],u&&(h=r.substr(0,r.indexOf(u)),h.length>0&&i._pf.unusedInput.push(h),r=r.slice(r.indexOf(u)+u.length),c+=u.length),a[e]?(u?i._pf.empty=!1:i._pf.unusedTokens.push(e),of(e,u,i)):i._strict&&!u&&i._pf.unusedTokens.push(e);i._pf.charsLeftOver=l-c;r.length>0&&i._pf.unusedInput.push(r);i._pf.bigHour===!0&&i._a[f]<=12&&(i._pf.bigHour=n);i._a[f]=gu(i._locale,i._a[f],i._meridiem);gt(i);er(i)}function lf(n){return n.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u})}function af(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function vf(n){var t,f,u,r,i;if(n._f.length===0){n._pf.invalidFormat=!0;n._d=new Date(NaN);return}for(r=0;r<n._f.length;r++)(i=0,t=ki({},n),n._useUTC!=null&&(t._useUTC=n._useUTC),t._pf=vt(),t._f=n._f[r],ni(t),or(t))&&(i+=t._pf.charsLeftOver,i+=t._pf.unusedTokens.length*10,t._pf.score=i,(u==null||i<u)&&(u=i,f=t));nt(n,f||t)}function lr(n){var t,i,r=n._i,u=vu.exec(r);if(u){for(n._pf.iso=!0,t=0,i=ht.length;t<i;t++)if(ht[t][1].exec(r)){n._f=ht[t][0]+(u[6]||" ");break}for(t=0,i=ct.length;t<i;t++)if(ct[t][1].exec(r)){n._f+=ct[t][0];break}r.match(st)&&(n._f+="Z");ni(n)}else n._isValid=!1}function yf(n){lr(n);n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n))}function pf(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function wf(i){var r=i._i,u;r===n?i._d=new Date:pt(r)?i._d=new Date(+r):(u=gr.exec(r))!==null?i._d=new Date(+u[1]):typeof r=="string"?yf(i):ot(r)?(i._a=pf(r.slice(0),function(n){return parseInt(n,10)}),gt(i)):typeof r=="object"?hf(i):typeof r=="number"?i._d=new Date(r):t.createFromInputFallback(i)}function bf(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return n<1970&&o.setFullYear(n),o}function ti(n){var t=new Date(Date.UTC.apply(null,arguments));return n<1970&&t.setUTCFullYear(n),t}function kf(n,t){if(typeof n=="string")if(isNaN(n)){if(n=t.weekdaysParse(n),typeof n!="number")return null}else n=parseInt(n,10);return n}function df(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function gf(n,i,r){var u=t.duration(n).abs(),c=p(u.as("s")),e=p(u.as("m")),o=p(u.as("h")),s=p(u.as("d")),h=p(u.as("M")),l=p(u.as("y")),f=c<y.s&&["s",c]||e===1&&["m"]||e<y.m&&["mm",e]||o===1&&["h"]||o<y.h&&["hh",o]||s===1&&["d"]||s<y.d&&["dd",s]||h===1&&["M"]||h<y.M&&["MM",h]||l===1&&["y"]||["yy",l];return f[2]=i,f[3]=+n>0,f[4]=r,df.apply({},f)}function tt(n,i,r){var e=r-i,u=r-n.day(),f;return u>e&&(u-=7),u<e-7&&(u+=7),f=t(n).add(u,"d"),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function ne(n,t,i,r,u){var f=ti(n,0,1).getUTCDay(),o,e;return f=f===0?7:f,i=i!=null?i:u,o=u-f+(f>r?7:0)-(f<u?7:0),e=7*(t-1)+(i-u)+o+1,{year:e>0?n:n-1,dayOfYear:e>0?e:ur(n-1)+e}}function ar(i){var r=i._i,f=i._f,u;return(i._locale=i._locale||t.localeData(i._l),r===null||f===n&&r==="")?t.invalid({nullInput:!0}):(typeof r=="string"&&(i._i=r=i._locale.preparse(r)),t.isMoment(r))?new et(r,!0):(f?ot(f)?vf(i):ni(i):wf(i),u=new et(i),u._nextDay&&(u.add(1,"d"),u._nextDay=n),u)}function vr(n,i){var u,r;if(i.length===1&&ot(i[0])&&(i=i[0]),!i.length)return t();for(u=i[0],r=1;r<i.length;++r)i[r][n](u)&&(u=i[r]);return u}function yr(n,t){var i;return typeof t=="string"&&(t=n.localeData().monthsParse(t),typeof t!="number")?n:(i=Math.min(n.date(),wt(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function ii(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function pr(n,t,i){return t==="Month"?yr(n,i):n._d["set"+(n._isUTC?"UTC":"")+t](i)}function v(n,i){return function(r){return r!=null?(pr(this,n,r),t.updateOffset(this,i),this):ii(this,n)}}function wr(n){return n*400/146097}function br(n){return n*146097/400}function te(n){t.duration.fn[n]=function(){return this._data[n]}}function kr(n){typeof ender=="undefined"&&(ri=rt.moment,rt.moment=n?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t):t)}for(var t,rt=typeof global!="undefined"&&(typeof window=="undefined"||window===global.window)?global:this,ri,p=Math.round,dr=Object.prototype.hasOwnProperty,u,c=0,l=1,s=2,f=3,w=4,b=5,k=6,d={},ut=[],ui=typeof module!="undefined"&&module&&module.exports,gr=/^\/?Date\((\-?\d+)/i,nu=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,tu=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,fi=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,ft=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ei=/\d\d?/,iu=/\d{1,3}/,ru=/\d{1,4}/,uu=/[+\-]?\d{1,6}/,fu=/\d+/,eu=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,st=/Z|[\+\-]\d\d:?\d\d/gi,ou=/T/i,su=/[\+\-]?\d+/,hu=/[\+\-]?\d+(\.\d{1,3})?/,oi=/\d/,si=/\d\d/,hi=/\d{3}/,cu=/\d{4}/,lu=/[+-]?\d{6}/,au=/[+-]?\d+/,vu=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ct=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],yu=/([\+\-]|\d\d)/gi,ie="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ci={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},pu={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},wu={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},lt={},y={s:45,m:45,h:22,d:26,M:11},li="DDD w W M D d".split(" "),ai="M D H h m s w W".split(" "),a={M:function(){return this.month()+1},MMM:function(n){return this.localeData().monthsShort(this,n)},MMMM:function(n){return this.localeData().months(this,n)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(n){return this.localeData().weekdaysMin(this,n)},ddd:function(n){return this.localeData().weekdaysShort(this,n)},dddd:function(n){return this.localeData().weekdays(this,n)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var n=this.year(),t=n>=0?"+":"-";return t+r(Math.abs(n),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return r(i(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var n=this.utcOffset(),t="+";return n<0&&(n=-n,t="-"),t+r(i(n/60),2)+":"+r(i(n)%60,2)},ZZ:function(){var n=this.utcOffset(),t="+";return n<0&&(n=-n,t="-"),t+r(i(n/60),2)+r(i(n)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},vi={},yi=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],at=!1;li.length;)u=li.pop(),a[u+"o"]=ku(a[u],u);while(ai.length)u=ai.pop(),a[u+u]=wi(a[u],2);for(a.DDDD=wi(a.DDD,3),nt(bi.prototype,{set:function(n){var t,i;for(i in n)t=n[i],typeof t=="function"?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(n){return this._months[n.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(n){return this._monthsShort[n.month()]},monthsParse:function(n,i,r){var u,f,e;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;u<12;u++)if((f=t.utc([2e3,u]),r&&!this._longMonthsParse[u]&&(this._longMonthsParse[u]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[u]=new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),r||this._monthsParse[u]||(e="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[u]=new RegExp(e.replace(".",""),"i")),r&&i==="MMMM"&&this._longMonthsParse[u].test(n))||r&&i==="MMM"&&this._shortMonthsParse[u].test(n)||!r&&this._monthsParse[u].test(n))return u},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(n){return this._weekdays[n.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(n){return this._weekdaysShort[n.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(n){return this._weekdaysMin[n.day()]},weekdaysParse:function(n){var i,r,u;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;i<7;i++)if(this._weekdaysParse[i]||(r=t([2e3,1]).day(i),u="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(u.replace(".",""),"i")),this._weekdaysParse[i].test(n))return i},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t},isPM:function(n){return(n+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(n,t,i){var r=this._calendar[n];return typeof r=="function"?r.apply(t,[i]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(n,t,i,r){var u=this._relativeTime[i];return typeof u=="function"?u(n,t,i,r):u.replace(/%d/i,n)},pastFuture:function(n,t){var i=this._relativeTime[n>0?"future":"past"];return typeof i=="function"?i(t):i.replace(/%s/i,t)},ordinal:function(n){return this._ordinal.replace("%d",n)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(n){return n},postformat:function(n){return n},week:function(n){return tt(n,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,i,r,u){var f;return typeof r=="boolean"&&(u=r,r=n),f={},f._isAMomentObject=!0,f._i=t,f._f=i,f._l=r,f._strict=u,f._isUTC=!1,f._pf=vt(),ar(f)},t.suppressDeprecationWarnings=!1,t.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))}),t.min=function(){var n=[].slice.call(arguments,0);return vr("isBefore",n)},t.max=function(){var n=[].slice.call(arguments,0);return vr("isAfter",n)},t.utc=function(t,i,r,u){var f;return typeof r=="boolean"&&(u=r,r=n),f={},f._isAMomentObject=!0,f._useUTC=!0,f._isUTC=!0,f._l=r,f._i=t,f._f=i,f._strict=u,f._pf=vt(),ar(f).utc()},t.unix=function(n){return t(n*1e3)},t.duration=function(n,r){var u=n,e=null,o,c,h,l;return t.isDuration(n)?u={ms:n._milliseconds,d:n._days,M:n._months}:typeof n=="number"?(u={},r?u[r]=n:u.milliseconds=n):(e=nu.exec(n))?(o=e[1]==="-"?-1:1,u={y:0,d:i(e[s])*o,h:i(e[f])*o,m:i(e[w])*o,s:i(e[b])*o,ms:i(e[k])*o}):(e=tu.exec(n))?(o=e[1]==="-"?-1:1,h=function(n){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*o},u={y:h(e[2]),M:h(e[3]),d:h(e[4]),h:h(e[5]),m:h(e[6]),s:h(e[7]),w:h(e[8])}):u==null?u={}:typeof u=="object"&&("from"in u||"to"in u)&&(l=nf(t(u.from),t(u.to)),u={},u.ms=l.milliseconds,u.M=l.months),c=new yt(u),t.isDuration(n)&&g(n,"_locale")&&(c._locale=n._locale),c},t.version="2.9.0",t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.ISO_8601=function(){},t.momentProperties=ut,t.updateOffset=function(){},t.relativeTimeThreshold=function(t,i){return y[t]===n?!1:i===n?y[t]:(y[t]=i,!0)},t.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(n,i){return t.locale(n,i)}),t.locale=function(n,i){var r;return n&&(r=typeof i!="undefined"?t.defineLocale(n,i):t.localeData(n),r&&(t.duration._locale=t._locale=r)),t._locale._abbr},t.defineLocale=function(n,i){return i!==null?(i.abbr=n,d[n]||(d[n]=new bi),d[n].set(i),t.locale(n),d[n]):(delete d[n],null)},t.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(n){return t.localeData(n)}),t.localeData=function(n){var i;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return t._locale;if(!ot(n)){if(i=hr(n),i)return i;n=[n]}return rf(n)},t.isMoment=function(n){return n instanceof et||n!=null&&g(n,"_isAMomentObject")},t.isDuration=function(n){return n instanceof yt},u=yi.length-1;u>=0;--u)tf(yi[u]);t.normalizeUnits=function(n){return e(n)};t.invalid=function(n){var i=t.utc(NaN);return n!=null?nt(i._pf,n):i._pf.userInvalidated=!0,i};t.parseZone=function(){return t.apply(null,arguments).parseZone()};t.parseTwoDigitYear=function(n){return i(n)+(i(n)>68?1900:2e3)};t.isDate=pt;nt(t.fn=et.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d-(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var n=t(this).utc();return 0<n.year()&&n.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():kt(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):kt(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var n=this;return[n.year(),n.month(),n.date(),n.hours(),n.minutes(),n.seconds(),n.milliseconds()]},isValid:function(){return or(this)},isDSTShifted:function(){return this._a?this.isValid()&&tr(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return nt({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(n){return this.utcOffset(0,n)},local:function(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(n){var i=kt(this,n||t.defaultFormat);return this.localeData().postformat(i)},add:gi(1,"add"),subtract:gi(-1,"subtract"),diff:function(n,t,i){var f=bt(n,this),o=(f.utcOffset()-this.utcOffset())*6e4,u,r;return t=e(t),t==="year"||t==="month"||t==="quarter"?(r=du(this,f),t==="quarter"?r=r/3:t==="year"&&(r=r/12)):(u=this-f,r=t==="second"?u/1e3:t==="minute"?u/6e4:t==="hour"?u/36e5:t==="day"?(u-o)/864e5:t==="week"?(u-o)/6048e5:u),i?r:h(r)},from:function(n,i){return t.duration({to:this,from:n}).locale(this.locale()).humanize(!i)},fromNow:function(n){return this.from(t(),n)},calendar:function(n){var r=n||t(),u=bt(r,this).startOf("day"),i=this.diff(u,"days",!0),f=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(f,this,t(r)))},isLeapYear:function(){return fr(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return n!=null?(n=kf(n,this.localeData()),this.add(n-t,"d")):t},month:v("Month",!0),startOf:function(n){n=e(n);switch(n){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return n==="week"?this.weekday(0):n==="isoWeek"&&this.isoWeekday(1),n==="quarter"&&this.month(Math.floor(this.month()/3)*3),this},endOf:function(t){return(t=e(t),t===n||t==="millisecond")?this:this.startOf(t).add(1,t==="isoWeek"?"week":t).subtract(1,"ms")},isAfter:function(n,i){var r;return i=e(typeof i!="undefined"?i:"millisecond"),i==="millisecond"?(n=t.isMoment(n)?n:t(n),+this>+n):(r=t.isMoment(n)?+n:+t(n),r<+this.clone().startOf(i))},isBefore:function(n,i){var r;return i=e(typeof i!="undefined"?i:"millisecond"),i==="millisecond"?(n=t.isMoment(n)?n:t(n),+this<+n):(r=t.isMoment(n)?+n:+t(n),+this.clone().endOf(i)<r)},isBetween:function(n,t,i){return this.isAfter(n,i)&&this.isBefore(t,i)},isSame:function(n,i){var r;return i=e(i||"millisecond"),i==="millisecond"?(n=t.isMoment(n)?n:t(n),+this==+n):(r=+t(n),+this.clone().startOf(i)<=r&&r<=+this.clone().endOf(i))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),n<this?this:n}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),n>this?this:n}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(n,t){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}),utcOffset:function(n,i){var r=this._offset||0,u;return n!=null?(typeof n=="string"&&(n=dt(n)),Math.abs(n)<16&&(n=n*60),!this._isUTC&&i&&(u=this._dateUtcOffset()),this._offset=n,this._isUTC=!0,u!=null&&this.add(u,"m"),r!==n&&(!i||this._changeInProgress?nr(this,t.duration(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&this._offset===0},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):typeof this._i=="string"&&this.utcOffset(dt(this._i)),this},hasAlignedHourOffset:function(n){return n=n?t(n).utcOffset():0,(this.utcOffset()-n)%60==0},daysInMonth:function(){return wt(this.year(),this.month())},dayOfYear:function(n){var i=p((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return n==null?i:this.add(n-i,"d")},quarter:function(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)},weekYear:function(n){var t=tt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return n==null?t:this.add(n-t,"y")},isoWeekYear:function(n){var t=tt(this,1,4).year;return n==null?t:this.add(n-t,"y")},week:function(n){var t=this.localeData().week(this);return n==null?t:this.add((n-t)*7,"d")},isoWeek:function(n){var t=tt(this,1,4).week;return n==null?t:this.add((n-t)*7,"d")},weekday:function(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return n==null?t:this.add(n-t,"d")},isoWeekday:function(n){return n==null?this.day()||7:this.day(this.day()%7?n:n-7)},isoWeeksInYear:function(){return rr(this.year(),1,4)},weeksInYear:function(){var n=this.localeData()._week;return rr(this.year(),n.dow,n.doy)},get:function(n){return n=e(n),this[n]()},set:function(n,t){var i;if(typeof n=="object")for(i in n)this.set(i,n[i]);else n=e(n),typeof this[n]=="function"&&this[n](t);return this},locale:function(i){var r;return i===n?this._locale._abbr:(r=t.localeData(i),r!=null&&(this._locale=r),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===n?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return-Math.round(this._d.getTimezoneOffset()/15)*15}});t.fn.millisecond=t.fn.milliseconds=v("Milliseconds",!1);t.fn.second=t.fn.seconds=v("Seconds",!1);t.fn.minute=t.fn.minutes=v("Minutes",!1);t.fn.hour=t.fn.hours=v("Hours",!0);t.fn.date=v("Date",!0);t.fn.dates=o("dates accessor is deprecated. Use date instead.",v("Date",!0));t.fn.year=v("FullYear",!0);t.fn.years=o("years accessor is deprecated. Use year instead.",v("FullYear",!0));t.fn.days=t.fn.day;t.fn.months=t.fn.month;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.fn.quarters=t.fn.quarter;t.fn.toJSON=t.fn.toISOString;t.fn.isUTC=t.fn.isUtc;nt(t.duration.fn=yt.prototype,{_bubble:function(){var o=this._milliseconds,t=this._days,i=this._months,n=this._data,u,f,e,r=0;n.milliseconds=o%1e3;u=h(o/1e3);n.seconds=u%60;f=h(u/60);n.minutes=f%60;e=h(f/60);n.hours=e%24;t+=h(e/24);r=h(wr(t));t-=h(br(r));i+=h(t/30);t%=30;r+=h(i/12);i%=12;n.days=t;n.months=i;n.years=r},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+i(this._months/12)*31536e6},humanize:function(n){var t=gf(this,!n,this.localeData());return n&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(n,i){var r=t.duration(n,i);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(n,i){var r=t.duration(n,i);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(n){return n=e(n),this[n.toLowerCase()+"s"]()},as:function(n){var t,i;if(n=e(n),n==="month"||n==="year")return t=this._days+this._milliseconds/864e5,i=this._months+wr(t)*12,n==="month"?i:i/12;t=this._days+Math.round(br(this._months/12));switch(n){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return t*24+this._milliseconds/36e5;case"minute":return t*1440+this._milliseconds/6e4;case"second":return t*86400+this._milliseconds/1e3;case"millisecond":return Math.floor(t*864e5)+this._milliseconds;default:throw new Error("Unknown unit "+n);}},lang:t.fn.lang,locale:t.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var r=Math.abs(this.years()),u=Math.abs(this.months()),f=Math.abs(this.days()),n=Math.abs(this.hours()),t=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(r?r+"Y":"")+(u?u+"M":"")+(f?f+"D":"")+(n||t||i?"T":"")+(n?n+"H":"")+(t?t+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});t.duration.fn.toString=t.duration.fn.toISOString;for(u in ci)g(ci,u)&&te(u.toLowerCase());t.duration.fn.asMilliseconds=function(){return this.as("ms")};t.duration.fn.asSeconds=function(){return this.as("s")};t.duration.fn.asMinutes=function(){return this.as("m")};t.duration.fn.asHours=function(){return this.as("h")};t.duration.fn.asDays=function(){return this.as("d")};t.duration.fn.asWeeks=function(){return this.as("weeks")};t.duration.fn.asMonths=function(){return this.as("M")};t.duration.fn.asYears=function(){return this.as("y")};t.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,r=i(n%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+r}});ui?module.exports=t:typeof define=="function"&&define.amd?(define(function(n,i,r){return r.config&&r.config()&&r.config().noGlobal===!0&&(rt.moment=ri),t}),kr(!0)):kr()}.call(this),function(n){var t="tabUtil",i="template_tabUtil_tab",r=function(){function n(){}return n.prototype.render=function(n,r,u,f){var e=this,s=Global.App(),o=$.Deferred();return this.container=n,this.settings=f,s.templates().render(t,r,u,i,this.container,f).done(function(){$.each(e.settings.Tabs,function(n,t){t.TabLink=e.container.find("li[data-id='"+t.ID+"Tab']");t.TabContainer=e.container.find("div[data-id='"+t.ID+"']");t.TabLink.click(function(t){t.preventDefault();e.showTab(n)})});o.resolve()}),o.promise()},n.prototype.showTab=function(n){var t=this.settings.Tabs[n];$.each(this.settings.Tabs,function(t,i){n==t?(i.TabLink.addClass("active"),i.TabContainer.removeClass("offscreen"),i.OnSelect!=null&&i.OnSelect()):(i.TabLink.removeClass("active"),i.TabContainer.addClass("offscreen"))})},n.prototype.tabContainer=function(n){for(var t=0;t<this.settings.Tabs.length;t++)if(this.settings.Tabs[t].ID==n)return this.settings.Tabs[t].TabContainer;return null},n}();n.TabUIWidget=r}(TabUtil||(TabUtil={})),function(n){var t=function(){function n(){var n=this;switch(window.location.host.toLowerCase()){case"local.cat.com":n.DeploymentType="local";n.AdminbaseURL="http://config.cat.com";n.StartUpPage="/Shared/Dashboard";n.ResetPassword="/Shared/ResetPassword";n.RegisterDevice="/Shared/RegisterDevice";n.LoginURL="/Shared/Login";break;case"cgicatsuidev.cgicledev.com":n.DeploymentType="DEV";n.AdminbaseURL="https://cgicatsconfigapidev.cgicledev.com";n.StartUpPage="/Shared/Dashboard";n.RegisterDevice="/Shared/RegisterDevice";n.ResetPassword="/Shared/ResetPassword";n.LoginURL="/Shared/Login";break;case"cgicatsuiqa.cgicledev.com":n.DeploymentType="QA";n.AdminbaseURL="https://cgicatsconfigapiqa.cgicledev.com";n.StartUpPage="/Shared/Dashboard";n.RegisterDevice="/Shared/RegisterDevice";n.ResetPassword="/Shared/ResetPassword";n.LoginURL="/Shared/Login";break;case"cgicatsuiuat.cgicledev.com":n.DeploymentType="UAT";n.AdminbaseURL="https://cgicatsconfigapiuat.cgicledev.com";n.StartUpPage="/Shared/Dashboard";n.RegisterDevice="/Shared/RegisterDevice";n.ResetPassword="/Shared/ResetPassword";n.LoginURL="/Shared/Login";break;case"www.cgipbca.com":n.DeploymentType="PROD";n.AdminbaseURL="https://cgicats-api-config.cgipbca.com";n.StartUpPage="/Shared/Dashboard";n.RegisterDevice="/Shared/RegisterDevice";n.ResetPassword="/Shared/ResetPassword";n.LoginURL="/Shared/Login"}n.Idle_Timeout_counter=30;n.MaxProxyLength=365}return n}();n.Main_Config=t}(Configuration||(Configuration={})),function(n){var t=function(){function t(){var t=this,i=new n.Main_Config;t.moduleName="Config";i.DeploymentType=="local"?t.baseURL="http://config.cat.com":i.DeploymentType=="DEV"?t.baseURL="https://cgicatsconfigapidev.cgicledev.com":i.DeploymentType=="QA"?t.baseURL="https://cgicatsconfigapiqa.cgicledev.com":i.DeploymentType=="UAT"?t.baseURL="https://cgicatsconfigapiuat.cgicledev.com":i.DeploymentType=="PROD"&&(t.baseURL="https://cgicats-api-config.cgipbca.com")}return t}();n.Config_Config=t}(Configuration||(Configuration={})),function(n){var t=function(){function t(){this.Contract_IntegratedServiceFieldID=4;this.Contract_IntegratedServiceID=2;this.Contract_ElderlyType_IntegratedServiceFieldID=5;this.Contract_ElderlyType_IntegratedServiceID=2;this.Contract_GroupHome_IntegratedServiceFieldID=7;this.Contract_GroupHome_IntegratedServiceID=2;this.Contract_Notes_IntegratedServiceFieldID=8;this.Contract_Notes_IntegratedServiceID=2;this.Contract_ProgramName_IntegratedServiceFieldID=6;this.Contract_ProgramName_IntegratedServiceID=2;this.Contract_PropertyCode_IntegratedServiceFieldID=2;this.Contract_PropertyCode_IntegratedServiceID=2;this.Contract_PropertyName_IntegratedServiceFieldID=3;this.Contract_PropertyName_IntegratedServiceID=2;this.Contract_PropertyAddress1_IntegratedServiceFieldID=45;this.Contract_PropertyAddress1_IntegratedServiceID=2;this.Contract_PropertyAddress2_IntegratedServiceFieldID=46;this.Contract_PropertyAddress2_IntegratedServiceID=2;this.Contract_PropertyCity_IntegratedServiceFieldID=49;this.Contract_PropertyCity_IntegratedServiceID=2;this.Contract_PropertyState_IntegratedServiceFieldID=50;this.Contract_PropertyState_IntegratedServiceID=2;this.Contract_PropertyZipCode_IntegratedServiceFieldID=51;this.Contract_PropertyZipCode_IntegratedServiceID=2;this.Tenant_IntegratedServiceFieldID=20;this.Tenant_IntegratedServiceID=4;this.TenantID_IntegratedServiceFieldID=34;this.TenantID_IntegratedServiceID=4;this.Contact_ContactName_IntegratedServiceFieldID=22;this.Contact_ContactName_IntegratedServiceID=5;this.Contact_Address_IntegratedServiceFieldID=23;this.Contact_Address_IntegratedServiceID=5;this.Contact_Phone_IntegratedServiceFieldID=24;this.Contact_Phone_IntegratedServiceID=5;this.Contact_Fax_IntegratedServiceFieldID=25;this.Contact_Fax_IntegratedServiceID=5;this.Contact_Email_IntegratedServiceFieldID=26;this.Contact_Email_IntegratedServiceID=5;this.Contact_ContactPersonName_IntegratedServiceFieldID=27;this.Contact_ContactPersonName_IntegratedServiceID=5;this.Contact_ContactType_IntegratedServiceFieldID=28;this.Contact_ContactType_IntegratedServiceID=5;this.Contact_ContactPersonPhone_IntegratedServiceFieldID=29;this.Contact_ContactPersonPhone_IntegratedServiceID=5;this.Contact_ContactPersonEmail_IntegratedServiceFieldID=30;this.Contact_ContactPersonEmail_IntegratedServiceID=5;this.Contact_ContactAddress1_IntegratedServiceFieldID=39;this.Contact_ContactAddress1_IntegratedServiceID=5;this.Contact_ContactAddress2_IntegratedServiceFieldID=40;this.Contact_ContactAddress2_IntegratedServiceID=5;this.Contact_ContactCity_IntegratedServiceFieldID=41;this.Contact_ContactCity_IntegratedServiceID=5;this.Contact_ContactState_IntegratedServiceFieldID=42;this.Contact_ContactState_IntegratedServiceID=5;this.Contact_ContactZipCode_IntegratedServiceFieldID=43;this.Contact_ContactZipCode_IntegratedServiceID=5;this.ContactType={Address:"Address",ContactName:"ContactName",ContactAddress1:"ContactAddress1",ContactAddress2:"ContactAddress2",ContactCity:"ContactCity",ContactState:"ContactState",ContactZipCode:"ContactZipCode",ContactPersonEmail:"ContactPersonEmail",ContactPersonName:"ContactPersonName",ContactPersonPhone:"ContactPersonPhone",ContactType:"ContactType",Email:"Email",Fax:"Fax",Phone:"Phone"};this.Unit_IntegratedServiceFieldID=10;this.Unit_IntegratedServiceID=3;this.Unit_UnitAddress_IntegratedServiceFieldID=11;this.Unit_UnitAddress_IntegratedServiceID=3;this.Unit_UnitCity_IntegratedServiceFieldID=32;this.Unit_UnitCity_IntegratedServiceID=3;this.Unit_UnitState_IntegratedServiceFieldID=33;this.Unit_UnitState_IntegratedServiceID=3;this.Unit_UnitZip_IntegratedServiceFieldID=34;this.Unit_UnitZip_IntegratedServiceID=3;this.Unit_UnitType_IntegratedServiceFieldID=12;this.Unit_UnitType_IntegratedServiceID=3;this.Unit_UnitSize_IntegratedServiceFieldID=13;this.Unit_UnitSize_IntegratedServiceID=3;this.Unit_UtilityAllowance_IntegratedServiceFieldID=15;this.Unit_UtilityAllowance_IntegratedServiceID=3;this.DynamicFieldDataType={Boolean:1,Date:2,DateTime:3,Decimal:4,Integer:5,String:6,Time:7};this.DynamicFieldHTMLType={Text:1,ParagraphText:2,Yes_No:3,Checkboxes:4,MultipleChoice:5,ChooseFromList:6,Date:7,DataFromLegacy:8,SubForm:1e3};var t=this,i=new n.Main_Config;t.moduleName="CSC";i.DeploymentType=="local"?t.baseURL="http://csc.cat.com":i.DeploymentType=="DEV"?t.baseURL="https://cgicatscscapidev.cgicledev.com":i.DeploymentType=="QA"?t.baseURL="https://cgicatscscapiqa.cgicledev.com":i.DeploymentType=="UAT"?t.baseURL="https://cgicatscscapiuat.cgicledev.com":i.DeploymentType=="PROD"&&(t.baseURL="https://cgicats-api-csc.cgipbca.com")}return t}();n.CSC_Config=t}(Configuration||(Configuration={})),function(n){var t=function(){function t(){this.Contract_IntegratedServiceFieldID=4;this.Contract_IntegratedServiceID=2;this.Contract_ElderlyType_IntegratedServiceFieldID=5;this.Contract_ElderlyType_IntegratedServiceID=2;this.Contract_GroupHome_IntegratedServiceFieldID=7;this.Contract_GroupHome_IntegratedServiceID=2;this.Contract_Notes_IntegratedServiceFieldID=8;this.Contract_Notes_IntegratedServiceID=2;this.Contract_ProgramName_IntegratedServiceFieldID=6;this.Contract_ProgramName_IntegratedServiceID=2;this.Contract_PropertyCode_IntegratedServiceFieldID=2;this.Contract_PropertyCode_IntegratedServiceID=2;this.Contract_PropertyName_IntegratedServiceFieldID=3;this.Contract_PropertyName_IntegratedServiceID=2;this.Tenant_IntegratedServiceFieldID=20;this.Tenant_IntegratedServiceID=4;this.TenantID_IntegratedServiceFieldID=34;this.TenantID_IntegratedServiceID=4;this.Contact_ContactName_IntegratedServiceFieldID=22;this.Contact_ContactName_IntegratedServiceID=5;this.Contact_Address_IntegratedServiceFieldID=23;this.Contact_Address_IntegratedServiceID=5;this.Contact_Phone_IntegratedServiceFieldID=24;this.Contact_Phone_IntegratedServiceID=5;this.Contact_Fax_IntegratedServiceFieldID=25;this.Contact_Fax_IntegratedServiceID=5;this.Contact_Email_IntegratedServiceFieldID=26;this.Contact_Email_IntegratedServiceID=5;this.Contact_ContactPersonName_IntegratedServiceFieldID=27;this.Contact_ContactPersonName_IntegratedServiceID=5;this.Contact_ContactType_IntegratedServiceFieldID=28;this.Contact_ContactType_IntegratedServiceID=5;this.Contact_ContactPersonPhone_IntegratedServiceFieldID=29;this.Contact_ContactPersonPhone_IntegratedServiceID=5;this.Contact_ContactPersonEmail_IntegratedServiceFieldID=30;this.Contact_ContactPersonEmail_IntegratedServiceID=5;this.ContactType={Address:"Address",ContactName:"ContactName",ContactPersonEmail:"ContactPersonEmail",ContactPersonName:"ContactPersonName",ContactPersonPhone:"ContactPersonPhone",ContactType:"ContactType",Email:"Email",Fax:"Fax",Phone:"Phone"};this.Unit_IntegratedServiceFieldID=10;this.Unit_IntegratedServiceID=3;this.Unit_ContractRent_IntegratedServiceFieldID=32;this.Unit_ContractRent_IntegratedServiceID=3;this.Unit_GrossRent_IntegratedServiceFieldID=33;this.Unit_GrossRent_IntegratedServiceID=3;this.Unit_UnitAddress_IntegratedServiceFieldID=11;this.Unit_UnitAddress_IntegratedServiceID=3;this.Unit_UnitType_IntegratedServiceFieldID=12;this.Unit_UnitType_IntegratedServiceID=3;this.Unit_UnitSize_IntegratedServiceFieldID=13;this.Unit_UnitSize_IntegratedServiceID=3;this.Unit_UtilityAllowance_IntegratedServiceFieldID=15;this.Unit_UtilityAllowance_IntegratedServiceID=3;this.DynamicFieldDataType={Boolean:1,Date:2,DateTime:3,Decimal:4,Integer:5,String:6,Time:7};this.DynamicFieldHTMLType={Text:1,ParagraphText:2,Yes_No:3,Checkboxes:4,MultipleChoice:5,ChooseFromList:6,Date:7,DataFromLegacy:8,SubForm:1e3};var t=this,i=new n.Main_Config;t.moduleName="DocMan";i.DeploymentType=="local"?(t.baseURL="http://docman.cat.com",t.documentViewerURL="http://docviewer.cat.com",t.reportViewerURL="http://report.cat.com",t.launchDocumentViewer=!0):i.DeploymentType=="DEV"?(t.baseURL="https://cgicatsdocmanapidev.cgicledev.com",t.documentViewerURL="https://cgicatsdocviewerdev.cgicledev.com/VirtualViewerNetHTML5",t.reportViewerURL="https://cgicatsreportdev.cgicledev.com",t.launchDocumentViewer=!0):i.DeploymentType=="QA"?(t.baseURL="https://cgicatsdocmanapiqa.cgicledev.com",t.documentViewerURL="https://cgicatsdocviewerqa.cgicledev.com/VirtualViewerNetHTML5",t.reportViewerURL="https://cgicatsreportqu.cgicledev.com",t.launchDocumentViewer=!0):i.DeploymentType=="UAT"?(t.baseURL="https://cgicatsdocmanapiuat.cgicledev.com",t.documentViewerURL="https://cgicatsdocvieweruat.cgicledev.com/VirtualViewerNetHTML5",t.reportViewerURL="https://cgicatsreportuat.cgicledev.com",t.launchDocumentViewer=!0):i.DeploymentType=="PROD"&&(t.baseURL="https://cgicats-api-docman.cgipbca.com",t.documentViewerURL="https://cgicatsapidocviewer.cgipbca.com/VirtualViewerNetHTML5",t.documentViewerURL="https://cgicatsapireport.cgipbca.com",t.launchDocumentViewer=!0)}return t}();n.DM_Config=t}(Configuration||(Configuration={})),function(n){var t=function(){function t(){var t=this,i=new n.Main_Config;t.moduleName="TaskManager";i.DeploymentType=="local"?t.baseURL="http://taskmanager.cat.com":i.DeploymentType=="DEV"?t.baseURL="https://cgicatsamendrentsapidev.cgicledev.com":i.DeploymentType=="QA"?t.baseURL="https://cgicats-amendrents-api-qa.cgicledev.com":i.DeploymentType=="UAT"?t.baseURL="https://cgicats-amendrents-api-uat.cgicledev.com":i.DeploymentType=="PROD"}return t}();n.TaskManager_Config=t}(Configuration||(Configuration={})),function(n){function i(){return Util.callWebService(Util.BuildURL([t.baseURL,"Category","GetCategoriesSysAdmin"]),"GET")}function r(){return Util.callWebService(Util.BuildURL([t.baseURL,"Category","GetCategories"]),"GET")}function u(){return Util.callWebService(Util.BuildURL([t.baseURL,"Category","GetDatCaptureFieldTypes"]),"GET")}function f(n){var i={categoryID:n};return Util.callWebService(Util.BuildURL([t.baseURL,"Category","GetSubCategoriesAndDataCaptureFields"]),"GET",i)}function e(n,i,r){var u={ID:n,IsActive:i,ConcurrencyHash:r};return Util.callWebService(Util.BuildURL([t.baseURL,"Category","ChangeActive"]),"POST",u)}function o(n){var i={ID:n.ID,Name:n.Name,IsActive:n.IsActive,SubCategory:n.SubCategory,DataCaptureField:n.DataCaptureField,NewCategory:n.NewCategory,ConcurrencyHash:n.ConcurrencyHash};return Util.callWebService(Util.BuildURL([t.baseURL,"Category","Update"]),"POST",i)}var t=new Configuration.DM_Config;n.GetCategoriesSysAdmin=i;n.GetCategories=r;n.GetDatCaptureFieldTypes=u;n.GetSubCategoriesAndDataCaptureFields=f;n.ChangeActive=e;n.Save=o}(AdministrationData||(AdministrationData={})),function(n){function i(){return Util.callWebService(Util.BuildURL([t.baseURL,"DocumentGroup","GetClientsAndCategoriesByUserID"]),"GET")}function r(n){var i={documentGroupID:n};return Util.callWebService(Util.BuildURL([t.baseURL,"Document","GetDocumentMaster"]),"GET",i)}function u(n){var i={documentGroupID:n};return Util.callWebService(Util.BuildURL([t.baseURL,"DocumentGroup","GetDocumentGroupMaster"]),"GET",i)}function f(n){return n?Data.createAutocompleteDataSource(Util.BuildURL([t.baseURL,"DocumentGroup","SearchUserContracts"]),n):new kendo.data.DataSource}function e(n){var i={DocumentGroupID:n.DocumentGroupID,IsAddVersion:n.IsAddVersion,NewDocuments:n};return Util.callWebService(Util.BuildURL([t.baseURL,"Document","SaveNewDocuments"]),"POST",i)}function o(n,i,r,u){var f={DocumentID:n,IsActive:i,DocumentConcurrencyHash:r};return Util.callWebService(Util.BuildURL([t.baseURL,"Document","HasChangeDocumentStatus",u]),"POST",f)}function s(n,i,r,u){var f={DocumentID:n,SubCategoryID:i,DocumentConcurrencyHash:r};return Util.callWebService(Util.BuildURL([t.baseURL,"Document","HasSubCategory",u]),"POST",f)}function h(n,i,r,u){var f={DocumentID:n,IsActive:i,DocumentConcurrencyHash:r};return Util.callWebService(Util.BuildURL([t.baseURL,"Document","FlagDocumentAsExternal",u]),"POST",f)}function c(n,i,r){var u={CategoryID:n,ClientID:i,Document:r};return Util.callWebService(Util.BuildURL([t.baseURL,"Document","GetSubCategoriesDocumentGroups"]),"POST",u)}function l(n){var i={categoryID:n};return Util.callWebService(Util.BuildURL([t.baseURL,"DocumentGroup","GetSubCategoriesAndDataCaptureFields"]),"GET",i)}function a(n,i,r){var u={DocumentGroupID:n,IsActive:i,GroupConcurrencyHash:r};return Util.callWebService(Util.BuildURL([t.baseURL,"Document","HasDeleteRestore",n]),"POST",u)}function v(n){return Util.callWebService(Util.BuildURL([t.baseURL,"DocumentGroup","Update"]),"POST",n)}function y(n,i,r,u,f,e){return Util.callWebService(Util.BuildURL([t.baseURL,"Document","DownloadDocument/"+n+"/"+i+"/"+r+"/"+u+"/"+f+"/"+e]),"GET",{})}function p(n,i){var r={Document:n,ClientID:i};return Util.callWebService(Util.BuildURL([t.baseURL,"Document","DeleteDocument"]),"POST",r)}function w(n,i,r){var u={DocumentGroupID:n,Document:i,GroupConcurrencyHash:r};return Util.callWebService(Util.BuildURL([t.baseURL,"Document","HasMoveToDocumentGroup",n]),"POST",u)}var t=new Configuration.DM_Config;n.GetClientsAndCategoriesByUserID=i;n.GetDocumentMaster=r;n.GetDocumentGroupMaster=u;n.SearchUserContracts=f;n.SaveNewDocuments=e;n.ChangeDocumentStatus=o;n.SaveSubCategory=s;n.IsExternalSave=h;n.GetSubCategoriesDocumentGroups=c;n.GetSubCategoriesAndDataCaptureFields=l;n.DeleteRestore=a;n.SaveNewDocumentGroup=v;n.DownloadDocument=y;n.DeleteDocument=p;n.MoveToDocumentGroup=w}(DocumentData||(DocumentData={})),function(n){function i(n){return Util.callWebService(Util.BuildURL([t.baseURL,"Contacts","GetContactsByTask",n]),"GET",null)}function r(n){var i={taskID:n};return Util.callWebService(Util.BuildURL([t.baseURL,"Input","GetInputMaster"]),"GET",i)}function u(){return Util.callWebService(Util.BuildURL([t.baseURL,"TaskGrid","GetAddTasksMasterEntities"]),"GET",null)}function f(n){var i={ContractID:n.ContractID,TaskTypeID:n.TaskTypeID,ClientID:n.ClientID,KeyDate:n.KeyDate};return Util.callWebService(Util.BuildURL([t.baseURL,"TaskGrid","AddTasks"]),"POST",i)}function e(n){var i={ID:n.ID,TaskID:n.TaskID,StatusID:n.StatusID,NewRentEffectiveDate:n.NewRentEffectiveDate,RentRequiredID:n.RentRequiredID,RentRequestSecondOptID:n.RentRequestSecondOptID,RCSRequiredID:n.RCSRequiredID,UtilityRequiredID:n.UtilityRequiredID,DebtServiceID:n.DebtServiceID,HudInsuredID:n.HudInsuredID,HudYesNoID:n.HudYesNoID,FirstAppealYesNoID:n.FirstAppealYesNoID,SecondAppealYesNoID:n.SecondAppealYesNoID,InputConcurrencyHash:n.InputConcurrencyHash};return Util.callWebService(Util.BuildURL([t.baseURL,"Input","SaveInput"]),"POST",i)}function o(n){return Util.callWebService(Util.BuildURL([t.baseURL,"ContractDetails","GetByTask",n]),"GET",null)}function s(n){var i={taskID:n};return Util.callWebService(Util.BuildURL([t.baseURL,"TaskGrid","GetContractInfoForTask"]),"GET",i)}function h(n,i){var r={TaskID:n,DelegateUserID:i};return Util.callWebService(Util.BuildURL([t.baseURL,"TaskGrid","Delegate"]),"POST",r)}function c(){return Util.callWebService(Util.BuildURL([t.baseURL,"AdminOCAF","GetUserClientList"]),"GET",null)}function l(n){var i={ClientID:n};return Util.callWebService(Util.BuildURL([t.baseURL,"AdminOCAF","GetUserClientGridData",n]),"POST",i)}function a(n){var i={OCAFEntity:{AccountID:n.AccountID,ClientID:n.ClientID,OCAFFactor:n.OCAFFactor,EffectiveDate:n.EffectiveDate,Version:n.Version}};return Util.callWebService(Util.BuildURL([t.baseURL,"AdminOCAF","Add"]),"POST",i)}function v(){return Util.callWebService(Util.BuildURL([t.baseURL,"AdminAutomatedEmail","GetTaskTypes"]),"GET")}function y(n){var i={taskTypeID:n};return Util.callWebService(Util.BuildURL([t.baseURL,"AdminAutomatedEmail","GetByTaskTypeAndAccountID"]),"GET",i)}function p(n){var i={EmailReminderID:n};return Util.callWebService(Util.BuildURL([t.baseURL,"AdminAutomatedEmail","GetEmailReminderMaster"]),"GET",i)}function w(n,i,r){var u={ID:n,IsActive:i,ConcurrencyHash:r};return Util.callWebService(Util.BuildURL([t.baseURL,"AdminAutomatedEmail","ChangeActiveEmailReminder"]),"POST",u)}function b(n){var i={AdmEmailReminder:n.AdmEmailReminder,SelectedClients:n.SelectedClients,TaskTypeID:n.TaskTypeID,SavedConditions:n.SavedConditions,SavedEmailsTo:n.SavedEmailsTo,SavedEmailsCC:n.SavedEmailsCC,EmailReminderConcurrencyHash:n.EmailReminderConcurrencyHash};return Util.callWebService(Util.BuildURL([t.baseURL,"AdminAutomatedEmail","SaveEmailReminder"]),"POST",i)}function k(n){var i={AdmEmailReminder:n.AdmEmailReminder,SelectedClients:n.SelectedClients,TaskTypeID:n.TaskTypeID,SavedConditions:n.SavedConditions,SavedEmailsTo:n.SavedEmailsTo,SavedEmailsCC:n.SavedEmailsCC,EmailReminderConcurrencyHash:n.EmailReminderConcurrencyHash};return Util.callWebService(Util.BuildURL([t.baseURL,"AdminAutomatedEmail","AddEmailReminder"]),"POST",i)}var t=new Configuration.TaskManager_Config;n.GetContactsMasterViewModel=i;n.GetInputMaster=r;n.GetAddTasksMaster=u;n.AddTask=f;n.SaveInputs=e;n.GetContractDetails=o;n.GetContractInfoForTask=s;n.DelegateUser=h;n.GetOCAFUserClientList=c;n.GetOCAFUserClientGridData=l;n.SaveOCAFAdminGridEntity=a;n.GetTaskTypes=v;n.GetByTaskTypeAndAccountID=y;n.GetEmailReminderMaster=p;n.ChangeActive=w;n.SaveEmailReminder=b;n.AddEmailReminder=k}(TaskManagerData||(TaskManagerData={})),function(n){var t=function(){function t(){var t=this,i=new n.Main_Config;t.moduleName="Report";t.baseURL=i.DeploymentType=="local"?"http://report.cat.com":"https://cgicatsreportapidev.cgicledev.com"}return t}();n.Report_Config=t}(Configuration||(Configuration={})),function(n){function r(){return Util.callWebService(Util.BuildURL([i.baseURL,"ReportTemplate","CSCReports/GetReportTemplates"]),"GET",{})}function u(){return Util.callWebService(Util.BuildURL([i.baseURL,"ReportTemplate","TaskReports","GetReportTemplates"]),"GET",{})}function f(n){var i={Name:"Print Preview",ID:t.PRINT_PREVIEW},r={Name:"Interactive",ID:t.INTERACTIVE};n.push(i);n.push(r)}var i=new Configuration.Report_Config,t;(function(n){n[n.PRINT_PREVIEW=0]="PRINT_PREVIEW";n[n.INTERACTIVE=1]="INTERACTIVE"})(n.ViewModeTypes||(n.ViewModeTypes={}));t=n.ViewModeTypes;n.GetCSCReportTemplates=r;n.GetTaskReportTemplates=u;n.AddViewModesToArray=f}(ReportData||(ReportData={})),function(n){var t=function(){function t(){var t=this,i=new n.Main_Config;t.moduleName="Shared";i.DeploymentType=="local"?t.baseURL="http://config.cat.com":i.DeploymentType=="DEV"?t.baseURL="https://cgicatsconfigapidev.cgicledev.com":i.DeploymentType=="QA"?t.baseURL="https://cgicatsconfigapiqa.cgicledev.com":i.DeploymentType=="UAT"?t.baseURL="https://cgicatsconfigapiuat.cgicledev.com":i.DeploymentType=="PROD"&&(t.baseURL="https://cgicats-api-config.cgipbca.com")}return t}();n.Shared_Config=t}(Configuration||(Configuration={})),function(n){var t=function(){function n(){this.notificationOpen=!1;var n=this;n.notificationOpen=!1}return n.prototype.createNotificationEvent=function(n,t,i,r,u){if(!this.notificationOpen){this.notificationOpen=!0;$("#"+i).on("click",function(i){$.SmartMessageBox({title:n,content:"<div style='padding-left:35px; margin-top: -10px;'>"+t+"<\/div>",buttons:r},function(n){var t,i;if(n==="Yes"){try{u()}catch(r){}t=Global.App();i=t.notificationManager();i.notificationOpen=!1}n==="No"&&(t=Global.App(),i=t.notificationManager(),i.notificationOpen=!1)});i.preventDefault()})}},n.prototype.createNotification=function(n,t,i,r){if(!this.notificationOpen){this.notificationOpen=!0;var u;u="<div style='padding-left:35px; margin-top: -10px;'>"+t+"<\/div>";r&&(u+="<div style='padding-left:35px; position:absolute; bottom: 0; left: 0; font-size: x-small'>"+r+"<\/div>");$.SmartMessageBox({title:n,content:u,buttons:"[OK]"},function(n){var t,r;if(n==="OK"){try{i()}catch(u){}t=Global.App();r=t.notificationManager();r.notificationOpen=!1}n==="No"&&(t=Global.App(),r=t.notificationManager(),r.notificationOpen=!1)})}},n.prototype.createNotificationAndWait=function(n,t){var i=jQuery.Deferred();return this.notificationOpen||(this.notificationOpen=!0,$.SmartMessageBox({title:n,content:"<div style='padding-left:35px; margin-top: -10px;'>"+t+"<\/div>",buttons:"[OK]"},function(n){var t,r;if(n==="OK"){try{i.resolve("Done")}catch(u){}t=Global.App();r=t.notificationManager();r.notificationOpen=!1}n==="No"&&(t=Global.App(),r=t.notificationManager(),r.notificationOpen=!1)})),i.promise()},n.prototype.createSmallBoxNotification=function(n,t){var i="",r="",u="";switch(n){case UI.messageTypeValues.success:i="#298507";r="Success";u="fa fa-check-circle";break;case UI.messageTypeValues.error:i="#e31937";r="Error";u="fa fa-exclamation-circle";break;case UI.messageTypeValues.info:i="#1E549E";r="Info";u="fa fa-info-circle"}$("*[id^=smallbox]:visible").each(function(){$(this).remove()});$.smallBox({title:r,content:t,color:i,iconSmall:u,timeout:7e3})},n}();n.SmartBoxNotification=t}(Notification||(Notification={})),function(n){var t=function(){function n(n){this.options=n;this.isTree=!1;this.isAfterModal=!1;this.isRendered=!1;var t=this;n.useServerFiltering==null&&(n.useServerFiltering=!1);this.recordList=n.recordList;this.recordList.recordSelect(function(n){t.recordSelect(n)});this.listFilter=n.listFilter;this.listFilter.change(function(n){t.options.useServerFiltering?t.load():t.recordFields.haveFieldsChanged()&&t.editContainer[0].offsetHeight>0?UI.showConfirmDialog(UI.PHRASE_UNSAVEDCHANGESONLEAVE,function(){t.editContainer.hide();t.instructionsContainer.show();t.recordList.updateFilter(t.options.getListFilter(n))},function(){}):(t.editContainer.hide(),t.instructionsContainer.show(),t.recordList.updateFilter(t.options.getListFilter(n)))});this.listFilter.add(function(){t.listFilterAdd()});this.listFilter.refresh(function(){t.load()});t.recordFields=n.recordFields}return n.prototype.render=function(n,t,i){var r=this,u=Global.App(),f=$.Deferred();return this.isRendered?f.resolve():(this.container=n,u.templates().render(r.options.templateFileName,t,i,r.options.templateName,r.container).done(function(){r.pageContainer=n.find("div[data-role='page']");r.pageContainerDataId=r.pageContainer.attr("data-id");Global.App().global().PageRequestParameters.PageAccess.HtmlDataID=r.pageContainerDataId;var e=r.container.find("[data-id='page_ribbon']"),o=$("#template_ribbon"),s=kendo.template(o.html());e.html(s(this));r.closePageButton=e.find("[data-id='closePageButton']");r.addButton=e.find("[data-id='addButton']");r.addAndCloseButton=e.find("[data-id='addAndCloseButton']");r.updateButton=e.find("[data-id='updateButton']");r.updateAndCloseButton=e.find("[data-id='updateAndCloseButton']");r.addButton.addClass("hidden");r.addAndCloseButton.addClass("hidden");r.updateButton.addClass("hidden");r.updateAndCloseButton.addClass("hidden");r.closePageButton.click(function(){r.recordFields.haveFieldsChanged()&&r.editContainer[0].offsetHeight>0?UI.showConfirmDialog(UI.PHRASE_UNSAVEDCHANGESONLEAVE,function(){u.router().closeTab(r.options.appRouterID)},function(){}):u.router().closeTab(r.options.appRouterID)});r.closePageButton.button();r.updateButton.click(function(){r.update(!1)});r.updateAndCloseButton.click(function(){r.update(!0)});r.addButton.click(function(){r.add(!1)});r.addAndCloseButton.click(function(){r.add(!0)});r.listFilterContainer=r.container.find("div[data-id='listFilterContainer']");r.recordListContainer=r.container.find("div[data-id='recordListContainer']");r.recordFieldsContainer=r.container.find("div[data-id='recordFieldsContainer']");r.editContainer=r.container.find("div[data-id='editContainer']");r.instructionsContainer=r.container.find("div[data-id='instructionsContainer']");r.rightPaneContainer=r.container.find("div[data-id='rightPane']");r.leftPaneContainer=r.container.find("div[data-id='leftPane']");r.editContainer.hide();r.instructionsContainer.show();$.when(r.listFilter.render(r.listFilterContainer,t,i),r.recordList.render(r.recordListContainer,t,i),r.recordFields.render(r.recordFieldsContainer,t,i)).done(function(){r.isRendered=!0;f.resolve()})})),f.promise()},n.prototype.load=function(){var n=this;n.recordListContainer.find("div[data-id='noRecords']").hide();n.recordListContainer.find("div[data-id='listView']").show();var t=$.Deferred(),i=UI.showWaitIndicator(n.recordListContainer),r=Global.App();return this.options.getListDataSource(n.listFilter.getFilterValues()).getDataSource().done(function(i,r){r.Permissions!=undefined&&(r.Permissions.Add=="Add"?n.listFilter.showAddButton(!0):n.listFilter.showAddButton(!1));n.recordList.load(i,n.options.getListFilter(n.listFilter.getFilterValues()));t.resolve()}).fail(function(n){n!=null?UI.showErrorMessage(n):UI.showErrorMessage([UI.PHRASE_PAGELOADERROR]);t.reject()}).always(function(){UI.hideWaitIndicator(n.recordListContainer,i)}),t.promise()},n.prototype.height=function(n){if(this.isRendered){var i=this.listFilterContainer.height(),r=this,t=n-10;i<=0&&(i=99);t>0&&(this.leftPaneContainer.height(t),this.rightPaneContainer.height(t),t-i>0&&this.recordList.resize(t-i),t-50>0&&this.recordFieldsContainer.height(t-50));$(this.container).height(t+30)}},n.prototype.haveFieldsChanged=function(){return this.recordFields.haveFieldsChanged()},n.prototype.loadRecord=function(n){var i=this,t=$.Deferred();return n>0?this.loadRecordInternal(n).done(function(){t.resolve()}).fail(function(){t.reject()}):t.resolve(),t.promise()},n.prototype.hideRecord=function(){this.editContainer.hide();this.instructionsContainer.show()},n.prototype.title=function(){return this.options.recordFields.getTitle()},n.prototype.subTitle=function(){return this.options.recordFields.getSubTitle()},n.prototype.doValidation=function(){var n=!0;return this.recordFields.doValidation()||(n=!1),n},n.prototype.add=function(n){var t=this,i=Global.App(),r;if(this.doValidation()){var f=this.addButton.html(),e=this.addAndCloseButton.html(),u='<i class="fa fa-floppy-o">&nbsp<\/i><span class="hide-when-small">Saving...<\/span>';n?this.addAndCloseButton.html(u):this.addButton.html(u);r=UI.showWaitIndicator(this.rightPaneContainer);this.options.recordDataSource.add(this.recordFields.getData()).done(function(r){if(r.Success)if(r.SpecialUAError){var f=r.UserID,u;UI.showNotificationMessage(UI.PHRASE_RECORDSAVED,UI.messageTypeValues.success);t.recordFields.load(r.Payload);t.isTree||t.load();n&&i.router().closeTab(t.options.appRouterID);t.options.recordFields.getID()>0&&(t.DisplayAddButtons(!1,t.container),t.DisplayUpdateButtons(!0,t.container));u=$("#notificationWindow").dialog({dialogClass:"no-close",title:"User Assignment",autoOpen:!1,modal:!0,resizable:!1,draggable:!1,buttons:{Yes:function(){var n=$(this);u.dialog("close");i.router().navigate("Config/UserAssignments?nbr="+f+"&type=1",!0)},No:function(){u.dialog("close")}}});u.html(r.Messages);u.dialog("open")}else n?i.router().closeTab(t.options.appRouterID):(UI.showNotificationMessage(UI.PHRASE_RECORDSAVED,UI.messageTypeValues.success),t.recordFields.load(r.Payload),t.isTree||t.load(),i.events().trigger(EventUtil.EVENT_ROUTECHANGE,{appRouterID:t.options.appRouterID,url:t.options.url+"/"+t.options.recordFields.getID(),title:t.options.recordFields.getTitle(),subTitle:t.options.recordFields.getSubTitle()}),t.options.recordFields.getID()>0&&(t.DisplayAddButtons(!1,t.container),t.DisplayUpdateButtons(!0,t.container)));else UI.showErrorMessage(r.Messages,r.ErrorMessages)}).fail(function(){UI.showErrorMessage([UI.PHRASE_SAVEERROR])}).always(function(){UI.hideWaitIndicator(t.rightPaneContainer,r);t.addAndCloseButton.html(e);t.addButton.html(f)})}else UI.showErrorMessage([UI.PHRASE_INVALIDFIELDSONSAVE])},n.prototype.update=function(n){var t=this,i=Global.App(),r;if(this.doValidation()){var f=this.updateButton.html(),e=this.updateAndCloseButton.html(),u='<i class="fa fa-floppy-o">&nbsp<\/i><span class="hide-when-small">Updating...<\/span>';n?this.updateAndCloseButton.html(u):this.updateButton.html(u);r=UI.showWaitIndicator(this.rightPaneContainer);this.options.recordDataSource.update(this.recordFields.getData()).done(function(r){var c,u,o,f,e,s,h;if(r.Success)n?i.router().closeTab(t.options.appRouterID):(UI.showNotificationMessage(UI.PHRASE_RECORDSAVED,UI.messageTypeValues.success),t.recordFields.load(r.Payload),t.isTree||t.load(),i.events().trigger(EventUtil.EVENT_ROUTECHANGE,{appRouterID:t.options.appRouterID,url:t.options.url+"/"+t.options.recordFields.getID(),title:t.options.recordFields.getTitle(),subTitle:t.options.recordFields.getSubTitle()}));else if(r.SpecialUAError)c=r.UserID,t.recordFields.load(r.Payload),u=$("#notificationWindow").dialog({dialogClass:"no-close",title:"User Assignment",autoOpen:!1,modal:!0,resizable:!1,draggable:!1,buttons:{OK:function(){u.dialog("close")}}}),u.html(r.Messages),u.dialog("open");else if(o="",f=r.Messages,h=f[0].indexOf("Enforce Domain Validation warning:"),h!=-1){for(s=f.length,e=0;e<s;e++)o+=f[e]+"<br />";u=$("#notificationWindow").dialog({dialogClass:"no-close  cats-scroll-dialog",title:"Enforce Domain Validation",autoOpen:!1,modal:!0,buttons:{OK:function(){u.dialog("close")}}});u.html(o);u.dialog("open")}else UI.showErrorMessage(r.Messages,r.ErrorMessages)}).fail(function(){UI.showErrorMessage([UI.PHRASE_SAVEERROR])}).always(function(){UI.hideWaitIndicator(t.rightPaneContainer,r);t.updateAndCloseButton.html(e);t.updateButton.html(f)})}else UI.showErrorMessage([UI.PHRASE_INVALIDFIELDSONSAVE])},n.prototype.DisplayAddButtons=function(n,t){n?(t.find('[data-id="addButton"]').removeClass("hidden"),t.find('[data-id="addAndCloseButton"]').removeClass("hidden")):(t.find('[data-id="addButton"]').addClass("hidden"),t.find('[data-id="addAndCloseButton"]').addClass("hidden"))},n.prototype.DisplayUpdateButtons=function(n,t){n?(t.find('[data-id="updateButton"]').removeClass("hidden"),t.find('[data-id="updateAndCloseButton"]').removeClass("hidden")):(t.find('[data-id="updateButton"]').addClass("hidden"),t.find('[data-id="updateAndCloseButton"]').addClass("hidden"))},n.prototype.recordSelect=function(n){var t=this;t.isAfterModal=!1;this.recordFields.haveFieldsChanged()&&this.editContainer[0].offsetHeight>0?(t.isTree||t.recordList.selectPreviousItem(),UI.showConfirmDialog(UI.PHRASE_UNSAVEDCHANGESONLEAVE,function(){t.isAfterModal=!0;t.isTree||t.recordList.selectPreviousItem();console.log("In YES function");t.loadRecord(n.ID)},function(){t.isTree&&!t.isAfterModal&&t.recordList.selectPreviousItem();t.isAfterModal=!0})):(t.loadRecord(n.ID),t.editContainer.show(),t.instructionsContainer.hide())},n.prototype.listFilterAdd=function(){var n=this;this.recordFields.haveFieldsChanged()&&this.editContainer[0].offsetHeight>0?UI.showConfirmDialog(UI.PHRASE_UNSAVEDCHANGESONLEAVE,function(){n.loadRecordInternal(0)},function(){}):n.loadRecordInternal(0)},n.prototype.loadRecordInternal=function(n){var t=this,i=$.Deferred(),r;return n!=t.options.recordFields.getID()?(r=UI.showWaitIndicator(this.rightPaneContainer),this.options.recordDataSource.load(n).done(function(r){var u=Global.App();n==0?(t.DisplayAddButtons(!0,t.container),t.DisplayUpdateButtons(!1,t.container)):(t.DisplayAddButtons(!1,t.container),t.DisplayUpdateButtons(!0,t.container));r.Success?(t.recordFields.load(r.Payload),t.editContainer.show(),t.instructionsContainer.hide(),u.events().trigger(EventUtil.EVENT_ROUTECHANGE,{appRouterID:t.options.appRouterID,url:t.options.url+"/"+n,title:t.options.recordFields.getTitle(),subTitle:t.options.recordFields.getSubTitle()}),i.resolve(r)):(t.editContainer.hide(),t.instructionsContainer.show(),UI.showErrorMessage(r.Messages,r.ErrorMessages),i.reject())}).fail(function(n){t.editContainer.hide();t.instructionsContainer.show();n.status!=440&&UI.showErrorMessage([UI.PHRASE_RECORDLOADERROR]);i.reject()}).always(function(){UI.hideWaitIndicator(t.rightPaneContainer,r)})):i.resolve(),i.promise()},n}();n.ListDetailEditUIContainer=t}(MasterUIContainers||(MasterUIContainers={})),function(){var n=[].slice;(function(t,i){"use strict";var r;return r=function(){function n(n,i){i==null&&(i={});this.$element=t(n);this.options=t.extend({},t.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},i);this.prevOptions={};this.$wrapper=t("<div>",{"class":function(n){return function(){var t;return t=[""+n.options.baseClass].concat(n._getClasses(n.options.wrapperClass)),t.push(n.options.state?n.options.baseClass+"-on":n.options.baseClass+"-off"),n.options.size!=null&&t.push(n.options.baseClass+"-"+n.options.size),n.options.disabled&&t.push(n.options.baseClass+"-disabled"),n.options.readonly&&t.push(n.options.baseClass+"-readonly"),n.options.indeterminate&&t.push(n.options.baseClass+"-indeterminate"),n.options.inverse&&t.push(n.options.baseClass+"-inverse"),n.$element.attr("id")&&t.push(n.options.baseClass+"-id-"+n.$element.attr("id")),t.join(" ")}}(this)()});this.$container=t("<div>",{"class":this.options.baseClass+"-container"});this.$on=t("<span>",{html:this.options.onText,"class":this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor});this.$off=t("<span>",{html:this.options.offText,"class":this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor});this.$label=t("<span>",{html:this.options.labelText,"class":this.options.baseClass+"-label"});this.$element.on("init.bootstrapSwitch",function(t){return function(){return t.options.onInit.apply(n,arguments)}}(this));this.$element.on("switchChange.bootstrapSwitch",function(i){return function(){if(!1===i.options.onSwitchChange.apply(n,arguments))return i.$element.is(":radio")?t("[name='"+i.$element.attr("name")+"']").trigger("previousState.bootstrapSwitch",!0):i.$element.trigger("previousState.bootstrapSwitch",!0)}}(this));this.$container=this.$element.wrap(this.$container).parent();this.$wrapper=this.$container.wrap(this.$wrapper).parent();this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off);this.options.indeterminate&&this.$element.prop("indeterminate",!0);this._init();this._elementHandlers();this._handleHandlers();this._labelHandlers();this._formHandler();this._externalLabelHandler();this.$element.trigger("init.bootstrapSwitch",this.options.state)}return n.prototype._constructor=n,n.prototype.setPrevOptions=function(){return this.prevOptions=t.extend(!0,{},this.options)},n.prototype.state=function(n,i){return typeof n=="undefined"?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.$element.is(":radio")?t("[name='"+this.$element.attr("name")+"']").trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),n=!!n,this.$element.prop("checked",n).trigger("change.bootstrapSwitch",i),this.$element)},n.prototype.toggleState=function(n){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",n)},n.prototype.size=function(n){return typeof n=="undefined"?this.options.size:(this.options.size!=null&&this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size),n&&this.$wrapper.addClass(this.options.baseClass+"-"+n),this._width(),this._containerPosition(),this.options.size=n,this.$element)},n.prototype.animate=function(n){return typeof n=="undefined"?this.options.animate:(n=!!n,n===this.options.animate)?this.$element:this.toggleAnimate()},n.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this.options.baseClass+"-animate"),this.$element},n.prototype.disabled=function(n){return typeof n=="undefined"?this.options.disabled:(n=!!n,n===this.options.disabled)?this.$element:this.toggleDisabled()},n.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this.options.baseClass+"-disabled"),this.$element},n.prototype.readonly=function(n){return typeof n=="undefined"?this.options.readonly:(n=!!n,n===this.options.readonly)?this.$element:this.toggleReadonly()},n.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this.options.baseClass+"-readonly"),this.$element},n.prototype.indeterminate=function(n){return typeof n=="undefined"?this.options.indeterminate:(n=!!n,n===this.options.indeterminate)?this.$element:this.toggleIndeterminate()},n.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},n.prototype.inverse=function(n){return typeof n=="undefined"?this.options.inverse:(n=!!n,n===this.options.inverse)?this.$element:this.toggleInverse()},n.prototype.toggleInverse=function(){var n,t;return this.$wrapper.toggleClass(this.options.baseClass+"-inverse"),t=this.$on.clone(!0),n=this.$off.clone(!0),this.$on.replaceWith(n),this.$off.replaceWith(t),this.$on=n,this.$off=t,this.options.inverse=!this.options.inverse,this.$element},n.prototype.onColor=function(n){var t;return(t=this.options.onColor,typeof n=="undefined")?t:(t!=null&&this.$on.removeClass(this.options.baseClass+"-"+t),this.$on.addClass(this.options.baseClass+"-"+n),this.options.onColor=n,this.$element)},n.prototype.offColor=function(n){var t;return(t=this.options.offColor,typeof n=="undefined")?t:(t!=null&&this.$off.removeClass(this.options.baseClass+"-"+t),this.$off.addClass(this.options.baseClass+"-"+n),this.options.offColor=n,this.$element)},n.prototype.onText=function(n){return typeof n=="undefined"?this.options.onText:(this.$on.html(n),this._width(),this._containerPosition(),this.options.onText=n,this.$element)},n.prototype.offText=function(n){return typeof n=="undefined"?this.options.offText:(this.$off.html(n),this._width(),this._containerPosition(),this.options.offText=n,this.$element)},n.prototype.labelText=function(n){return typeof n=="undefined"?this.options.labelText:(this.$label.html(n),this._width(),this.options.labelText=n,this.$element)},n.prototype.handleWidth=function(n){return typeof n=="undefined"?this.options.handleWidth:(this.options.handleWidth=n,this._width(),this._containerPosition(),this.$element)},n.prototype.labelWidth=function(n){return typeof n=="undefined"?this.options.labelWidth:(this.options.labelWidth=n,this._width(),this._containerPosition(),this.$element)},n.prototype.baseClass=function(){return this.options.baseClass},n.prototype.wrapperClass=function(n){return typeof n=="undefined"?this.options.wrapperClass:(n||(n=t.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(n).join(" ")),this.options.wrapperClass=n,this.$element)},n.prototype.radioAllOff=function(n){return typeof n=="undefined"?this.options.radioAllOff:(n=!!n,n===this.options.radioAllOff)?this.$element:(this.options.radioAllOff=n,this.$element)},n.prototype.onInit=function(n){return typeof n=="undefined"?this.options.onInit:(n||(n=t.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=n,this.$element)},n.prototype.onSwitchChange=function(n){return typeof n=="undefined"?this.options.onSwitchChange:(n||(n=t.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=n,this.$element)},n.prototype.destroy=function(){var n;return n=this.$element.closest("form"),n.length&&n.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},n.prototype._width=function(){var t,n;return t=this.$on.add(this.$off),t.add(this.$label).css("width",""),n=this.options.handleWidth==="auto"?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,t.width(n),this.$label.width(function(t){return function(i,r){return t.options.labelWidth!=="auto"?t.options.labelWidth:r<n?n:r}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(this._handleWidth*2+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},n.prototype._containerPosition=function(n,t){if(n==null&&(n=this.options.state),this.$container.css("margin-left",function(t){return function(){var i;return(i=[0,"-"+t._handleWidth+"px"],t.options.indeterminate)?"-"+t._handleWidth/2+"px":n?t.options.inverse?i[1]:i[0]:t.options.inverse?i[0]:i[1]}}(this)),t)return setTimeout(function(){return t()},50)},n.prototype._init=function(){var n,t;return(n=function(n){return function(){return n.setPrevOptions(),n._width(),n._containerPosition(null,function(){if(n.options.animate)return n.$wrapper.addClass(n.options.baseClass+"-animate")})}}(this),this.$wrapper.is(":visible"))?n():t=i.setInterval(function(r){return function(){if(r.$wrapper.is(":visible"))return n(),i.clearInterval(t)}}(this),50)},n.prototype._elementHandlers=function(){return this.$element.on({"setPreviousOptions.bootstrapSwitch":function(n){return function(){return n.setPrevOptions()}}(this),"previousState.bootstrapSwitch":function(n){return function(){return n.options=n.prevOptions,n.options.indeterminate&&n.$wrapper.addClass(n.options.baseClass+"-indeterminate"),n.$element.prop("checked",n.options.state).trigger("change.bootstrapSwitch",!0)}}(this),"change.bootstrapSwitch":function(n){return function(i,r){var u;if(i.preventDefault(),i.stopImmediatePropagation(),u=n.$element.is(":checked"),n._containerPosition(u),u!==n.options.state)return n.options.state=u,n.$wrapper.toggleClass(n.options.baseClass+"-off").toggleClass(n.options.baseClass+"-on"),r?void 0:(n.$element.is(":radio")&&t("[name='"+n.$element.attr("name")+"']").not(n.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),n.$element.trigger("switchChange.bootstrapSwitch",[u]))}}(this),"focus.bootstrapSwitch":function(n){return function(t){return t.preventDefault(),n.$wrapper.addClass(n.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(n){return function(t){return t.preventDefault(),n.$wrapper.removeClass(n.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(n){return function(t){if(t.which&&!n.options.disabled&&!n.options.readonly)switch(t.which){case 37:return t.preventDefault(),t.stopImmediatePropagation(),n.state(!1);case 39:return t.preventDefault(),t.stopImmediatePropagation(),n.state(!0)}}}(this)})},n.prototype._handleHandlers=function(){this.$on.on("click.bootstrapSwitch",function(n){return function(t){return t.preventDefault(),t.stopPropagation(),n.state(!1),n.$element.trigger("focus.bootstrapSwitch")}}(this));return this.$off.on("click.bootstrapSwitch",function(n){return function(t){return t.preventDefault(),t.stopPropagation(),n.state(!0),n.$element.trigger("focus.bootstrapSwitch")}}(this))},n.prototype._labelHandlers=function(){return this.$label.on({click:function(n){return n.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(n){return function(t){if(!n._dragStart&&!n.options.disabled&&!n.options.readonly)return t.preventDefault(),t.stopPropagation(),n._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(n.$container.css("margin-left"),10),n.options.animate&&n.$wrapper.removeClass(n.options.baseClass+"-animate"),n.$element.trigger("focus.bootstrapSwitch")}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(n){return function(t){var i;if(n._dragStart!=null)return(t.preventDefault(),i=(t.pageX||t.originalEvent.touches[0].pageX)-n._dragStart,i<-n._handleWidth||i>0)?void 0:(n._dragEnd=i,n.$container.css("margin-left",n._dragEnd+"px"))}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(n){return function(t){var i;if(n._dragStart)return t.preventDefault(),n.options.animate&&n.$wrapper.addClass(n.options.baseClass+"-animate"),n._dragEnd?(i=n._dragEnd>-(n._handleWidth/2),n._dragEnd=!1,n.state(n.options.inverse?!i:i)):n.state(!n.options.state),n._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(n){return function(){return n.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},n.prototype._externalLabelHandler=function(){var n=this.$element.closest("label");return n.on("click",function(t){return function(i){return i.preventDefault(),i.stopImmediatePropagation(),i.target===n[0]?t.toggleState():void 0}}(this))},n.prototype._formHandler=function(){var n;if(n=this.$element.closest("form"),!n.data("bootstrap-switch"))return n.on("reset.bootstrapSwitch",function(){return i.setTimeout(function(){return n.find("input").filter(function(){return t(this).data("bootstrap-switch")}).each(function(){return t(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},n.prototype._getClasses=function(n){var u,r,i,f;if(!t.isArray(n))return[this.options.baseClass+"-"+n];for(r=[],i=0,f=n.length;i<f;i++)u=n[i],r.push(this.options.baseClass+"-"+u);return r},n}(),t.fn.bootstrapSwitch=function(){var f,i,u;return i=arguments[0],f=2<=arguments.length?n.call(arguments,1):[],u=this,this.each(function(){var e,n;return e=t(this),n=e.data("bootstrap-switch"),n||e.data("bootstrap-switch",n=new r(this,i)),typeof i=="string"?u=n[i].apply(n,f):void 0}),u},t.fn.bootstrapSwitch.Constructor=r,t.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}})(window.jQuery,window)}.call(this),function(n){var t=function(){function n(){}return n.prototype.securitySetting=function(n,t,i,r){var u=this;u.setAddButtons(n,r,i);u.setUpdateButtons(t,r,i)},n.prototype.setActivateButtons=function(n,t,i){var r=i.find('[data-id="activateButton"]'),u,f;n!=undefined&&n.length>0?(f=n.indexOf("-"),u=t?n.substring(f+1).trim():n.substring(0,f).trim(),r.prop("disabled",!1)):(u=t?"Deactivate":"Activate",r.prop("disabled",!0));r.text(u)},n.prototype.setAddButtons=function(n,t,i){var e=t.parent().parent().parent().find("[data-id='page_ribbon']"),u=e.find('[data-id="addButton"]'),f=e.find('[data-id="addAndCloseButton"]'),r;n!=undefined&&i?(u.removeClass("hidden"),r='<i class="fa fa-floppy-o">&nbsp<\/i>'+n,u.html(r),f.removeClass("hidden"),r='&nbsp<i class="fa fa-check" >&nbsp<\/i><span class="hide-when-small">'+n+" & Close<\/span>",f.html(r)):(u.addClass("hidden"),f.addClass("hidden"))},n.prototype.setUpdateButtons=function(n,t,i){var e=t.parent().parent().parent().find("[data-id='page_ribbon']"),u=e.find('[data-id="updateButton"]'),f=e.find('[data-id="updateAndCloseButton"]'),r;n==undefined||i?(u.addClass("hidden"),f.addClass("hidden")):(u.removeClass("hidden"),r='<i class="fa fa-floppy-o">&nbsp<\/i><span class="hide-when-small">'+n+"<\/span>",u.html(r),f.removeClass("hidden"),r='&nbsp<i class="fa fa-check" >&nbsp<\/i><span class="hide-when-small">'+n+" & Close<\/span>",f.html(r))},n.prototype.SetRibbonSecurity=function(n,t,i,r,u,f){var h=f.parent().parent().parent().find(t),o=h.find(i),s=h.find(u),e;n!=undefined?(e='<i class="fa fa-floppy-o">&nbsp<\/i><span class="hide-when-small">'+n+"<\/span>",o.html(e),o.removeClass("hidden"),r&&(e='&nbsp<i class="fa fa-check" >&nbsp<\/i><span class="hide-when-small">'+n+" & Close<\/span>",s.html(e),s.removeClass("hidden"))):(o.addClass("hidden"),r&&s.addClass("hidden"))},n.prototype.SetObjectSecurity=function(n,t,i){var r=i.parent().parent().parent().find(t);n!=undefined?r.removeClass("hidden"):r.addClass("hidden")},n}();n.Settings=t}(Security||(Security={}));!function(n){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],n);else if("object"==typeof exports)n(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";n(jQuery,moment)}}(function(n,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var i=function(i,r){var e,o,s,k,y,d,b,u={},g=!0,l=!1,f=!1,nt=0,ot=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],vt=["days","months","years","decades"],wt=["top","bottom","auto"],bt=["left","right","auto"],kt=["default","top","bottom"],dt={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},st={},tt=function(n){var i,f,e,o,s,u=!1;return void 0!==t.tz&&void 0!==r.timeZone&&null!==r.timeZone&&""!==r.timeZone&&(u=!0),void 0===n||null===n?i=u?t().tz(r.timeZone).startOf("d"):t().startOf("d"):u?(f=t().tz(r.timeZone).utcOffset(),e=t(n,d,r.useStrict).utcOffset(),e!==f?(o=t().tz(r.timeZone).format("Z"),s=t(n,d,r.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+o,i=t(s,d,r.useStrict).tz(r.timeZone)):i=t(n,d,r.useStrict).tz(r.timeZone)):i=t(n,d,r.useStrict),i},p=function(n){if("string"!=typeof n||n.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(n){case"y":return-1!==y.indexOf("Y");case"M":return-1!==y.indexOf("M");case"d":return-1!==y.toLowerCase().indexOf("d");case"h":case"H":return-1!==y.toLowerCase().indexOf("h");case"m":return-1!==y.indexOf("m");case"s":return-1!==y.indexOf("s");default:return!1}},ht=function(){return p("h")||p("m")||p("s")},ct=function(){return p("y")||p("M")||p("d")},fi=function(){var t=n("<thead>").append(n("<tr>").append(n("<th>").addClass("prev").attr("data-action","previous").append(n("<span>").addClass(r.icons.previous))).append(n("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",r.calendarWeeks?"6":"5")).append(n("<th>").addClass("next").attr("data-action","next").append(n("<span>").addClass(r.icons.next)))),i=n("<tbody>").append(n("<tr>").append(n("<td>").attr("colspan",r.calendarWeeks?"8":"7")));return[n("<div>").addClass("datepicker-days").append(n("<table>").addClass("table-condensed").append(t).append(n("<tbody>"))),n("<div>").addClass("datepicker-months").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),n("<div>").addClass("datepicker-years").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),n("<div>").addClass("datepicker-decades").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},ei=function(){var t=n("<tr>"),i=n("<tr>"),u=n("<tr>");return p("h")&&(t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(n("<span>").addClass(r.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:r.tooltips.pickHour}).attr("data-action","showHours"))),u.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(n("<span>").addClass(r.icons.down))))),p("m")&&(p("h")&&(t.append(n("<td>").addClass("separator")),i.append(n("<td>").addClass("separator").html(":")),u.append(n("<td>").addClass("separator"))),t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(n("<span>").addClass(r.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:r.tooltips.pickMinute}).attr("data-action","showMinutes"))),u.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(n("<span>").addClass(r.icons.down))))),p("s")&&(p("m")&&(t.append(n("<td>").addClass("separator")),i.append(n("<td>").addClass("separator").html(":")),u.append(n("<td>").addClass("separator"))),t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(n("<span>").addClass(r.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:r.tooltips.pickSecond}).attr("data-action","showSeconds"))),u.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(n("<span>").addClass(r.icons.down))))),k||(t.append(n("<td>").addClass("separator")),i.append(n("<td>").append(n("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:r.tooltips.togglePeriod}))),u.append(n("<td>").addClass("separator"))),n("<div>").addClass("timepicker-picker").append(n("<table>").addClass("table-condensed").append([t,i,u]))},oi=function(){var i=n("<div>").addClass("timepicker-hours").append(n("<table>").addClass("table-condensed")),r=n("<div>").addClass("timepicker-minutes").append(n("<table>").addClass("table-condensed")),u=n("<div>").addClass("timepicker-seconds").append(n("<table>").addClass("table-condensed")),t=[ei()];return p("h")&&t.push(i),p("m")&&t.push(r),p("s")&&t.push(u),t},si=function(){var t=[];return r.showTodayButton&&t.push(n("<td>").append(n("<a>").attr({"data-action":"today",title:r.tooltips.today}).append(n("<span>").addClass(r.icons.today)))),!r.sideBySide&&ct()&&ht()&&t.push(n("<td>").append(n("<a>").attr({"data-action":"togglePicker",title:r.tooltips.selectTime}).append(n("<span>").addClass(r.icons.time)))),r.showClear&&t.push(n("<td>").append(n("<a>").attr({"data-action":"clear",title:r.tooltips.clear}).append(n("<span>").addClass(r.icons.clear)))),r.showClose&&t.push(n("<td>").append(n("<a>").attr({"data-action":"close",title:r.tooltips.close}).append(n("<span>").addClass(r.icons.close)))),n("<table>").addClass("table-condensed").append(n("<tbody>").append(n("<tr>").append(t)))},hi=function(){var t=n("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),f=n("<div>").addClass("datepicker").append(fi()),e=n("<div>").addClass("timepicker").append(oi()),i=n("<ul>").addClass("list-unstyled"),u=n("<li>").addClass("picker-switch"+(r.collapse?" accordion-toggle":"")).append(si());return r.inline&&t.removeClass("dropdown-menu"),k&&t.addClass("usetwentyfour"),p("s")&&!k&&t.addClass("wider"),r.sideBySide&&ct()&&ht()?(t.addClass("timepicker-sbs"),"top"===r.toolbarPlacement&&t.append(u),t.append(n("<div>").addClass("row").append(f.addClass("col-md-6")).append(e.addClass("col-md-6"))),"bottom"===r.toolbarPlacement&&t.append(u),t):("top"===r.toolbarPlacement&&i.append(u),ct()&&i.append(n("<li>").addClass(r.collapse&&ht()?"collapse in":"").append(f)),"default"===r.toolbarPlacement&&i.append(u),ht()&&i.append(n("<li>").addClass(r.collapse&&ct()?"collapse":"").append(e)),"bottom"===r.toolbarPlacement&&i.append(u),t.append(i))},ci=function(){var t,u={};return t=i.is("input")||r.inline?i.data():i.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(u=n.extend(!0,u,t.dateOptions)),n.each(r,function(n){var i="date"+n.charAt(0).toUpperCase()+n.slice(1);void 0!==t[i]&&(u[n]=t[i])}),u},yt=function(){var t,o=(l||i).position(),s=(l||i).offset(),u=r.widgetPositioning.vertical,e=r.widgetPositioning.horizontal;if(r.widgetParent)t=r.widgetParent.append(f);else if(i.is("input"))t=i.after(f).parent();else{if(r.inline)return void(t=i.append(f));t=i;i.children().first().after(f)}if("auto"===u&&(u=s.top+1.5*f.height()>=n(window).height()+n(window).scrollTop()&&f.height()+i.outerHeight()<s.top?"top":"bottom"),"auto"===e&&(e=t.width()<s.left+f.outerWidth()/2&&s.left+f.outerWidth()>n(window).width()?"right":"left"),"top"===u?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===e?f.addClass("pull-right"):f.removeClass("pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===n(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===u?"auto":o.top+i.outerHeight(),bottom:"top"===u?o.top+i.outerHeight():"auto",left:"left"===e?t===i?0:o.left:"auto",right:"left"===e?"auto":t.outerWidth()-i.outerWidth()-(t===i?0:o.left)})},rt=function(n){"dp.change"===n.type&&(n.date&&n.date.isSame(n.oldDate)||!n.date&&!n.oldDate)||i.trigger(n)},ut=function(n){"y"===n&&(n="YYYY");rt({type:"dp.update",change:n,viewDate:o.clone()})},ft=function(n){f&&(n&&(b=Math.max(nt,Math.min(3,b+n))),f.find(".datepicker > div").hide().filter(".datepicker-"+ot[b].clsName).show())},li=function(){var t=n("<tr>"),i=o.clone().startOf("w").startOf("d");for(r.calendarWeeks===!0&&t.append(n("<th>").addClass("cw").text("#"));i.isBefore(o.clone().endOf("w"));)t.append(n("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");f.find(".datepicker-days thead").append(t)},ai=function(n){return r.disabledDates[n.format("YYYY-MM-DD")]===!0},vi=function(n){return r.enabledDates[n.format("YYYY-MM-DD")]===!0},yi=function(n){return r.disabledHours[n.format("H")]===!0},pi=function(n){return r.enabledHours[n.format("H")]===!0},c=function(t,i){if(!t.isValid()||r.disabledDates&&"d"===i&&ai(t)||r.enabledDates&&"d"===i&&!vi(t)||r.minDate&&t.isBefore(r.minDate,i)||r.maxDate&&t.isAfter(r.maxDate,i)||r.daysOfWeekDisabled&&"d"===i&&-1!==r.daysOfWeekDisabled.indexOf(t.day())||r.disabledHours&&("h"===i||"m"===i||"s"===i)&&yi(t)||r.enabledHours&&("h"===i||"m"===i||"s"===i)&&!pi(t))return!1;if(r.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var u=!1;if(n.each(r.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return(u=!0,!1)}),u)return!1}return!0},wi=function(){for(var i=[],t=o.clone().startOf("y").startOf("d");t.isSame(o,"y");)i.push(n("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");f.find(".datepicker-months td").empty().append(i)},bi=function(){var i=f.find(".datepicker-months"),t=i.find("th"),u=i.find("tbody").find("span");t.eq(0).find("span").attr("title",r.tooltips.prevYear);t.eq(1).attr("title",r.tooltips.selectYear);t.eq(2).find("span").attr("title",r.tooltips.nextYear);i.find(".disabled").removeClass("disabled");c(o.clone().subtract(1,"y"),"y")||t.eq(0).addClass("disabled");t.eq(1).text(o.year());c(o.clone().add(1,"y"),"y")||t.eq(2).addClass("disabled");u.removeClass("active");e.isSame(o,"y")&&!g&&u.eq(e.month()).addClass("active");u.each(function(t){c(o.clone().month(t),"M")||n(this).addClass("disabled")})},ki=function(){var i=f.find(".datepicker-years"),t=i.find("th"),n=o.clone().subtract(5,"y"),u=o.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",r.tooltips.prevDecade),t.eq(1).attr("title",r.tooltips.selectDecade),t.eq(2).find("span").attr("title",r.tooltips.nextDecade),i.find(".disabled").removeClass("disabled"),r.minDate&&r.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+u.year()),r.maxDate&&r.maxDate.isBefore(u,"y")&&t.eq(2).addClass("disabled");!n.isAfter(u,"y");)s+='<span data-action="selectYear" class="year'+(n.isSame(e,"y")&&!g?" active":"")+(c(n,"y")?"":" disabled")+'">'+n.year()+"<\/span>",n.add(1,"y");i.find("td").html(s)},di=function(){var u=f.find(".datepicker-decades"),i=u.find("th"),n=t({y:o.year()-o.year()%100-1}),s=n.clone().add(100,"y"),l=n.clone(),h="";for(i.eq(0).find("span").attr("title",r.tooltips.prevCentury),i.eq(2).find("span").attr("title",r.tooltips.nextCentury),u.find(".disabled").removeClass("disabled"),(n.isSame(t({y:1900}))||r.minDate&&r.minDate.isAfter(n,"y"))&&i.eq(0).addClass("disabled"),i.eq(1).text(n.year()+"-"+s.year()),(n.isSame(t({y:2e3}))||r.maxDate&&r.maxDate.isBefore(s,"y"))&&i.eq(2).addClass("disabled");!n.isAfter(s,"y");)h+='<span data-action="selectDecade" class="decade'+(n.isSame(e,"y")?" active":"")+(c(n,"y")?"":" disabled")+'" data-selection="'+(n.year()+6)+'">'+(n.year()+1)+" - "+(n.year()+12)+"<\/span>",n.add(12,"y");h+="<span><\/span><span><\/span><span><\/span>";u.find("td").html(h);i.eq(1).text(l.year()+1+"-"+n.year())},et=function(){var t,s,i,h,l=f.find(".datepicker-days"),u=l.find("th"),a=[];if(ct()){for(u.eq(0).find("span").attr("title",r.tooltips.prevMonth),u.eq(1).attr("title",r.tooltips.selectMonth),u.eq(2).find("span").attr("title",r.tooltips.nextMonth),l.find(".disabled").removeClass("disabled"),u.eq(1).text(o.format(r.dayViewHeaderFormat)),c(o.clone().subtract(1,"M"),"M")||u.eq(0).addClass("disabled"),c(o.clone().add(1,"M"),"M")||u.eq(2).addClass("disabled"),t=o.clone().startOf("M").startOf("w").startOf("d"),h=0;42>h;h++)0===t.weekday()&&(s=n("<tr>"),r.calendarWeeks&&s.append('<td class="cw">'+t.week()+"<\/td>"),a.push(s)),i="",t.isBefore(o,"M")&&(i+=" old"),t.isAfter(o,"M")&&(i+=" new"),t.isSame(e,"d")&&!g&&(i+=" active"),c(t,"d")||(i+=" disabled"),t.isSame(tt(),"d")&&(i+=" today"),(0===t.day()||6===t.day())&&(i+=" weekend"),s.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+i+'">'+t.date()+"<\/td>"),t.add(1,"d");l.find("tbody").empty().append(a);bi();ki();di()}},gi=function(){var u=f.find(".timepicker-hours table"),t=o.clone().startOf("d"),r=[],i=n("<tr>");for(o.hour()>11&&!k&&t.hour(12);t.isSame(o,"d")&&(k||o.hour()<12&&t.hour()<12||o.hour()>11);)t.hour()%4==0&&(i=n("<tr>"),r.push(i)),i.append('<td data-action="selectHour" class="hour'+(c(t,"h")?"":" disabled")+'">'+t.format(k?"HH":"hh")+"<\/td>"),t.add(1,"h");u.empty().append(r)},nr=function(){for(var s=f.find(".timepicker-minutes table"),t=o.clone().startOf("h"),u=[],i=n("<tr>"),e=1===r.stepping?5:r.stepping;o.isSame(t,"h");)t.minute()%(4*e)==0&&(i=n("<tr>"),u.push(i)),i.append('<td data-action="selectMinute" class="minute'+(c(t,"m")?"":" disabled")+'">'+t.format("mm")+"<\/td>"),t.add(e,"m");s.empty().append(u)},tr=function(){for(var u=f.find(".timepicker-seconds table"),t=o.clone().startOf("m"),r=[],i=n("<tr>");o.isSame(t,"m");)t.second()%20==0&&(i=n("<tr>"),r.push(i)),i.append('<td data-action="selectSecond" class="second'+(c(t,"s")?"":" disabled")+'">'+t.format("ss")+"<\/td>"),t.add(5,"s");u.empty().append(r)},ir=function(){var n,i,t=f.find(".timepicker span[data-time-component]");k||(n=f.find(".timepicker [data-action=togglePeriod]"),i=e.clone().add(e.hours()>=12?-12:12,"h"),n.text(e.format("A")),c(i,"h")?n.removeClass("disabled"):n.addClass("disabled"));t.filter("[data-time-component=hours]").text(e.format(k?"HH":"hh"));t.filter("[data-time-component=minutes]").text(e.format("mm"));t.filter("[data-time-component=seconds]").text(e.format("ss"));gi();nr();tr()},a=function(){f&&(et(),ir())},h=function(n){var t=g?null:e;return n?(n=n.clone().locale(r.locale),1!==r.stepping&&n.minutes(Math.round(n.minutes()/r.stepping)*r.stepping%60).seconds(0),void(c(n)?(e=n,o=e.clone(),s.val(e.format(y)),i.data("date",e.format(y)),g=!1,a(),rt({type:"dp.change",date:e.clone(),oldDate:t})):(r.keepInvalid||s.val(g?"":e.format(y)),rt({type:"dp.error",date:n})))):(g=!0,s.val(""),i.data("date",""),rt({type:"dp.change",date:!1,oldDate:t}),void a())},v=function(){var t=!1;return f?(f.find(".collapse").each(function(){var i=n(this).data("collapse");return i&&i.transitioning?(t=!0,!1):!0}),t?u:(l&&l.hasClass("btn")&&l.toggleClass("active"),f.hide(),n(window).off("resize",yt),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,rt({type:"dp.hide",date:e.clone()}),s.blur(),u)):u},gt=function(){h(null)},lt={next:function(){var n=ot[b].navFnc;o.add(ot[b].navStep,n);et();ut(n)},previous:function(){var n=ot[b].navFnc;o.subtract(ot[b].navStep,n);et();ut(n)},pickerSwitch:function(){ft(1)},selectMonth:function(t){var i=n(t.target).closest("tbody").find("span").index(n(t.target));o.month(i);b===nt?(h(e.clone().year(o.year()).month(o.month())),r.inline||v()):(ft(-1),et());ut("M")},selectYear:function(t){var i=parseInt(n(t.target).text(),10)||0;o.year(i);b===nt?(h(e.clone().year(o.year())),r.inline||v()):(ft(-1),et());ut("YYYY")},selectDecade:function(t){var i=parseInt(n(t.target).data("selection"),10)||0;o.year(i);b===nt?(h(e.clone().year(o.year())),r.inline||v()):(ft(-1),et());ut("YYYY")},selectDay:function(t){var i=o.clone();n(t.target).is(".old")&&i.subtract(1,"M");n(t.target).is(".new")&&i.add(1,"M");h(i.date(parseInt(n(t.target).text(),10)));ht()||r.keepOpen||r.inline||v()},incrementHours:function(){var n=e.clone().add(1,"h");c(n,"h")&&h(n)},incrementMinutes:function(){var n=e.clone().add(r.stepping,"m");c(n,"m")&&h(n)},incrementSeconds:function(){var n=e.clone().add(1,"s");c(n,"s")&&h(n)},decrementHours:function(){var n=e.clone().subtract(1,"h");c(n,"h")&&h(n)},decrementMinutes:function(){var n=e.clone().subtract(r.stepping,"m");c(n,"m")&&h(n)},decrementSeconds:function(){var n=e.clone().subtract(1,"s");c(n,"s")&&h(n)},togglePeriod:function(){h(e.clone().add(e.hours()>=12?-12:12,"h"))},togglePicker:function(t){var f,u=n(t.target),e=u.closest("ul"),i=e.find(".in"),o=e.find(".collapse:not(.in)");if(i&&i.length){if(f=i.data("collapse"),f&&f.transitioning)return;i.collapse?(i.collapse("hide"),o.collapse("show")):(i.removeClass("in"),o.addClass("in"));u.is("span")?u.toggleClass(r.icons.time+" "+r.icons.date):u.find("span").toggleClass(r.icons.time+" "+r.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide();f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var i=parseInt(n(t.target).text(),10);k||(e.hours()>=12?12!==i&&(i+=12):12===i&&(i=0));h(e.clone().hours(i));lt.showPicker.call(u)},selectMinute:function(t){h(e.clone().minutes(parseInt(n(t.target).text(),10)));lt.showPicker.call(u)},selectSecond:function(t){h(e.clone().seconds(parseInt(n(t.target).text(),10)));lt.showPicker.call(u)},clear:gt,today:function(){var n=tt();c(n,"d")&&h(n)},close:v},rr=function(t){return n(t.currentTarget).is(".disabled")?!1:(lt[n(t.currentTarget).data("action")].apply(u,arguments),!1)},w=function(){var t,i={year:function(n){return n.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(n){return n.date(1).hours(0).seconds(0).minutes(0)},day:function(n){return n.hours(0).seconds(0).minutes(0)},hour:function(n){return n.seconds(0).minutes(0)},minute:function(n){return n.seconds(0)}};return s.prop("disabled")||!r.ignoreReadonly&&s.prop("readonly")||f?u:(void 0!==s.val()&&0!==s.val().trim().length?h(it(s.val().trim())):r.useCurrent&&g&&(s.is("input")&&0===s.val().trim().length||r.inline)&&(t=tt(),"string"==typeof r.useCurrent&&(t=i[r.useCurrent](t)),h(t)),f=hi(),li(),wi(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),a(),ft(),n(window).on("resize",yt),f.on("click","[data-action]",rr),f.on("mousedown",!1),l&&l.hasClass("btn")&&l.toggleClass("active"),f.show(),yt(),r.focusOnShow&&!s.is(":focus")&&s.focus(),rt({type:"dp.show"}),u)},pt=function(){return f?v():w()},it=function(n){return n=void 0===r.parseInputDate?t.isMoment(n)||n instanceof Date?t(n):tt(n):r.parseInputDate(n),n.locale(r.locale),n},ni=function(n){var t,e,i,o,s=null,c=[],l={},h=n.which,a="p";st[h]=a;for(t in st)st.hasOwnProperty(t)&&st[t]===a&&(c.push(t),parseInt(t,10)!==h&&(l[t]=!0));for(t in r.keyBinds)if(r.keyBinds.hasOwnProperty(t)&&"function"==typeof r.keyBinds[t]&&(i=t.split(" "),i.length===c.length&&dt[h]===i[i.length-1])){for(o=!0,e=i.length-2;e>=0;e--)if(!(dt[i[e]]in l)){o=!1;break}if(o){s=r.keyBinds[t];break}}s&&(s.call(u,f),n.stopPropagation(),n.preventDefault())},ti=function(n){st[n.which]="r";n.stopPropagation();n.preventDefault()},ii=function(t){var i=n(t.target).val().trim(),r=i?it(i):null;return h(r),t.stopImmediatePropagation(),!1},ur=function(){s.on({change:ii,blur:r.debug?"":v,keydown:ni,keyup:ti,focus:r.allowInputToggle?w:""});i.is("input")?s.on({focus:w}):l&&(l.on("click",pt),l.on("mousedown",!1))},fr=function(){s.off({change:ii,blur:blur,keydown:ni,keyup:ti,focus:r.allowInputToggle?v:""});i.is("input")?s.off({focus:w}):l&&(l.off("click",pt),l.off("mousedown",!1))},ri=function(t){var i={};return n.each(t,function(){var n=it(this);n.isValid()&&(i[n.format("YYYY-MM-DD")]=!0)}),Object.keys(i).length?i:!1},ui=function(t){var i={};return n.each(t,function(){i[this]=!0}),Object.keys(i).length?i:!1},at=function(){var n=r.format||"L LT";y=n.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(n){var t=e.localeData().longDateFormat(n)||n;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(n){return e.localeData().longDateFormat(n)||n})});d=r.extraFormats?r.extraFormats.slice():[];d.indexOf(n)<0&&d.indexOf(y)<0&&d.push(y);k=y.toLowerCase().indexOf("a")<1&&y.replace(/\[.*?\]/g,"").indexOf("h")<1;p("y")&&(nt=2);p("M")&&(nt=1);p("d")&&(nt=0);b=Math.max(nt,b);g||h(e)};if(u.destroy=function(){v();fr();i.removeData("DateTimePicker");i.removeData("date")},u.toggle=pt,u.show=w,u.hide=v,u.disable=function(){return v(),l&&l.hasClass("btn")&&l.addClass("disabled"),s.prop("disabled",!0),u},u.enable=function(){return l&&l.hasClass("btn")&&l.removeClass("disabled"),s.prop("disabled",!1),u},u.ignoreReadonly=function(n){if(0===arguments.length)return r.ignoreReadonly;if("boolean"!=typeof n)throw new TypeError("ignoreReadonly () expects a boolean parameter");return r.ignoreReadonly=n,u},u.options=function(t){if(0===arguments.length)return n.extend(!0,{},r);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return n.extend(!0,r,t),n.each(r,function(n,t){if(void 0===u[n])throw new TypeError("option "+n+" is not recognized!");u[n](t)}),u},u.date=function(n){if(0===arguments.length)return g?null:e.clone();if(!(null===n||"string"==typeof n||t.isMoment(n)||n instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return h(null===n?null:it(n)),u},u.format=function(n){if(0===arguments.length)return r.format;if("string"!=typeof n&&("boolean"!=typeof n||n!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+n);return r.format=n,y&&at(),u},u.timeZone=function(n){return 0===arguments.length?r.timeZone:(r.timeZone=n,u)},u.dayViewHeaderFormat=function(n){if(0===arguments.length)return r.dayViewHeaderFormat;if("string"!=typeof n)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return r.dayViewHeaderFormat=n,u},u.extraFormats=function(n){if(0===arguments.length)return r.extraFormats;if(n!==!1&&!(n instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return r.extraFormats=n,d&&at(),u},u.disabledDates=function(t){if(0===arguments.length)return r.disabledDates?n.extend({},r.disabledDates):r.disabledDates;if(!t)return r.disabledDates=!1,a(),u;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return r.disabledDates=ri(t),r.enabledDates=!1,a(),u},u.enabledDates=function(t){if(0===arguments.length)return r.enabledDates?n.extend({},r.enabledDates):r.enabledDates;if(!t)return r.enabledDates=!1,a(),u;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return r.enabledDates=ri(t),r.disabledDates=!1,a(),u},u.daysOfWeekDisabled=function(n){if(0===arguments.length)return r.daysOfWeekDisabled.splice(0);if("boolean"==typeof n&&!n)return r.daysOfWeekDisabled=!1,a(),u;if(!(n instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(r.daysOfWeekDisabled=n.reduce(function(n,t){return t=parseInt(t,10),t>6||0>t||isNaN(t)?n:(-1===n.indexOf(t)&&n.push(t),n)},[]).sort(),r.useCurrent&&!r.keepInvalid){for(var t=0;!c(e,"d");){if(e.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}h(e)}return a(),u},u.maxDate=function(n){if(0===arguments.length)return r.maxDate?r.maxDate.clone():r.maxDate;if("boolean"==typeof n&&n===!1)return r.maxDate=!1,a(),u;"string"==typeof n&&("now"===n||"moment"===n)&&(n=tt());var t=it(n);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+n);if(r.minDate&&t.isBefore(r.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(y));return r.maxDate=t,r.useCurrent&&!r.keepInvalid&&e.isAfter(n)&&h(r.maxDate),o.isAfter(t)&&(o=t.clone().subtract(r.stepping,"m")),a(),u},u.minDate=function(n){if(0===arguments.length)return r.minDate?r.minDate.clone():r.minDate;if("boolean"==typeof n&&n===!1)return r.minDate=!1,a(),u;"string"==typeof n&&("now"===n||"moment"===n)&&(n=tt());var t=it(n);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+n);if(r.maxDate&&t.isAfter(r.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(y));return r.minDate=t,r.useCurrent&&!r.keepInvalid&&e.isBefore(n)&&h(r.minDate),o.isBefore(t)&&(o=t.clone().add(r.stepping,"m")),a(),u},u.defaultDate=function(n){if(0===arguments.length)return r.defaultDate?r.defaultDate.clone():r.defaultDate;if(!n)return r.defaultDate=!1,u;"string"==typeof n&&("now"===n||"moment"===n)&&(n=tt());var t=it(n);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+n);if(!c(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return r.defaultDate=t,(r.defaultDate&&r.inline||""===s.val().trim())&&h(r.defaultDate),u},u.locale=function(n){if(0===arguments.length)return r.locale;if(!t.localeData(n))throw new TypeError("locale() locale "+n+" is not loaded from moment locales!");return r.locale=n,e.locale(r.locale),o.locale(r.locale),y&&at(),f&&(v(),w()),u},u.stepping=function(n){return 0===arguments.length?r.stepping:(n=parseInt(n,10),(isNaN(n)||1>n)&&(n=1),r.stepping=n,u)},u.useCurrent=function(n){var t=["year","month","day","hour","minute"];if(0===arguments.length)return r.useCurrent;if("boolean"!=typeof n&&"string"!=typeof n)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof n&&-1===t.indexOf(n.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return r.useCurrent=n,u},u.collapse=function(n){if(0===arguments.length)return r.collapse;if("boolean"!=typeof n)throw new TypeError("collapse() expects a boolean parameter");return r.collapse===n?u:(r.collapse=n,f&&(v(),w()),u)},u.icons=function(t){if(0===arguments.length)return n.extend({},r.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return n.extend(r.icons,t),f&&(v(),w()),u},u.tooltips=function(t){if(0===arguments.length)return n.extend({},r.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return n.extend(r.tooltips,t),f&&(v(),w()),u},u.useStrict=function(n){if(0===arguments.length)return r.useStrict;if("boolean"!=typeof n)throw new TypeError("useStrict() expects a boolean parameter");return r.useStrict=n,u},u.sideBySide=function(n){if(0===arguments.length)return r.sideBySide;if("boolean"!=typeof n)throw new TypeError("sideBySide() expects a boolean parameter");return r.sideBySide=n,f&&(v(),w()),u},u.viewMode=function(n){if(0===arguments.length)return r.viewMode;if("string"!=typeof n)throw new TypeError("viewMode() expects a string parameter");if(-1===vt.indexOf(n))throw new TypeError("viewMode() parameter must be one of ("+vt.join(", ")+") value");return r.viewMode=n,b=Math.max(vt.indexOf(n),nt),ft(),u},u.toolbarPlacement=function(n){if(0===arguments.length)return r.toolbarPlacement;if("string"!=typeof n)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===kt.indexOf(n))throw new TypeError("toolbarPlacement() parameter must be one of ("+kt.join(", ")+") value");return r.toolbarPlacement=n,f&&(v(),w()),u},u.widgetPositioning=function(t){if(0===arguments.length)return n.extend({},r.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===bt.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+bt.join(", ")+")");r.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===wt.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+wt.join(", ")+")");r.widgetPositioning.vertical=t.vertical}return a(),u},u.calendarWeeks=function(n){if(0===arguments.length)return r.calendarWeeks;if("boolean"!=typeof n)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return r.calendarWeeks=n,a(),u},u.showTodayButton=function(n){if(0===arguments.length)return r.showTodayButton;if("boolean"!=typeof n)throw new TypeError("showTodayButton() expects a boolean parameter");return r.showTodayButton=n,f&&(v(),w()),u},u.showClear=function(n){if(0===arguments.length)return r.showClear;if("boolean"!=typeof n)throw new TypeError("showClear() expects a boolean parameter");return r.showClear=n,f&&(v(),w()),u},u.widgetParent=function(t){if(0===arguments.length)return r.widgetParent;if("string"==typeof t&&(t=n(t)),null!==t&&"string"!=typeof t&&!(t instanceof n))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return r.widgetParent=t,f&&(v(),w()),u},u.keepOpen=function(n){if(0===arguments.length)return r.keepOpen;if("boolean"!=typeof n)throw new TypeError("keepOpen() expects a boolean parameter");return r.keepOpen=n,u},u.focusOnShow=function(n){if(0===arguments.length)return r.focusOnShow;if("boolean"!=typeof n)throw new TypeError("focusOnShow() expects a boolean parameter");return r.focusOnShow=n,u},u.inline=function(n){if(0===arguments.length)return r.inline;if("boolean"!=typeof n)throw new TypeError("inline() expects a boolean parameter");return r.inline=n,u},u.clear=function(){return gt(),u},u.keyBinds=function(n){return r.keyBinds=n,u},u.getMoment=function(n){return tt(n)},u.debug=function(n){if("boolean"!=typeof n)throw new TypeError("debug() expects a boolean parameter");return r.debug=n,u},u.allowInputToggle=function(n){if(0===arguments.length)return r.allowInputToggle;if("boolean"!=typeof n)throw new TypeError("allowInputToggle() expects a boolean parameter");return r.allowInputToggle=n,u},u.showClose=function(n){if(0===arguments.length)return r.showClose;if("boolean"!=typeof n)throw new TypeError("showClose() expects a boolean parameter");return r.showClose=n,u},u.keepInvalid=function(n){if(0===arguments.length)return r.keepInvalid;if("boolean"!=typeof n)throw new TypeError("keepInvalid() expects a boolean parameter");return r.keepInvalid=n,u},u.datepickerInput=function(n){if(0===arguments.length)return r.datepickerInput;if("string"!=typeof n)throw new TypeError("datepickerInput() expects a string parameter");return r.datepickerInput=n,u},u.parseInputDate=function(n){if(0===arguments.length)return r.parseInputDate;if("function"!=typeof n)throw new TypeError("parseInputDate() sholud be as function");return r.parseInputDate=n,u},u.disabledTimeIntervals=function(t){if(0===arguments.length)return r.disabledTimeIntervals?n.extend({},r.disabledTimeIntervals):r.disabledTimeIntervals;if(!t)return r.disabledTimeIntervals=!1,a(),u;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return r.disabledTimeIntervals=t,a(),u},u.disabledHours=function(t){if(0===arguments.length)return r.disabledHours?n.extend({},r.disabledHours):r.disabledHours;if(!t)return r.disabledHours=!1,a(),u;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(r.disabledHours=ui(t),r.enabledHours=!1,r.useCurrent&&!r.keepInvalid){for(var i=0;!c(e,"h");){if(e.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}h(e)}return a(),u},u.enabledHours=function(t){if(0===arguments.length)return r.enabledHours?n.extend({},r.enabledHours):r.enabledHours;if(!t)return r.enabledHours=!1,a(),u;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(r.enabledHours=ui(t),r.disabledHours=!1,r.useCurrent&&!r.keepInvalid){for(var i=0;!c(e,"h");){if(e.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}h(e)}return a(),u},u.viewDate=function(n){if(0===arguments.length)return o.clone();if(!n)return o=e.clone(),u;if(!("string"==typeof n||t.isMoment(n)||n instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return o=it(n),ut(),u},i.is("input"))s=i;else if(s=i.find(r.datepickerInput),0===s.size())s=i.find("input");else if(!s.is("input"))throw new Error('CSS class "'+r.datepickerInput+'" cannot be applied to non input element');if(i.hasClass("input-group")&&(l=0===i.find(".datepickerbutton").size()?i.find(".input-group-addon"):i.find(".datepickerbutton")),!r.inline&&!s.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e=tt(),o=e.clone(),n.extend(!0,r,ci()),u.options(r),at(),ur(),s.prop("disabled")&&u.disable(),s.is("input")&&0!==s.val().trim().length?h(it(s.val().trim())):r.defaultDate&&void 0===s.attr("placeholder")&&h(r.defaultDate),r.inline&&w(),u};n.fn.datetimepicker=function(t){return this.each(function(){var r=n(this);r.data("DateTimePicker")||(t=n.extend(!0,{},n.fn.datetimepicker.defaults,t),r.data("DateTimePicker",i(r,t)))})};n.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(n){if(!n)return void this.show();var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(n){n.find(".timepicker").is(":visible")&&n.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}})